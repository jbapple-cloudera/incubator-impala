<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: com.cloudera.impala.planner.AnalyticPlanner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.cloudera.impala.planner.AnalyticPlanner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for com.cloudera.impala.planner.AnalyticPlanner:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1WindowGroup.html">WindowGroup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a567379c294b9b83679a77758e296bf22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a567379c294b9b83679a77758e296bf22">AnalyticPlanner</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; stmtTupleIds, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1AnalyticInfo.html">AnalyticInfo</a> analyticInfo, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a> ctx)</td></tr>
<tr class="separator:a567379c294b9b83679a77758e296bf22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af587d92415e4c907f4d7923e5454ecc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#af587d92415e4c907f4d7923e5454ecc5">createSingleNodePlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> root, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; groupingExprs, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; inputPartitionExprs)  throws ImpalaException </td></tr>
<tr class="separator:af587d92415e4c907f4d7923e5454ecc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acc8a7a77fd98710c17b2bba335cf81a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#acc8a7a77fd98710c17b2bba335cf81a0">mergeSortGroups</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a> &gt; sortGroups)</td></tr>
<tr class="separator:acc8a7a77fd98710c17b2bba335cf81a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada6f570a14350827d094b4b9cf2c952"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#aada6f570a14350827d094b4b9cf2c952">mergePartitionGroups</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt; partitionGroups, int numNodes)</td></tr>
<tr class="separator:aada6f570a14350827d094b4b9cf2c952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad5e3a7476e1d0867ff147fcfa35988"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a7ad5e3a7476e1d0867ff147fcfa35988">computeInputPartitionExprs</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt; partitionGroups, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; groupingExprs, int numNodes, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; inputPartitionExprs)</td></tr>
<tr class="separator:a7ad5e3a7476e1d0867ff147fcfa35988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed9148363c244cea14339c72fb0d3b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a2ed9148363c244cea14339c72fb0d3b4">orderGroups</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt; partitionGroups)</td></tr>
<tr class="separator:a2ed9148363c244cea14339c72fb0d3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2476aecabc52f2598fe650a8243b927"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SortInfo.html">SortInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#aa2476aecabc52f2598fe650a8243b927">createSortInfo</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> input, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; sortExprs, List&lt; Boolean &gt; isAsc, List&lt; Boolean &gt; nullsFirst)</td></tr>
<tr class="separator:aa2476aecabc52f2598fe650a8243b927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95ef6156b7072c08c5adb4c9869b0fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#ad95ef6156b7072c08c5adb4c9869b0fe">createSortGroupPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> root, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a> sortGroup, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; partitionExprs)  throws ImpalaException </td></tr>
<tr class="separator:ad95ef6156b7072c08c5adb4c9869b0fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0650cf538f56f9c4c36227e70f80d9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#aa0650cf538f56f9c4c36227e70f80d9c">createNullMatchingEquals</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; exprs, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> inputTid, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExprSubstitutionMap.html">ExprSubstitutionMap</a> bufferedSmap)</td></tr>
<tr class="separator:aa0650cf538f56f9c4c36227e70f80d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87789bb6ddb150cb70c4dcda5c087b24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a87789bb6ddb150cb70c4dcda5c087b24">createNullMatchingEqualsAux</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; elements, int i, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> inputTid, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExprSubstitutionMap.html">ExprSubstitutionMap</a> bufferedSmap)</td></tr>
<tr class="separator:a87789bb6ddb150cb70c4dcda5c087b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4799168094cc62e35a7d54c840951e4a"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1WindowGroup.html">WindowGroup</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a4799168094cc62e35a7d54c840951e4a">collectWindowGroups</a> ()</td></tr>
<tr class="separator:a4799168094cc62e35a7d54c840951e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af48ffb66adeb49557fe09af9e7d05e69"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#af48ffb66adeb49557fe09af9e7d05e69">collectSortGroups</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1WindowGroup.html">WindowGroup</a> &gt; windowGroups)</td></tr>
<tr class="separator:af48ffb66adeb49557fe09af9e7d05e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0d961d0d1e9c4745b0f6f51f1e3d1c"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#adc0d961d0d1e9c4745b0f6f51f1e3d1c">collectPartitionGroups</a> (List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a> &gt; sortGroups)</td></tr>
<tr class="separator:adc0d961d0d1e9c4745b0f6f51f1e3d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a83d1a5374544dd279ef917831bb7a361"><td class="memItemLeft" align="right" valign="top">final List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a83d1a5374544dd279ef917831bb7a361">stmtTupleIds_</a></td></tr>
<tr class="separator:a83d1a5374544dd279ef917831bb7a361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b4aeaad644ed3db5e09aa57fd9f373"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1AnalyticInfo.html">AnalyticInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#aa5b4aeaad644ed3db5e09aa57fd9f373">analyticInfo_</a></td></tr>
<tr class="separator:aa5b4aeaad644ed3db5e09aa57fd9f373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bf180e8494a7b929f8c4e7fa1829e9"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#a69bf180e8494a7b929f8c4e7fa1829e9">analyzer_</a></td></tr>
<tr class="separator:a69bf180e8494a7b929f8c4e7fa1829e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe2ff7b11e2e784bdb6c7d5fa31ea63"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#aebe2ff7b11e2e784bdb6c7d5fa31ea63">ctx_</a></td></tr>
<tr class="separator:aebe2ff7b11e2e784bdb6c7d5fa31ea63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aef94913960307b278150568d0a7b9b36"><td class="memItemLeft" align="right" valign="top">static final Logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html#aef94913960307b278150568d0a7b9b36">LOG</a> = LoggerFactory.getLogger(AnalyticPlanner.class)</td></tr>
<tr class="separator:aef94913960307b278150568d0a7b9b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The analytic planner adds plan nodes to an existing plan tree in order to implement the AnalyticInfo of a given query stmt. The resulting plan reflects similarities among analytic exprs with respect to partitioning, ordering and windowing to reduce data exchanges and sorts (the exchanges and sorts are currently not minimal). The generated plan has the following structure: ... ( ( ( analytic node &lt;&ndash; group of analytic exprs with compatible window )+ &lt;&ndash; group of analytic exprs with compatible ordering sort node? )+ &lt;&ndash; group of analytic exprs with compatible partitioning hash exchange? )* &lt;&ndash; group of analytic exprs that have different partitioning input plan node ... </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00068">68</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a567379c294b9b83679a77758e296bf22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">com.cloudera.impala.planner.AnalyticPlanner.AnalyticPlanner </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>stmtTupleIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1AnalyticInfo.html">AnalyticInfo</a>&#160;</td>
          <td class="paramname"><em>analyticInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a>&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00083">83</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00079">com.cloudera.impala.planner.AnalyticPlanner.analyticInfo_</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00081">com.cloudera.impala.planner.AnalyticPlanner.ctx_</a>, <a class="el" href="AggregateInfoBase_8java_source.html#l00161">com.cloudera.impala.analysis.AggregateInfoBase.getOutputTupleId()</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00077">com.cloudera.impala.planner.AnalyticPlanner.stmtTupleIds_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adc0d961d0d1e9c4745b0f6f51f1e3d1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a>&gt; com.cloudera.impala.planner.AnalyticPlanner.collectPartitionGroups </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a> &gt;&#160;</td>
          <td class="paramname"><em>sortGroups</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extract a minimal set of PartitionGroups from sortGroups. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00812">812</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="af48ffb66adeb49557fe09af9e7d05e69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a>&gt; com.cloudera.impala.planner.AnalyticPlanner.collectSortGroups </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1WindowGroup.html">WindowGroup</a> &gt;&#160;</td>
          <td class="paramname"><em>windowGroups</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Partitions the windowGroups into SortGroups based on compatible order by exprs. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00732">732</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a4799168094cc62e35a7d54c840951e4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1WindowGroup.html">WindowGroup</a>&gt; com.cloudera.impala.planner.AnalyticPlanner.collectWindowGroups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extract a minimal set of WindowGroups from analyticExprs. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00603">603</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00079">com.cloudera.impala.planner.AnalyticPlanner.analyticInfo_</a>, <a class="el" href="AnalyticInfo_8java_source.html#l00056">com.cloudera.impala.analysis.AnalyticInfo.getAnalyticExprs()</a>, and <a class="el" href="AggregateInfoBase_8java_source.html#l00158">com.cloudera.impala.analysis.AggregateInfoBase.getOutputTupleDesc()</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ad5e3a7476e1d0867ff147fcfa35988"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.cloudera.impala.planner.AnalyticPlanner.computeInputPartitionExprs </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt;&#160;</td>
          <td class="paramname"><em>partitionGroups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>groupingExprs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>inputPartitionExprs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine the partition group that has the maximum intersection in terms of the estimated ndv of the partition exprs with groupingExprs. That partition group is placed at the front of partitionGroups, with its partition exprs reduced to the intersection, and the intersecting groupingExprs are returned in inputPartitionExprs. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00200">200</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="aa0650cf538f56f9c4c36227e70f80d9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEquals </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>exprs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a>&#160;</td>
          <td class="paramname"><em>inputTid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExprSubstitutionMap.html">ExprSubstitutionMap</a>&#160;</td>
          <td class="paramname"><em>bufferedSmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a predicate that checks if all exprs are equal or both sides are null. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00439">439</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00456">com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEqualsAux()</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00334">com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a87789bb6ddb150cb70c4dcda5c087b24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEqualsAux </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>elements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a>&#160;</td>
          <td class="paramname"><em>inputTid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExprSubstitutionMap.html">ExprSubstitutionMap</a>&#160;</td>
          <td class="paramname"><em>bufferedSmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create an unanalyzed predicate that checks if elements &gt;= i are equal or both sides are null.</p>
<p>The predicate has the form ((lhs[i] is null &amp;&amp; rhs[i] is null) || ( lhs[i] is not null &amp;&amp; rhs[i] is not null &amp;&amp; lhs[i] = rhs[i])) &amp;&amp; &lt;createEqualsAux(i + 1)&gt; </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00456">456</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00439">com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEquals()</a>.</p>

</div>
</div>
<a class="anchor" id="af587d92415e4c907f4d7923e5454ecc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>groupingExprs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>inputPartitionExprs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return plan tree that augments 'root' with plan nodes that implement single-node evaluation of the AnalyticExprs in analyticInfo. This plan takes into account a possible hash partition of its input on 'groupingExprs'; if this is non-null, it returns in 'inputPartitionExprs' a subset of the grouping exprs which should be used for the aggregate hash partitioning during the parallelization of 'root'. TODO: when generating sort orders for the sort groups, optimize the ordering of the partition exprs (so that subsequent sort operations see the input sorted on a prefix of their required sort exprs) TODO: when merging sort groups, recognize equivalent exprs (using the equivalence classes) rather than looking for expr equality </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00109">109</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00812">com.cloudera.impala.planner.AnalyticPlanner.collectPartitionGroups()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00732">com.cloudera.impala.planner.AnalyticPlanner.collectSortGroups()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00603">com.cloudera.impala.planner.AnalyticPlanner.collectWindowGroups()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00200">com.cloudera.impala.planner.AnalyticPlanner.computeInputPartitionExprs()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00334">com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00168">com.cloudera.impala.planner.AnalyticPlanner.mergePartitionGroups()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00145">com.cloudera.impala.planner.AnalyticPlanner.mergeSortGroups()</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00238">com.cloudera.impala.planner.AnalyticPlanner.orderGroups()</a>.</p>

</div>
</div>
<a class="anchor" id="ad95ef6156b7072c08c5adb4c9869b0fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a>&#160;</td>
          <td class="paramname"><em>sortGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>partitionExprs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create plan tree for the entire sort group, including all contained window groups. Marks the <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SortNode.html">SortNode</a> as requiring its input to be partitioned if partitionExprs is not null (partitionExprs represent the data partition of the entire partition group of which this sort group is a part). </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00334">334</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00439">com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEquals()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00270">com.cloudera.impala.planner.AnalyticPlanner.createSortInfo()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00081">com.cloudera.impala.planner.AnalyticPlanner.ctx_</a>, <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>, <a class="el" href="OrderByElement_8java_source.html#l00123">com.cloudera.impala.analysis.OrderByElement.getOrderByExprs()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00500">com.cloudera.impala.planner.AnalyticPlanner.WindowGroup.logicalToPhysicalSmap</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00483">com.cloudera.impala.planner.AnalyticPlanner.WindowGroup.orderByElements</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00482">com.cloudera.impala.planner.AnalyticPlanner.WindowGroup.partitionByExprs</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00499">com.cloudera.impala.planner.AnalyticPlanner.WindowGroup.physicalIntermediateTuple</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00498">com.cloudera.impala.planner.AnalyticPlanner.WindowGroup.physicalOutputTuple</a>, <a class="el" href="SortNode_8java_source.html#l00085">com.cloudera.impala.planner.SortNode.setIsAnalyticSort()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00077">com.cloudera.impala.planner.AnalyticPlanner.stmtTupleIds_</a>, <a class="el" href="OrderByElement_8java_source.html#l00110">com.cloudera.impala.analysis.OrderByElement.substitute()</a>, <a class="el" href="Expr_8java_source.html#l00730">com.cloudera.impala.analysis.Expr.substituteList()</a>, and <a class="el" href="DataPartition_8java_source.html#l00063">com.cloudera.impala.planner.DataPartition.UNPARTITIONED</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2476aecabc52f2598fe650a8243b927"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SortInfo.html">SortInfo</a> com.cloudera.impala.planner.AnalyticPlanner.createSortInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>sortExprs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; Boolean &gt;&#160;</td>
          <td class="paramname"><em>isAsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; Boolean &gt;&#160;</td>
          <td class="paramname"><em>nullsFirst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create SortInfo, including sort tuple, to sort entire input row on sortExprs. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00270">270</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>References <a class="el" href="AnalyticPlanner_8java_source.html#l00080">com.cloudera.impala.planner.AnalyticPlanner.analyzer_</a>, <a class="el" href="TupleDescriptor_8java_source.html#l00096">com.cloudera.impala.analysis.TupleDescriptor.getSlots()</a>, <a class="el" href="PlanNode_8java_source.html#l00196">com.cloudera.impala.planner.PlanNode.getTupleIds()</a>, <a class="el" href="Expr_8java_source.html#l00852">com.cloudera.impala.analysis.Expr.isBoundByTupleIds()</a>, and <a class="el" href="Expr_8java_source.html#l00730">com.cloudera.impala.analysis.Expr.substituteList()</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00334">com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="aada6f570a14350827d094b4b9cf2c952"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.cloudera.impala.planner.AnalyticPlanner.mergePartitionGroups </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt;&#160;</td>
          <td class="paramname"><em>partitionGroups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numNodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Coalesce partition groups for which the intersection of their partition exprs has ndv estimate &gt; numNodes, so that the resulting plan still parallelizes across all nodes. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00168">168</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="acc8a7a77fd98710c17b2bba335cf81a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.cloudera.impala.planner.AnalyticPlanner.mergeSortGroups </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1SortGroup.html">SortGroup</a> &gt;&#160;</td>
          <td class="paramname"><em>sortGroups</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Coalesce sort groups that have compatible partition-by exprs and have a prefix relationship. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00145">145</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ed9148363c244cea14339c72fb0d3b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.cloudera.impala.planner.AnalyticPlanner.orderGroups </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner_1_1PartitionGroup.html">PartitionGroup</a> &gt;&#160;</td>
          <td class="paramname"><em>partitionGroups</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Order partition groups (and the sort groups within them) by increasing totalOutputTupleSize. This minimizes the total volume of data that needs to be repartitioned and sorted. Also move the non-partitioning partition group to the end. </p>

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00238">238</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa5b4aeaad644ed3db5e09aa57fd9f373"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1AnalyticInfo.html">AnalyticInfo</a> com.cloudera.impala.planner.AnalyticPlanner.analyticInfo_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00079">79</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00083">com.cloudera.impala.planner.AnalyticPlanner.AnalyticPlanner()</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00603">com.cloudera.impala.planner.AnalyticPlanner.collectWindowGroups()</a>.</p>

</div>
</div>
<a class="anchor" id="a69bf180e8494a7b929f8c4e7fa1829e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> com.cloudera.impala.planner.AnalyticPlanner.analyzer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00080">80</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00083">com.cloudera.impala.planner.AnalyticPlanner.AnalyticPlanner()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00200">com.cloudera.impala.planner.AnalyticPlanner.computeInputPartitionExprs()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00439">com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEquals()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00456">com.cloudera.impala.planner.AnalyticPlanner.createNullMatchingEqualsAux()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00109">com.cloudera.impala.planner.AnalyticPlanner.createSingleNodePlan()</a>, <a class="el" href="AnalyticPlanner_8java_source.html#l00334">com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan()</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00270">com.cloudera.impala.planner.AnalyticPlanner.createSortInfo()</a>.</p>

</div>
</div>
<a class="anchor" id="aebe2ff7b11e2e784bdb6c7d5fa31ea63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a> com.cloudera.impala.planner.AnalyticPlanner.ctx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00081">81</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00083">com.cloudera.impala.planner.AnalyticPlanner.AnalyticPlanner()</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00334">com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="aef94913960307b278150568d0a7b9b36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Logger com.cloudera.impala.planner.AnalyticPlanner.LOG = LoggerFactory.getLogger(AnalyticPlanner.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00069">69</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

</div>
</div>
<a class="anchor" id="a83d1a5374544dd279ef917831bb7a361"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final List&lt;<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a>&gt; com.cloudera.impala.planner.AnalyticPlanner.stmtTupleIds_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AnalyticPlanner_8java_source.html#l00077">77</a> of file <a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a>.</p>

<p>Referenced by <a class="el" href="AnalyticPlanner_8java_source.html#l00083">com.cloudera.impala.planner.AnalyticPlanner.AnalyticPlanner()</a>, and <a class="el" href="AnalyticPlanner_8java_source.html#l00334">com.cloudera.impala.planner.AnalyticPlanner.createSortGroupPlan()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fe/src/main/java/com/cloudera/impala/planner/<a class="el" href="AnalyticPlanner_8java_source.html">AnalyticPlanner.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecom.html">com</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera.html">cloudera</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera_1_1impala.html">impala</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera_1_1impala_1_1planner.html">planner</a></li><li class="navelem"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AnalyticPlanner.html">AnalyticPlanner</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:45 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
