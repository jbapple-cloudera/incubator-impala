<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: impala::ScannerContext::Stream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classimpala_1_1ScannerContext_1_1Stream.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classimpala_1_1ScannerContext_1_1Stream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">impala::ScannerContext::Stream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for impala::ScannerContext::Stream:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classimpala_1_1ScannerContext_1_1Stream__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae06a0af0a7e6d1b28a76b99f35180629"><td class="memItemLeft" align="right" valign="top">typedef boost::function&lt; int(int64_t)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae06a0af0a7e6d1b28a76b99f35180629">ReadPastSizeCallback</a></td></tr>
<tr class="separator:ae06a0af0a7e6d1b28a76b99f35180629"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acfded8cb494dbda9eb700d32295e87be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes</a> (int64_t requested_len, uint8_t **buffer, int64_t *out_len, <a class="el" href="classimpala_1_1Status.html">Status</a> *status, <a class="el" href="classbool.html">bool</a> peek=false)</td></tr>
<tr class="separator:acfded8cb494dbda9eb700d32295e87be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a40b73fc3be37a22db492f1bd9071b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a92a40b73fc3be37a22db492f1bd9071b">GetBuffer</a> (<a class="el" href="classbool.html">bool</a> peek, uint8_t **buffer, int64_t *out_len)</td></tr>
<tr class="separator:a92a40b73fc3be37a22db492f1bd9071b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b77f52ccee137fbe9a39083bac3488"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a53b77f52ccee137fbe9a39083bac3488">set_contains_tuple_data</a> (<a class="el" href="classbool.html">bool</a> v)</td></tr>
<tr class="separator:a53b77f52ccee137fbe9a39083bac3488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb22ac5214eff45da580c5be90c4d08f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acb22ac5214eff45da580c5be90c4d08f">set_read_past_size_cb</a> (<a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae06a0af0a7e6d1b28a76b99f35180629">ReadPastSizeCallback</a> cb)</td></tr>
<tr class="separator:acb22ac5214eff45da580c5be90c4d08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c8ea0f83bb58e810e5148e0addccb0"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a48c8ea0f83bb58e810e5148e0addccb0">bytes_left</a> ()</td></tr>
<tr class="memdesc:a48c8ea0f83bb58e810e5148e0addccb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of bytes left in the range for this stream.  <a href="#a48c8ea0f83bb58e810e5148e0addccb0">More...</a><br/></td></tr>
<tr class="separator:a48c8ea0f83bb58e810e5148e0addccb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3599f41ee84455e186a3d1b02fcbb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a0f3599f41ee84455e186a3d1b02fcbb7">eosr</a> () const </td></tr>
<tr class="separator:a0f3599f41ee84455e186a3d1b02fcbb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a423b75d11aaf04deb06633355bfb08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a1a423b75d11aaf04deb06633355bfb08">eof</a> () const </td></tr>
<tr class="memdesc:a1a423b75d11aaf04deb06633355bfb08"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, the stream has reached the end of the file.  <a href="#a1a423b75d11aaf04deb06633355bfb08">More...</a><br/></td></tr>
<tr class="separator:a1a423b75d11aaf04deb06633355bfb08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e06eee6a1aae5aa71b936be43d6aee4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a8e06eee6a1aae5aa71b936be43d6aee4">filename</a> ()</td></tr>
<tr class="separator:a8e06eee6a1aae5aa71b936be43d6aee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25eae19a4b18baeb8f959cb6652ba04"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">DiskIoMgr::ScanRange</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac25eae19a4b18baeb8f959cb6652ba04">scan_range</a> ()</td></tr>
<tr class="separator:ac25eae19a4b18baeb8f959cb6652ba04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dcb5b4ec2655da763877b00ff91c9e5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structimpala_1_1HdfsFileDesc.html">HdfsFileDesc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a9dcb5b4ec2655da763877b00ff91c9e5">file_desc</a> ()</td></tr>
<tr class="separator:a9dcb5b4ec2655da763877b00ff91c9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50f8d6efde3334ce557e19e9b2ab7f9"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac50f8d6efde3334ce557e19e9b2ab7f9">file_offset</a> () const </td></tr>
<tr class="memdesc:ac50f8d6efde3334ce557e19e9b2ab7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the buffer's current offset in the file.  <a href="#ac50f8d6efde3334ce557e19e9b2ab7f9">More...</a><br/></td></tr>
<tr class="separator:ac50f8d6efde3334ce557e19e9b2ab7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8342003f29642968db4d42e9b7e5f29a"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a8342003f29642968db4d42e9b7e5f29a">total_bytes_returned</a> ()</td></tr>
<tr class="memdesc:a8342003f29642968db4d42e9b7e5f29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of bytes returned.  <a href="#a8342003f29642968db4d42e9b7e5f29a">More...</a><br/></td></tr>
<tr class="separator:a8342003f29642968db4d42e9b7e5f29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20cbd2da52b6d2c07e6c3593a2c6b1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ad20cbd2da52b6d2c07e6c3593a2c6b1c">ReadBoolean</a> (<a class="el" href="classbool.html">bool</a> *boolean, <a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="separator:ad20cbd2da52b6d2c07e6c3593a2c6b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb117924bf5f7603db6e7bbdc2d214c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a6fb117924bf5f7603db6e7bbdc2d214c">ReadInt</a> (int32_t *val, <a class="el" href="classimpala_1_1Status.html">Status</a> *, <a class="el" href="classbool.html">bool</a> peek=false)</td></tr>
<tr class="separator:a6fb117924bf5f7603db6e7bbdc2d214c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990e6a7dfe45fdd33c36d33c66a1ed6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a990e6a7dfe45fdd33c36d33c66a1ed6d">ReadVLong</a> (int64_t *val, <a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="separator:a990e6a7dfe45fdd33c36d33c66a1ed6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf574fabb846f92a0b6a9078920c7ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a5cf574fabb846f92a0b6a9078920c7ef">ReadVInt</a> (int32_t *val, <a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="separator:a5cf574fabb846f92a0b6a9078920c7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb6db456ad211a0f2c4302f6d2a19fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#aafb6db456ad211a0f2c4302f6d2a19fc">ReadZLong</a> (int64_t *val, <a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="memdesc:aafb6db456ad211a0f2c4302f6d2a19fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a zigzag encoded long.  <a href="#aafb6db456ad211a0f2c4302f6d2a19fc">More...</a><br/></td></tr>
<tr class="separator:aafb6db456ad211a0f2c4302f6d2a19fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1bae8ae5208e9d2c2547bc0a7efddd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac1bae8ae5208e9d2c2547bc0a7efddd6">SkipBytes</a> (int64_t length, <a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="memdesc:ac1bae8ae5208e9d2c2547bc0a7efddd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip over the next length bytes in the specified HDFS file.  <a href="#ac1bae8ae5208e9d2c2547bc0a7efddd6">More...</a><br/></td></tr>
<tr class="separator:ac1bae8ae5208e9d2c2547bc0a7efddd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0c82e035be4d8bd37009dbc1739712"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#afb0c82e035be4d8bd37009dbc1739712">ReadBytes</a> (int64_t length, uint8_t **buf, <a class="el" href="classimpala_1_1Status.html">Status</a> *, <a class="el" href="classbool.html">bool</a> peek=false)</td></tr>
<tr class="separator:afb0c82e035be4d8bd37009dbc1739712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513addc2be66b361016ed03b43b676b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a513addc2be66b361016ed03b43b676b2">ReadText</a> (uint8_t **buf, int64_t *length, <a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="separator:a513addc2be66b361016ed03b43b676b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab835ae2f5139d78ddd27ae0bbe6a974f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ab835ae2f5139d78ddd27ae0bbe6a974f">SkipText</a> (<a class="el" href="classimpala_1_1Status.html">Status</a> *)</td></tr>
<tr class="memdesc:ab835ae2f5139d78ddd27ae0bbe6a974f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip this text object.  <a href="#ab835ae2f5139d78ddd27ae0bbe6a974f">More...</a><br/></td></tr>
<tr class="separator:ab835ae2f5139d78ddd27ae0bbe6a974f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae1721ba68f57a5106b99578425daad1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae1721ba68f57a5106b99578425daad1b">Stream</a> (<a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a> *parent)</td></tr>
<tr class="separator:ae1721ba68f57a5106b99578425daad1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d14f962e1c9b155fc4a2a256623aef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a02d14f962e1c9b155fc4a2a256623aef">GetBytesInternal</a> (int64_t requested_len, uint8_t **buffer, <a class="el" href="classbool.html">bool</a> peek, int64_t *out_len)</td></tr>
<tr class="separator:a02d14f962e1c9b155fc4a2a256623aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7647cc59953a835de0614a03177528e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a7647cc59953a835de0614a03177528e9">GetNextBuffer</a> (int64_t read_past_size=0)</td></tr>
<tr class="separator:a7647cc59953a835de0614a03177528e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b80bbcf5e27d7eb6b9ca0d9f22a894c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a9b80bbcf5e27d7eb6b9ca0d9f22a894c">ReleaseCompletedResources</a> (<a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> *batch, <a class="el" href="classbool.html">bool</a> done)</td></tr>
<tr class="separator:a9b80bbcf5e27d7eb6b9ca0d9f22a894c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9509dcd50193eb607c98e002e25d976"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ad9509dcd50193eb607c98e002e25d976">ReportIncompleteRead</a> (int64_t length, int64_t bytes_read)</td></tr>
<tr class="memdesc:ad9509dcd50193eb607c98e002e25d976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error-reporting functions.  <a href="#ad9509dcd50193eb607c98e002e25d976">More...</a><br/></td></tr>
<tr class="separator:ad9509dcd50193eb607c98e002e25d976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8429f56ab45c9b7272bd56dd787010af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a8429f56ab45c9b7272bd56dd787010af">ReportInvalidRead</a> (int64_t length)</td></tr>
<tr class="separator:a8429f56ab45c9b7272bd56dd787010af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae2377b7e3898fc2b44f448bfc6a1bfdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae2377b7e3898fc2b44f448bfc6a1bfdf">parent_</a></td></tr>
<tr class="separator:ae2377b7e3898fc2b44f448bfc6a1bfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa686c208a632dc7cbd2557180e34e4c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">DiskIoMgr::ScanRange</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#aa686c208a632dc7cbd2557180e34e4c1">scan_range_</a></td></tr>
<tr class="separator:aa686c208a632dc7cbd2557180e34e4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25dcb16e0dcdbc6530bb64d6d78bbcca"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structimpala_1_1HdfsFileDesc.html">HdfsFileDesc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a25dcb16e0dcdbc6530bb64d6d78bbcca">file_desc_</a></td></tr>
<tr class="separator:a25dcb16e0dcdbc6530bb64d6d78bbcca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b9569fea39499ac247ee77498ecc124"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a3b9569fea39499ac247ee77498ecc124">contains_tuple_data_</a></td></tr>
<tr class="separator:a3b9569fea39499ac247ee77498ecc124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc00634e4f2a30470a856930ab8c807a"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acc00634e4f2a30470a856930ab8c807a">total_bytes_returned_</a></td></tr>
<tr class="memdesc:acc00634e4f2a30470a856930ab8c807a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes returned from <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes()</a>  <a href="#acc00634e4f2a30470a856930ab8c807a">More...</a><br/></td></tr>
<tr class="separator:acc00634e4f2a30470a856930ab8c807a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9152ff9926f5bdd22752c79181428c7a"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a9152ff9926f5bdd22752c79181428c7a">file_len_</a></td></tr>
<tr class="separator:a9152ff9926f5bdd22752c79181428c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071cc630924eb3ec49142335ca91e0a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae06a0af0a7e6d1b28a76b99f35180629">ReadPastSizeCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a071cc630924eb3ec49142335ca91e0a9">read_past_size_cb_</a></td></tr>
<tr class="separator:a071cc630924eb3ec49142335ca91e0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6cce20a4eb686248ffdb7fcb9d80777"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1DiskIoMgr_1_1BufferDescriptor.html">DiskIoMgr::BufferDescriptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac6cce20a4eb686248ffdb7fcb9d80777">io_buffer_</a></td></tr>
<tr class="memdesc:ac6cce20a4eb686248ffdb7fcb9d80777"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current io buffer. This starts as NULL before we've read any bytes.  <a href="#ac6cce20a4eb686248ffdb7fcb9d80777">More...</a><br/></td></tr>
<tr class="separator:ac6cce20a4eb686248ffdb7fcb9d80777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca234381d3627dbae4713b2fa713001e"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#aca234381d3627dbae4713b2fa713001e">io_buffer_pos_</a></td></tr>
<tr class="memdesc:aca234381d3627dbae4713b2fa713001e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next byte to read in io_buffer_.  <a href="#aca234381d3627dbae4713b2fa713001e">More...</a><br/></td></tr>
<tr class="separator:aca234381d3627dbae4713b2fa713001e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b1c997827b24a60054289c3477abef"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a72b1c997827b24a60054289c3477abef">io_buffer_bytes_left_</a></td></tr>
<tr class="memdesc:a72b1c997827b24a60054289c3477abef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bytes left in io_buffer_.  <a href="#a72b1c997827b24a60054289c3477abef">More...</a><br/></td></tr>
<tr class="separator:a72b1c997827b24a60054289c3477abef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72625284f7cc6a09760c411beac042b"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1MemPool.html">MemPool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac72625284f7cc6a09760c411beac042b">boundary_pool_</a></td></tr>
<tr class="separator:ac72625284f7cc6a09760c411beac042b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62663fed0b310d4467f9322a515ea69"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1StringBuffer.html">StringBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae62663fed0b310d4467f9322a515ea69">boundary_buffer_</a></td></tr>
<tr class="separator:ae62663fed0b310d4467f9322a515ea69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2708bae14c03060d7bbcc7dafaea012"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac2708bae14c03060d7bbcc7dafaea012">boundary_buffer_pos_</a></td></tr>
<tr class="separator:ac2708bae14c03060d7bbcc7dafaea012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849c26cafec8070d91bca7b70e94db51"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a849c26cafec8070d91bca7b70e94db51">boundary_buffer_bytes_left_</a></td></tr>
<tr class="separator:a849c26cafec8070d91bca7b70e94db51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e82d3874befb89e230831b485c46446"><td class="memItemLeft" align="right" valign="top">uint8_t **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a9e82d3874befb89e230831b485c46446">output_buffer_pos_</a></td></tr>
<tr class="separator:a9e82d3874befb89e230831b485c46446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b2c26a43123d46e4ad1c4048b27dfa"><td class="memItemLeft" align="right" valign="top">int64_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a95b2c26a43123d46e4ad1c4048b27dfa">output_buffer_bytes_left_</a></td></tr>
<tr class="separator:a95b2c26a43123d46e4ad1c4048b27dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9ff0db9c320a3f61f70e35b9ad977b"><td class="memItemLeft" align="right" valign="top">std::list<br class="typebreak"/>
&lt; <a class="el" href="classimpala_1_1DiskIoMgr_1_1BufferDescriptor.html">DiskIoMgr::BufferDescriptor</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a1d9ff0db9c320a3f61f70e35b9ad977b">completed_io_buffers_</a></td></tr>
<tr class="separator:a1d9ff0db9c320a3f61f70e35b9ad977b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a18a23532ddeb0ae53093207992bb5611"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a18a23532ddeb0ae53093207992bb5611">ScannerContext</a></td></tr>
<tr class="separator:a18a23532ddeb0ae53093207992bb5611"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulates a stream (continuous byte range) that can be read. A context can contain one or more streams. For non-columnar files, there is only one stream; for columnar, there is one stream per column. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00066">66</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ae06a0af0a7e6d1b28a76b99f35180629"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function&lt;int (int64_t)&gt; <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae06a0af0a7e6d1b28a76b99f35180629">impala::ScannerContext::Stream::ReadPastSizeCallback</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback that returns the buffer size to use when reading past the end of the scan range. By default a constant value is used, which scanners can override with this callback. The callback takes the file offset of the asynchronous read (this may be more than <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ac50f8d6efde3334ce557e19e9b2ab7f9" title="Returns the buffer&#39;s current offset in the file. ">file_offset()</a> due to data being assembled in the boundary buffer). Reading past the end of the scan range is likely a remote read, so we want to minimize the number of io requests as well as the data volume. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00105">105</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae1721ba68f57a5106b99578425daad1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ScannerContext::Stream::Stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a> *&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00052">52</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a48c8ea0f83bb58e810e5148e0addccb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::bytes_left </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of bytes left in the range for this stream. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00109">109</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="disk-io-mgr_8h_source.html#l00268">impala::DiskIoMgr::RequestRange::len()</a>, <a class="el" href="scanner-context_8h_source.html#l00165">scan_range_</a>, and <a class="el" href="scanner-context_8h_source.html#l00173">total_bytes_returned_</a>.</p>

<p>Referenced by <a class="el" href="base-sequence-scanner_8cc_source.html#l00082">impala::BaseSequenceScanner::Close()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a423b75d11aaf04deb06633355bfb08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ScannerContext::Stream::eof </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, the stream has reached the end of the file. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00116">116</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00177">file_len_</a>, and <a class="el" href="scanner-context_8h_source.html#l00123">file_offset()</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8h_source.html#l00113">eosr()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00253">impala::HdfsTextScanner::FinishScanRange()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00161">impala::HdfsSequenceScanner::ProcessBlockCompressedScanRange()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00271">impala::HdfsSequenceScanner::ProcessRange()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00451">impala::HdfsRCFileScanner::ProcessRange()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00100">impala::BaseSequenceScanner::ProcessSplit()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00170">impala::BaseSequenceScanner::ReadSync()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f3599f41ee84455e186a3d1b02fcbb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ScannerContext::Stream::eosr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If true, all bytes in this scan range have been returned or we have reached eof (the scan range could be longer than the file). </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00113">113</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00116">eof()</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00268">impala::DiskIoMgr::RequestRange::len()</a>, <a class="el" href="scanner-context_8h_source.html#l00165">scan_range_</a>, and <a class="el" href="scanner-context_8h_source.html#l00173">total_bytes_returned_</a>.</p>

<p>Referenced by <a class="el" href="hdfs-text-scanner_8cc_source.html#l00410">impala::HdfsTextScanner::FillByteBuffer()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00530">impala::HdfsTextScanner::FillByteBufferCompressedFile()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00437">impala::HdfsTextScanner::FillByteBufferGzip()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00916">impala::HdfsParquetScanner::ProcessFooter()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00325">impala::HdfsTextScanner::ProcessRange()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00532">impala::HdfsParquetScanner::BaseColumnReader::ReadDataPage()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00170">impala::BaseSequenceScanner::ReadSync()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="a9dcb5b4ec2655da763877b00ff91c9e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structimpala_1_1HdfsFileDesc.html">HdfsFileDesc</a>* impala::ScannerContext::Stream::file_desc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00120">120</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00166">file_desc_</a>.</p>

<p>Referenced by <a class="el" href="hdfs-text-scanner_8cc_source.html#l00185">impala::HdfsTextScanner::Close()</a>, <a class="el" href="hdfs-scan-node_8cc_source.html#l00230">impala::HdfsScanNode::CreateAndPrepareScanner()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00202">impala::HdfsTextScanner::InitNewRange()</a>, and <a class="el" href="hdfs-text-scanner_8cc_source.html#l00156">impala::HdfsTextScanner::ProcessSplit()</a>.</p>

</div>
</div>
<a class="anchor" id="ac50f8d6efde3334ce557e19e9b2ab7f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::file_offset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the buffer's current offset in the file. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00123">123</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="disk-io-mgr_8h_source.html#l00267">impala::DiskIoMgr::RequestRange::offset()</a>, <a class="el" href="scanner-context_8h_source.html#l00165">scan_range_</a>, and <a class="el" href="scanner-context_8h_source.html#l00173">total_bytes_returned_</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8h_source.html#l00116">eof()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00253">impala::HdfsTextScanner::FinishScanRange()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00368">impala::HdfsRCFileScanner::NextField()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00161">impala::HdfsSequenceScanner::ProcessBlockCompressedScanRange()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00100">impala::BaseSequenceScanner::ProcessSplit()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00419">impala::HdfsSequenceScanner::ReadBlockHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00278">impala::HdfsRCFileScanner::ReadRowGroupHeader()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00170">impala::BaseSequenceScanner::ReadSync()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e06eee6a1aae5aa71b936be43d6aee4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* impala::ScannerContext::Stream::filename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00118">118</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="disk-io-mgr_8h_source.html#l00266">impala::DiskIoMgr::RequestRange::file()</a>, and <a class="el" href="scanner-context_8h_source.html#l00165">scan_range_</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00805">impala::HdfsParquetScanner::AssembleRows()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l01050">impala::HdfsParquetScanner::CreateColumnReaders()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00564">impala::HdfsRCFileScanner::DebugString()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00530">impala::HdfsTextScanner::FillByteBufferCompressedFile()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00437">impala::HdfsTextScanner::FillByteBufferGzip()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00253">impala::HdfsTextScanner::FinishScanRange()</a>, <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00125">impala::HdfsAvroScanner::ParseMetadata()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00916">impala::HdfsParquetScanner::ProcessFooter()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00451">impala::HdfsRCFileScanner::ProcessRange()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00100">impala::BaseSequenceScanner::ProcessSplit()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00107">impala::HdfsRCFileScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00197">impala::HdfsRCFileScanner::ReadNumColumnsMetadata()</a>, <a class="el" href="hdfs-scanner_8cc_source.html#l00546">impala::HdfsScanner::ReportTupleParseError()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l01263">impala::HdfsParquetScanner::ValidateFileMetadata()</a>, <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00426">impala::HdfsAvroScanner::VerifyTypesMatch()</a>, and <a class="el" href="hdfs-text-scanner_8cc_source.html#l00663">impala::HdfsTextScanner::WriteFields()</a>.</p>

</div>
</div>
<a class="anchor" id="a92a40b73fc3be37a22db492f1bd9071b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> ScannerContext::Stream::GetBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>peek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>out_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the bytes from the first available buffer within the scan range. This may be the boundary buffer used to stitch IO buffers together. If we are past the end of the scan range, no bytes are returned. </p>

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00171">171</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00088">impala::Status::CANCELLED</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

<p>Referenced by <a class="el" href="hdfs-text-scanner_8cc_source.html#l00410">impala::HdfsTextScanner::FillByteBuffer()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00437">impala::HdfsTextScanner::FillByteBufferGzip()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00916">impala::HdfsParquetScanner::ProcessFooter()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00532">impala::HdfsParquetScanner::BaseColumnReader::ReadDataPage()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="acfded8cb494dbda9eb700d32295e87be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::GetBytes </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>requested_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>peek</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns up to requested_len bytes or an error. This can block if bytes are not available.</p>
<ul>
<li>requested_len is the number of bytes requested. This function will return those number of bytes unless end of file or an error occurred.</li>
<li>If peek is true, the scan range position is not incremented (i.e. repeated calls with peek = true will return the same data).</li>
<li>*buffer on return is a pointer to the buffer. The memory is owned by the <a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a> and should not be modified. If the buffer is entirely from one disk io buffer, a pointer inside that buffer is returned directly. If the requested buffer straddles io buffers, a copy is done here.</li>
<li>*out_len is the number of bytes returned.</li>
<li>*status is set if there is an error. Returns true if the call was success (i.e. status-&gt;ok()) This should only be called from the scanner thread. Note that this will return bytes past the end of the scan range until the end of the file.</li>
</ul>
<p>Handle the fast common path where all the bytes are in the first buffer. This is the path used by sequence/rc/parquet file formats to read a very small number (i.e. single int) of bytes. </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00031">31</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8cc_source.html#l00216">GetBytesInternal()</a>, <a class="el" href="compiler-util_8h_source.html#l00032">LIKELY</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, <a class="el" href="scanner-context_8h_source.html#l00208">output_buffer_bytes_left_</a>, <a class="el" href="scanner-context_8h_source.html#l00204">output_buffer_pos_</a>, <a class="el" href="scanner-context_8cc_source.html#l00294">ReportInvalidRead()</a>, <a class="el" href="scanner-context_8h_source.html#l00173">total_bytes_returned_</a>, and <a class="el" href="compiler-util_8h_source.html#l00033">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="hdfs-text-scanner_8cc_source.html#l00410">impala::HdfsTextScanner::FillByteBuffer()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00530">impala::HdfsTextScanner::FillByteBufferCompressedFile()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00437">impala::HdfsTextScanner::FillByteBufferGzip()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00532">impala::HdfsParquetScanner::BaseColumnReader::ReadDataPage()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00170">impala::BaseSequenceScanner::ReadSync()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="a02d14f962e1c9b155fc4a2a256623aef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> ScannerContext::Stream::GetBytesInternal </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>requested_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>peek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>out_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>GetBytes helper to handle the slow path. If peek is set then return the data but do not move the current offset. </p>

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00216">216</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00088">impala::Status::CANCELLED</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8inline_8h_source.html#l00031">GetBytes()</a>.</p>

</div>
</div>
<a class="anchor" id="a7647cc59953a835de0614a03177528e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> ScannerContext::Stream::GetNextBuffer </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>read_past_size</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets (and blocks) for the next io buffer. After fetching all buffers in the scan range, performs synchronous reads past the scan range until EOF. When performing a synchronous read, the read size is the max of read_past_size and the result returned by <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a071cc630924eb3ec49142335ca91e0a9">read_past_size_cb_()</a> (or DEFAULT_READ_PAST_SIZE if no callback is set). read_past_size is not used otherwise. Updates io_buffer_, io_buffer_bytes_left_, and io_buffer_pos_. If <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#a7647cc59953a835de0614a03177528e9">GetNextBuffer()</a> is called after all bytes in the file have been returned, io_buffer_bytes_left_ will be set to 0. In the non-error case, io_buffer_ is never set to NULL, even if it contains 0 bytes. </p>

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00115">115</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00088">impala::Status::CANCELLED</a>, <a class="el" href="scanner-context_8cc_source.html#l00028">DEFAULT_READ_PAST_SIZE</a>, <a class="el" href="partitioning-throughput-test_8cc_source.html#l00037">offset</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="runtime-profile_8h_source.html#l00053">SCOPED_TIMER</a>, and <a class="el" href="logging_8h_source.html#l00058">VLOG_FILE</a>.</p>

</div>
</div>
<a class="anchor" id="ad20cbd2da52b6d2c07e6c3593a2c6b1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadBoolean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a> *&#160;</td>
          <td class="paramname"><em>boolean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read a Boolean primitive value written using Java serialization. Equivalent to java.io.DataInput.readBoolean() </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00095">95</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>.</p>

<p>Referenced by <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>, and <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00107">impala::HdfsRCFileScanner::ReadFileHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="afb0c82e035be4d8bd37009dbc1739712"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadBytes </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>peek</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read length bytes into the supplied buffer. The returned buffer is owned by this object. </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00056">56</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>, and <a class="el" href="compiler-util_8h_source.html#l00033">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00103">impala::HdfsSequenceScanner::GetRecord()</a>, <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00125">impala::HdfsAvroScanner::ParseMetadata()</a>, <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00517">impala::HdfsAvroScanner::ProcessRange()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00413">impala::HdfsRCFileScanner::ReadColumnBuffers()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00441">impala::HdfsSequenceScanner::ReadCompressedBlock()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00532">impala::HdfsParquetScanner::BaseColumnReader::ReadDataPage()</a>, <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00099">impala::HdfsAvroScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00107">impala::HdfsRCFileScanner::ReadFileHeader()</a>, and <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00308">impala::HdfsRCFileScanner::ReadKeyBuffers()</a>.</p>

</div>
</div>
<a class="anchor" id="a6fb117924bf5f7603db6e7bbdc2d214c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadInt </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>peek</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read an Integer primitive value written using Java serialization. Equivalent to java.io.DataInput.readInt() </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00102">102</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>.</p>

<p>Referenced by <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00161">impala::HdfsSequenceScanner::ProcessBlockCompressedScanRange()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00271">impala::HdfsSequenceScanner::ProcessRange()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00451">impala::HdfsRCFileScanner::ProcessRange()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00419">impala::HdfsSequenceScanner::ReadBlockHeader()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00197">impala::HdfsRCFileScanner::ReadNumColumnsMetadata()</a>, and <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00278">impala::HdfsRCFileScanner::ReadRowGroupHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="a513addc2be66b361016ed03b43b676b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadText </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read a Writable Text value from the supplied file. Ref: org.apache.hadoop.io.WritableUtils.readString() The returned buffer is owned by this object. </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00088">88</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>.</p>

<p>Referenced by <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00107">impala::HdfsRCFileScanner::ReadFileHeader()</a>, and <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00197">impala::HdfsRCFileScanner::ReadNumColumnsMetadata()</a>.</p>

</div>
</div>
<a class="anchor" id="a5cf574fabb846f92a0b6a9078920c7ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadVInt </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read a variable length Integer value written using Writable serialization. Ref: org.apache.hadoop.io.WritableUtils.readVInt() </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00109">109</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>.</p>

</div>
</div>
<a class="anchor" id="a990e6a7dfe45fdd33c36d33c66a1ed6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadVLong </td>
          <td>(</td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read a variable-length Long value written using Writable serialization. Ref: org.apache.hadoop.io.WritableUtils.readVLong() </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00116">116</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="read-write-util_8h_source.html#l00254">impala::ReadWriteUtil::DecodeVIntSize()</a>, <a class="el" href="read-write-util_8h_source.html#l00250">impala::ReadWriteUtil::IsNegativeVInt()</a>, <a class="el" href="read-write-util_8h_source.html#l00037">impala::ReadWriteUtil::MAX_VINT_LEN</a>, and <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>.</p>

<p>Referenced by <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00103">impala::HdfsSequenceScanner::GetRecord()</a>, and <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00441">impala::HdfsSequenceScanner::ReadCompressedBlock()</a>.</p>

</div>
</div>
<a class="anchor" id="aafb6db456ad211a0f2c4302f6d2a19fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::ReadZLong </td>
          <td>(</td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a zigzag encoded long. </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00148">148</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>.</p>

<p>Referenced by <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00125">impala::HdfsAvroScanner::ParseMetadata()</a>, and <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00517">impala::HdfsAvroScanner::ProcessRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b80bbcf5e27d7eb6b9ca0d9f22a894c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ScannerContext::Stream::ReleaseCompletedResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> *&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>done</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If 'batch' is not NULL, attaches all completed io buffers and the boundary mem pool to batch. If 'done' is set, releases the completed resources. If 'batch' is NULL then contains_tuple_data_ should be false. </p>

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00076">76</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

<p>References <a class="el" href="mem-pool_8cc_source.html#l00161">impala::MemPool::AcquireData()</a>, <a class="el" href="row-batch_8cc_source.html#l00211">impala::RowBatch::AddIoBuffer()</a>, <a class="el" href="status_8h_source.html#l00088">impala::Status::CANCELLED</a>, and <a class="el" href="row-batch_8h_source.html#l00148">impala::RowBatch::tuple_data_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9509dcd50193eb607c98e002e25d976"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> ScannerContext::Stream::ReportIncompleteRead </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>bytes_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Error-reporting functions. </p>

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00286">286</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8429f56ab45c9b7272bd56dd787010af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> ScannerContext::Stream::ReportInvalidRead </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8cc_source.html#l00294">294</a> of file <a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8inline_8h_source.html#l00031">GetBytes()</a>.</p>

</div>
</div>
<a class="anchor" id="ac25eae19a4b18baeb8f959cb6652ba04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">DiskIoMgr::ScanRange</a>* impala::ScannerContext::Stream::scan_range </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00119">119</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00165">scan_range_</a>.</p>

<p>Referenced by <a class="el" href="hdfs-text-scanner_8cc_source.html#l00577">impala::HdfsTextScanner::FindFirstTuple()</a>, and <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00916">impala::HdfsParquetScanner::ProcessFooter()</a>.</p>

</div>
</div>
<a class="anchor" id="a53b77f52ccee137fbe9a39083bac3488"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ScannerContext::Stream::set_contains_tuple_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets whether of not the resulting tuples contain ptrs into memory owned by the scanner context. This by default, is inferred from the scan_node tuple descriptor (i.e. contains string slots) but can be overridden. If possible, this should be set to false to reduce memory usage as resources can be reused and recycled more quickly. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00097">97</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00170">contains_tuple_data_</a>.</p>

<p>Referenced by <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l01093">impala::HdfsParquetScanner::InitColumns()</a>, <a class="el" href="hdfs-text-scanner_8cc_source.html#l00202">impala::HdfsTextScanner::InitNewRange()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00068">impala::HdfsRCFileScanner::InitNewRange()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00100">impala::BaseSequenceScanner::ProcessSplit()</a>.</p>

</div>
</div>
<a class="anchor" id="acb22ac5214eff45da580c5be90c4d08f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ScannerContext::Stream::set_read_past_size_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae06a0af0a7e6d1b28a76b99f35180629">ReadPastSizeCallback</a>&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00106">106</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00179">read_past_size_cb_</a>.</p>

<p>Referenced by <a class="el" href="base-sequence-scanner_8cc_source.html#l00074">impala::BaseSequenceScanner::Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1bae8ae5208e9d2c2547bc0a7efddd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::SkipBytes </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Skip over the next length bytes in the specified HDFS file. </p>
<p>TODO: consider implementing a Skip in the context/stream object that's more efficient than GetBytes. </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00070">70</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>References <a class="el" href="scanner-context_8inline_8h_source.html#l00026">RETURN_IF_FALSE</a>, and <a class="el" href="compiler-util_8h_source.html#l00033">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="hdfs-text-scanner_8cc_source.html#l00437">impala::HdfsTextScanner::FillByteBufferGzip()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00103">impala::HdfsSequenceScanner::GetRecord()</a>, <a class="el" href="base-sequence-scanner_8cc_source.html#l00100">impala::BaseSequenceScanner::ProcessSplit()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00413">impala::HdfsRCFileScanner::ReadColumnBuffers()</a>, <a class="el" href="hdfs-parquet-scanner_8cc_source.html#l00532">impala::HdfsParquetScanner::BaseColumnReader::ReadDataPage()</a>, and <a class="el" href="base-sequence-scanner_8cc_source.html#l00212">impala::BaseSequenceScanner::SkipToSync()</a>.</p>

</div>
</div>
<a class="anchor" id="ab835ae2f5139d78ddd27ae0bbe6a974f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ScannerContext::Stream::SkipText </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Skip this text object. </p>

<p>Definition at line <a class="el" href="scanner-context_8inline_8h_source.html#l00082">82</a> of file <a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a>.</p>

<p>Referenced by <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00441">impala::HdfsSequenceScanner::ReadCompressedBlock()</a>, and <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="a8342003f29642968db4d42e9b7e5f29a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::total_bytes_returned </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total number of bytes returned. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00126">126</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>References <a class="el" href="scanner-context_8h_source.html#l00173">total_bytes_returned_</a>.</p>

<p>Referenced by <a class="el" href="hdfs-avro-scanner_8cc_source.html#l00099">impala::HdfsAvroScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-sequence-scanner_8cc_source.html#l00345">impala::HdfsSequenceScanner::ReadFileHeader()</a>, <a class="el" href="hdfs-rcfile-scanner_8cc_source.html#l00107">impala::HdfsRCFileScanner::ReadFileHeader()</a>, and <a class="el" href="hdfs-scan-node_8cc_source.html#l00797">impala::HdfsScanNode::ScannerThread()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a18a23532ddeb0ae53093207992bb5611"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00163">163</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae62663fed0b310d4467f9322a515ea69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1StringBuffer.html">StringBuffer</a>&gt; impala::ScannerContext::Stream::boundary_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00198">198</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a849c26cafec8070d91bca7b70e94db51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::boundary_buffer_bytes_left_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00200">200</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2708bae14c03060d7bbcc7dafaea012"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* impala::ScannerContext::Stream::boundary_buffer_pos_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00199">199</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac72625284f7cc6a09760c411beac042b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1MemPool.html">MemPool</a>&gt; impala::ScannerContext::Stream::boundary_pool_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The boundary buffer is used to copy multiple IO buffers from the scan range into a single buffer to return to the scanner. After copying all or part of an IO buffer into the boundary buffer, the current buffer's state is updated to no longer include the copied bytes (e.g., io_buffer_bytes_left_ is decremented). Conceptually, the data in the boundary buffer always comes before that in the current buffer, and all the bytes in the stream are either already returned to the scanner, in the current IO buffer, or in the boundary buffer. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00197">197</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1d9ff0db9c320a3f61f70e35b9ad977b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="classimpala_1_1DiskIoMgr_1_1BufferDescriptor.html">DiskIoMgr::BufferDescriptor</a>*&gt; impala::ScannerContext::Stream::completed_io_buffers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>List of buffers that are completed but still have bytes referenced by the caller. On the next <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes()</a> call, these buffers are released (the caller by calling <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes()</a> signals it is done with its previous bytes). At this point the buffers are either returned to the io mgr or attached to the current row batch. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00214">214</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b9569fea39499ac247ee77498ecc124"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ScannerContext::Stream::contains_tuple_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If true, tuples will contain pointers into memory contained in this object. That memory (io buffers or boundary buffers) must be attached to the row batch. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00170">170</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, and <a class="el" href="scanner-context_8h_source.html#l00097">set_contains_tuple_data()</a>.</p>

</div>
</div>
<a class="anchor" id="a25dcb16e0dcdbc6530bb64d6d78bbcca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structimpala_1_1HdfsFileDesc.html">HdfsFileDesc</a>* impala::ScannerContext::Stream::file_desc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00166">166</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, and <a class="el" href="scanner-context_8h_source.html#l00120">file_desc()</a>.</p>

</div>
</div>
<a class="anchor" id="a9152ff9926f5bdd22752c79181428c7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::file_len_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>File length. Initialized with file_desc_-&gt;file_length but updated if eof is found earlier, i.e. the file was truncated. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00177">177</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, and <a class="el" href="scanner-context_8h_source.html#l00116">eof()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6cce20a4eb686248ffdb7fcb9d80777"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1DiskIoMgr_1_1BufferDescriptor.html">DiskIoMgr::BufferDescriptor</a>* impala::ScannerContext::Stream::io_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current io buffer. This starts as NULL before we've read any bytes. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00182">182</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>.</p>

</div>
</div>
<a class="anchor" id="a72b1c997827b24a60054289c3477abef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::io_buffer_bytes_left_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bytes left in io_buffer_. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00188">188</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>.</p>

</div>
</div>
<a class="anchor" id="aca234381d3627dbae4713b2fa713001e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* impala::ScannerContext::Stream::io_buffer_pos_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Next byte to read in io_buffer_. </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00185">185</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>.</p>

</div>
</div>
<a class="anchor" id="a95b2c26a43123d46e4ad1c4048b27dfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t* impala::ScannerContext::Stream::output_buffer_bytes_left_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Points to either io_buffer_bytes_left_ or boundary_buffer_bytes_left_ (initialized to a static zero-value int before calling <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes()</a>) </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00208">208</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, and <a class="el" href="scanner-context_8inline_8h_source.html#l00031">GetBytes()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e82d3874befb89e230831b485c46446"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t** impala::ScannerContext::Stream::output_buffer_pos_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Points to either io_buffer_pos_ or boundary_buffer_pos_ (initialized to NULL before calling <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes()</a>) </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00204">204</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, and <a class="el" href="scanner-context_8inline_8h_source.html#l00031">GetBytes()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2377b7e3898fc2b44f448bfc6a1bfdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a>* impala::ScannerContext::Stream::parent_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00164">164</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a071cc630924eb3ec49142335ca91e0a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#ae06a0af0a7e6d1b28a76b99f35180629">ReadPastSizeCallback</a> impala::ScannerContext::Stream::read_past_size_cb_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00179">179</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8h_source.html#l00106">set_read_past_size_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="aa686c208a632dc7cbd2557180e34e4c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">DiskIoMgr::ScanRange</a>* impala::ScannerContext::Stream::scan_range_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00165">165</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, <a class="el" href="scanner-context_8h_source.html#l00109">bytes_left()</a>, <a class="el" href="scanner-context_8h_source.html#l00113">eosr()</a>, <a class="el" href="scanner-context_8h_source.html#l00123">file_offset()</a>, <a class="el" href="scanner-context_8h_source.html#l00118">filename()</a>, and <a class="el" href="scanner-context_8h_source.html#l00119">scan_range()</a>.</p>

</div>
</div>
<a class="anchor" id="acc00634e4f2a30470a856930ab8c807a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ScannerContext::Stream::total_bytes_returned_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes returned from <a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html#acfded8cb494dbda9eb700d32295e87be">GetBytes()</a> </p>

<p>Definition at line <a class="el" href="scanner-context_8h_source.html#l00173">173</a> of file <a class="el" href="scanner-context_8h_source.html">scanner-context.h</a>.</p>

<p>Referenced by <a class="el" href="scanner-context_8cc_source.html#l00058">impala::ScannerContext::AddStream()</a>, <a class="el" href="scanner-context_8h_source.html#l00109">bytes_left()</a>, <a class="el" href="scanner-context_8h_source.html#l00113">eosr()</a>, <a class="el" href="scanner-context_8h_source.html#l00123">file_offset()</a>, <a class="el" href="scanner-context_8inline_8h_source.html#l00031">GetBytes()</a>, and <a class="el" href="scanner-context_8h_source.html#l00126">total_bytes_returned()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>be/src/exec/<a class="el" href="scanner-context_8h_source.html">scanner-context.h</a></li>
<li>be/src/exec/<a class="el" href="scanner-context_8cc_source.html">scanner-context.cc</a></li>
<li>be/src/exec/<a class="el" href="scanner-context_8inline_8h_source.html">scanner-context.inline.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceimpala.html">impala</a></li><li class="navelem"><a class="el" href="classimpala_1_1ScannerContext.html">ScannerContext</a></li><li class="navelem"><a class="el" href="classimpala_1_1ScannerContext_1_1Stream.html">Stream</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:48 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
