<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: impala::ImpalaServer::QueryExecState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classimpala_1_1ImpalaServer_1_1QueryExecState.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classimpala_1_1ImpalaServer_1_1QueryExecState-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">impala::ImpalaServer::QueryExecState Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for impala::ImpalaServer::QueryExecState:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classimpala_1_1ImpalaServer_1_1QueryExecState__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2755bf0296e0a352342ee611cbdd21e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a2755bf0296e0a352342ee611cbdd21e0">QueryExecState</a> (const TQueryCtx &amp;query_ctx, <a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a> *exec_env, <a class="el" href="classimpala_1_1Frontend.html">Frontend</a> *frontend, <a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a> *server, boost::shared_ptr&lt; <a class="el" href="structimpala_1_1ImpalaServer_1_1SessionState.html">ImpalaServer::SessionState</a> &gt; <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a9db435d17209837430dd2a6c90ed7c30">session</a>)</td></tr>
<tr class="separator:a2755bf0296e0a352342ee611cbdd21e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18ab1fe23b1a4fcb957ac82dbe3ba97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae18ab1fe23b1a4fcb957ac82dbe3ba97">~QueryExecState</a> ()</td></tr>
<tr class="separator:ae18ab1fe23b1a4fcb957ac82dbe3ba97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcbffae250c8467e98624e9ec2f28f0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adcbffae250c8467e98624e9ec2f28f0d">Exec</a> (TExecRequest *<a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7a1dcd8febe0ad743627b5203f8cbe70">exec_request</a>)</td></tr>
<tr class="separator:adcbffae250c8467e98624e9ec2f28f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0012601d986d19150d89e0caeaee380e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a0012601d986d19150d89e0caeaee380e">Exec</a> (const TMetadataOpRequest &amp;<a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7a1dcd8febe0ad743627b5203f8cbe70">exec_request</a>)</td></tr>
<tr class="separator:a0012601d986d19150d89e0caeaee380e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fec5aa3341639dafce44db33bf70bfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait</a> ()</td></tr>
<tr class="separator:a5fec5aa3341639dafce44db33bf70bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ec39a88d7bd5a109e983d8cb2ad1d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a32ec39a88d7bd5a109e983d8cb2ad1d0">WaitAsync</a> ()</td></tr>
<tr class="memdesc:a32ec39a88d7bd5a109e983d8cb2ad1d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a> asynchronously in a thread and returns immediately.  <a href="#a32ec39a88d7bd5a109e983d8cb2ad1d0">More...</a><br/></td></tr>
<tr class="separator:a32ec39a88d7bd5a109e983d8cb2ad1d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d92a8a5317d9bba2b625846d32bafa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a8d92a8a5317d9bba2b625846d32bafa2">BlockOnWait</a> ()</td></tr>
<tr class="separator:a8d92a8a5317d9bba2b625846d32bafa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7f3412262cb02efa49a45226d34017"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows</a> (const int32_t max_rows, <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> *<a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aca8bf71dfcc4b26e57d357435f626274">fetched_rows</a>)</td></tr>
<tr class="separator:adc7f3412262cb02efa49a45226d34017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdf78e8e13397a3f5ea8b4f790391fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a1fdf78e8e13397a3f5ea8b4f790391fe">RestartFetch</a> ()</td></tr>
<tr class="separator:a1fdf78e8e13397a3f5ea8b4f790391fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5aa302a28ba0eb277846c9ce591e279"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ab5aa302a28ba0eb277846c9ce591e279">UpdateQueryState</a> (beeswax::QueryState::type <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a41630f24a3a0e75b1a68e59173f00a74">query_state</a>)</td></tr>
<tr class="separator:ab5aa302a28ba0eb277846c9ce591e279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e1583fd321c0d764c39e82246c4eff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ad1e1583fd321c0d764c39e82246c4eff">UpdateQueryStatus</a> (const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;status)</td></tr>
<tr class="separator:ad1e1583fd321c0d764c39e82246c4eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f534a492fae21bab175d28d044261a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ad7f534a492fae21bab175d28d044261a">Cancel</a> (const <a class="el" href="classimpala_1_1Status.html">Status</a> *cause=NULL)</td></tr>
<tr class="separator:ad7f534a492fae21bab175d28d044261a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c11f94111216eaaf1ee7b73ccc6393f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7c11f94111216eaaf1ee7b73ccc6393f">Done</a> ()</td></tr>
<tr class="separator:a7c11f94111216eaaf1ee7b73ccc6393f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0baab5e394a3cc31608cfc5247c0584b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a0baab5e394a3cc31608cfc5247c0584b">SetResultCache</a> (<a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> *cache, int64_t max_size)</td></tr>
<tr class="separator:a0baab5e394a3cc31608cfc5247c0584b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db435d17209837430dd2a6c90ed7c30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structimpala_1_1ImpalaServer_1_1SessionState.html">ImpalaServer::SessionState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a9db435d17209837430dd2a6c90ed7c30">session</a> () const </td></tr>
<tr class="separator:a9db435d17209837430dd2a6c90ed7c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427240fe9cf3bc9dcb56f6c83dd51ce4"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a427240fe9cf3bc9dcb56f6c83dd51ce4">effective_user</a> () const </td></tr>
<tr class="separator:a427240fe9cf3bc9dcb56f6c83dd51ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e07dc83a8c311d6e17b4771c9c1875b"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7e07dc83a8c311d6e17b4771c9c1875b">connected_user</a> () const </td></tr>
<tr class="separator:a7e07dc83a8c311d6e17b4771c9c1875b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ace93bb4e369b8dad34b79855953d1"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a57ace93bb4e369b8dad34b79855953d1">do_as_user</a> () const </td></tr>
<tr class="separator:a57ace93bb4e369b8dad34b79855953d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab789a1de218b00eb3d457713f4cce2"><td class="memItemLeft" align="right" valign="top">TSessionType::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aaab789a1de218b00eb3d457713f4cce2">session_type</a> () const </td></tr>
<tr class="separator:aaab789a1de218b00eb3d457713f4cce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51be5e8cb76fef545cad7cec78fa5b9"><td class="memItemLeft" align="right" valign="top">const TUniqueId &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ad51be5e8cb76fef545cad7cec78fa5b9">session_id</a> () const </td></tr>
<tr class="separator:ad51be5e8cb76fef545cad7cec78fa5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc0d94fe8b2aea9a578503d6245b52d"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#acbc0d94fe8b2aea9a578503d6245b52d">default_db</a> () const </td></tr>
<tr class="separator:acbc0d94fe8b2aea9a578503d6245b52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3875ae68c0b77dceb9df2bf685608300"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a3875ae68c0b77dceb9df2bf685608300">eos</a> () const </td></tr>
<tr class="separator:a3875ae68c0b77dceb9df2bf685608300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049a998e5607a834c835253021151494"><td class="memItemLeft" align="right" valign="top">Coordinator *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a049a998e5607a834c835253021151494">coord</a> () const </td></tr>
<tr class="separator:a049a998e5607a834c835253021151494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8c6e01a420676900a55ae97b07223c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1QuerySchedule.html">QuerySchedule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#acd8c6e01a420676900a55ae97b07223c">schedule</a> ()</td></tr>
<tr class="separator:acd8c6e01a420676900a55ae97b07223c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ccd75595647fd9b7ecb5bdbb579172"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae9ccd75595647fd9b7ecb5bdbb579172">num_rows_fetched</a> () const </td></tr>
<tr class="separator:ae9ccd75595647fd9b7ecb5bdbb579172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff43aaf7d57a2dd89238dd177da5630e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aff43aaf7d57a2dd89238dd177da5630e">set_fetched_rows</a> ()</td></tr>
<tr class="separator:aff43aaf7d57a2dd89238dd177da5630e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8bf71dfcc4b26e57d357435f626274"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aca8bf71dfcc4b26e57d357435f626274">fetched_rows</a> () const </td></tr>
<tr class="separator:aca8bf71dfcc4b26e57d357435f626274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318ac4c45d6dabd912ea0a4155543b47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a318ac4c45d6dabd912ea0a4155543b47">returns_result_set</a> ()</td></tr>
<tr class="separator:a318ac4c45d6dabd912ea0a4155543b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd0467cb0903d036a7946df72990e2c"><td class="memItemLeft" align="right" valign="top">const TResultSetMetadata *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a3dd0467cb0903d036a7946df72990e2c">result_metadata</a> ()</td></tr>
<tr class="separator:a3dd0467cb0903d036a7946df72990e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe65775b5628c16ebc4ce8fb9d3b8d54"><td class="memItemLeft" align="right" valign="top">const TUniqueId &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#afe65775b5628c16ebc4ce8fb9d3b8d54">query_id</a> () const </td></tr>
<tr class="separator:afe65775b5628c16ebc4ce8fb9d3b8d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1dcd8febe0ad743627b5203f8cbe70"><td class="memItemLeft" align="right" valign="top">const TExecRequest &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7a1dcd8febe0ad743627b5203f8cbe70">exec_request</a> () const </td></tr>
<tr class="separator:a7a1dcd8febe0ad743627b5203f8cbe70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc0f21aa12dccf2babd2f71d0ed5091"><td class="memItemLeft" align="right" valign="top">TStmtType::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aebc0f21aa12dccf2babd2f71d0ed5091">stmt_type</a> () const </td></tr>
<tr class="separator:aebc0f21aa12dccf2babd2f71d0ed5091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81249267cb7638f77d7584810b4e59cc"><td class="memItemLeft" align="right" valign="top">TCatalogOpType::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a81249267cb7638f77d7584810b4e59cc">catalog_op_type</a> () const </td></tr>
<tr class="separator:a81249267cb7638f77d7584810b4e59cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204961238834aeeaf713f00344fa0b6d"><td class="memItemLeft" align="right" valign="top">TDdlType::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a204961238834aeeaf713f00344fa0b6d">ddl_type</a> () const </td></tr>
<tr class="separator:a204961238834aeeaf713f00344fa0b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf6adb58c8a3a5245c3b02d5d1215ff"><td class="memItemLeft" align="right" valign="top">boost::mutex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aedf6adb58c8a3a5245c3b02d5d1215ff">lock</a> ()</td></tr>
<tr class="separator:aedf6adb58c8a3a5245c3b02d5d1215ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603ba40194f77993451221c91166a65c"><td class="memItemLeft" align="right" valign="top">boost::mutex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a603ba40194f77993451221c91166a65c">fetch_rows_lock</a> ()</td></tr>
<tr class="separator:a603ba40194f77993451221c91166a65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41630f24a3a0e75b1a68e59173f00a74"><td class="memItemLeft" align="right" valign="top">const beeswax::QueryState::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a41630f24a3a0e75b1a68e59173f00a74">query_state</a> () const </td></tr>
<tr class="separator:a41630f24a3a0e75b1a68e59173f00a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89927361d328ccc71d3e163b227ffc3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a89927361d328ccc71d3e163b227ffc3a">set_query_state</a> (beeswax::QueryState::type state)</td></tr>
<tr class="separator:a89927361d328ccc71d3e163b227ffc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f217cf21c1d4ecca42100e2db5c3dd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a96f217cf21c1d4ecca42100e2db5c3dd">query_status</a> () const </td></tr>
<tr class="separator:a96f217cf21c1d4ecca42100e2db5c3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7c8ee2d8dfbbd93198d69bc8641a08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a9f7c8ee2d8dfbbd93198d69bc8641a08">set_result_metadata</a> (const TResultSetMetadata &amp;md)</td></tr>
<tr class="separator:a9f7c8ee2d8dfbbd93198d69bc8641a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d36bdd53be60d2bfba99af039ebfbf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#af4d36bdd53be60d2bfba99af039ebfbf">profile</a> () const </td></tr>
<tr class="separator:af4d36bdd53be60d2bfba99af039ebfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5323b2e906dc1d811b916d8e414ecd7a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5323b2e906dc1d811b916d8e414ecd7a">summary_profile</a> () const </td></tr>
<tr class="separator:a5323b2e906dc1d811b916d8e414ecd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3184d48ebc2c3908c5c2d2f007dc6a5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ac3184d48ebc2c3908c5c2d2f007dc6a5">start_time</a> () const </td></tr>
<tr class="separator:ac3184d48ebc2c3908c5c2d2f007dc6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99df76ac3505afaa88443280cb9977f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aa99df76ac3505afaa88443280cb9977f">end_time</a> () const </td></tr>
<tr class="separator:aa99df76ac3505afaa88443280cb9977f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a755127ed96d85ff784e75a175b2235"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a4a755127ed96d85ff784e75a175b2235">sql_stmt</a> () const </td></tr>
<tr class="separator:a4a755127ed96d85ff784e75a175b2235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab76b11ad3051bf8ab7a14a3576c9c8"><td class="memItemLeft" align="right" valign="top">const TQueryOptions &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7ab76b11ad3051bf8ab7a14a3576c9c8">query_options</a> () const </td></tr>
<tr class="separator:a7ab76b11ad3051bf8ab7a14a3576c9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5098dce6212ad2e44ff2c859f3af8c6c"><td class="memItemLeft" align="right" valign="top">TUniqueId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5098dce6212ad2e44ff2c859f3af8c6c">parent_query_id</a> () const </td></tr>
<tr class="memdesc:a5098dce6212ad2e44ff2c859f3af8c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 0:0 if this is a root query.  <a href="#a5098dce6212ad2e44ff2c859f3af8c6c">More...</a><br/></td></tr>
<tr class="separator:a5098dce6212ad2e44ff2c859f3af8c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f8f796b48264eb33205cdb2f75ef9e"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a25f8f796b48264eb33205cdb2f75ef9e">GetAnalysisWarnings</a> () const </td></tr>
<tr class="separator:a25f8f796b48264eb33205cdb2f75ef9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b19c600abcc8937d69c8618951e5a6"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a98b19c600abcc8937d69c8618951e5a6">last_active</a> () const </td></tr>
<tr class="separator:a98b19c600abcc8937d69c8618951e5a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837332e1f98b25bb05b1a66e879694aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a837332e1f98b25bb05b1a66e879694aa">is_active</a> () const </td></tr>
<tr class="memdesc:a837332e1f98b25bb05b1a66e879694aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if Impala is actively processing this query.  <a href="#a837332e1f98b25bb05b1a66e879694aa">More...</a><br/></td></tr>
<tr class="separator:a837332e1f98b25bb05b1a66e879694aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27287ba1ac88a3edb07a0270cf98e35b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1EventSequence.html">RuntimeProfile::EventSequence</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a27287ba1ac88a3edb07a0270cf98e35b">query_events</a> () const </td></tr>
<tr class="separator:a27287ba1ac88a3edb07a0270cf98e35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70636efd7274a4456eae1e799728918"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae70636efd7274a4456eae1e799728918">summary_profile</a> ()</td></tr>
<tr class="separator:ae70636efd7274a4456eae1e799728918"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a59b34157dde1971f03d0759fefa2b514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a59b34157dde1971f03d0759fefa2b514">ExecLocalCatalogOp</a> (const TCatalogOpRequest &amp;catalog_op)</td></tr>
<tr class="separator:a59b34157dde1971f03d0759fefa2b514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2e420b4a72cd5ff6b189d1574a66a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a1f2e420b4a72cd5ff6b189d1574a66a7">MarkInactive</a> ()</td></tr>
<tr class="separator:a1f2e420b4a72cd5ff6b189d1574a66a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1ccea874aa33d66ad7a5936a2ce2eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aaf1ccea874aa33d66ad7a5936a2ce2eb">MarkActive</a> ()</td></tr>
<tr class="separator:aaf1ccea874aa33d66ad7a5936a2ce2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b023004e1f449c3f6a2136dfaac7aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a89b023004e1f449c3f6a2136dfaac7aa">ExecQueryOrDmlRequest</a> (const TQueryExecRequest &amp;query_exec_request)</td></tr>
<tr class="separator:a89b023004e1f449c3f6a2136dfaac7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6437b5a084d252e9088a814997a560"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aea6437b5a084d252e9088a814997a560">ExecDdlRequest</a> ()</td></tr>
<tr class="separator:aea6437b5a084d252e9088a814997a560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93411a6145e8a7c18884663d509373f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a93411a6145e8a7c18884663d509373f3">ExecLoadDataRequest</a> ()</td></tr>
<tr class="memdesc:a93411a6145e8a7c18884663d509373f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a LOAD DATA.  <a href="#a93411a6145e8a7c18884663d509373f3">More...</a><br/></td></tr>
<tr class="separator:a93411a6145e8a7c18884663d509373f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f29f9c5d55a9517cffa320669d3d7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a96f29f9c5d55a9517cffa320669d3d7a">WaitInternal</a> ()</td></tr>
<tr class="memdesc:a96f29f9c5d55a9517cffa320669d3d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core logic of <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a>. Does not update query_state_/status_.  <a href="#a96f29f9c5d55a9517cffa320669d3d7a">More...</a><br/></td></tr>
<tr class="separator:a96f29f9c5d55a9517cffa320669d3d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a664c5d603ec704e229660c16aa3bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ab7a664c5d603ec704e229660c16aa3bd">FetchRowsInternal</a> (const int32_t max_rows, <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> *<a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aca8bf71dfcc4b26e57d357435f626274">fetched_rows</a>)</td></tr>
<tr class="separator:ab7a664c5d603ec704e229660c16aa3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331596c3b2b002d16a2e01c40b151bb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a331596c3b2b002d16a2e01c40b151bb8">FetchNextBatch</a> ()</td></tr>
<tr class="separator:a331596c3b2b002d16a2e01c40b151bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e3b785c630ddf75c1d3f62907c5c33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a44e3b785c630ddf75c1d3f62907c5c33">GetRowValue</a> (<a class="el" href="classimpala_1_1TupleRow.html">TupleRow</a> *row, std::vector&lt; void * &gt; *result, std::vector&lt; int &gt; *scales)</td></tr>
<tr class="separator:a44e3b785c630ddf75c1d3f62907c5c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8d6b4a3797d439197c29b2438b3773"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aaa8d6b4a3797d439197c29b2438b3773">UpdateCatalog</a> ()</td></tr>
<tr class="memdesc:aaa8d6b4a3797d439197c29b2438b3773"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather and publish all required updates to the metastore.  <a href="#aaa8d6b4a3797d439197c29b2438b3773">More...</a><br/></td></tr>
<tr class="separator:aaa8d6b4a3797d439197c29b2438b3773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cc03e955ca4490c936b929930598b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a16cc03e955ca4490c936b929930598b9">SetResultSet</a> (const std::vector&lt; std::string &gt; &amp;results)</td></tr>
<tr class="separator:a16cc03e955ca4490c936b929930598b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3f57942ece05ee2c8626c83f9dcc72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#abc3f57942ece05ee2c8626c83f9dcc72">SetResultSet</a> (const std::vector&lt; std::string &gt; &amp;col1, const std::vector&lt; std::string &gt; &amp;col2)</td></tr>
<tr class="separator:abc3f57942ece05ee2c8626c83f9dcc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c6843d9d2efa873faef344695fa78b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ab1c6843d9d2efa873faef344695fa78b">SetResultSet</a> (const std::vector&lt; std::string &gt; &amp;col1, const std::vector&lt; std::string &gt; &amp;col2, const std::vector&lt; std::string &gt; &amp;col3, const std::vector&lt; std::string &gt; &amp;col4)</td></tr>
<tr class="separator:ab1c6843d9d2efa873faef344695fa78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d098d467a492198973efc40081c7ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a60d098d467a492198973efc40081c7ba">SetCreateTableAsSelectResultSet</a> ()</td></tr>
<tr class="separator:a60d098d467a492198973efc40081c7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741b21ca7e51581e491eb103a05de6c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a741b21ca7e51581e491eb103a05de6c4">UpdateTableAndColumnStats</a> ()</td></tr>
<tr class="separator:a741b21ca7e51581e491eb103a05de6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4efc610ad76cf3cc5161b3f86d33a5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ab4efc610ad76cf3cc5161b3f86d33a5b">ExecChildQueriesAsync</a> ()</td></tr>
<tr class="separator:ab4efc610ad76cf3cc5161b3f86d33a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b1192654922c68c775f6d0958ac162"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae8b1192654922c68c775f6d0958ac162">ExecChildQueries</a> ()</td></tr>
<tr class="separator:ae8b1192654922c68c775f6d0958ac162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111126a99563fd28136cc5fa1e0a4c37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a111126a99563fd28136cc5fa1e0a4c37">WaitForChildQueries</a> ()</td></tr>
<tr class="separator:a111126a99563fd28136cc5fa1e0a4c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edf3b9ada9e2d730b06f63008305d75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7edf3b9ada9e2d730b06f63008305d75">ClearResultCache</a> ()</td></tr>
<tr class="separator:a7edf3b9ada9e2d730b06f63008305d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a517beb95073f43a834a92112d1f69f57"><td class="memItemLeft" align="right" valign="top">const TQueryCtx&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a517beb95073f43a834a92112d1f69f57">query_ctx_</a></td></tr>
<tr class="separator:a517beb95073f43a834a92112d1f69f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a88ab0e11314c14f433a375c39c2c0b"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7a88ab0e11314c14f433a375c39c2c0b">fetch_rows_lock_</a></td></tr>
<tr class="separator:a7a88ab0e11314c14f433a375c39c2c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a42c8930656dba040dddcf034700d46"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a3a42c8930656dba040dddcf034700d46">expiration_data_lock_</a></td></tr>
<tr class="separator:a3a42c8930656dba040dddcf034700d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6a994b67d2fb214ad73e766193627d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a2f6a994b67d2fb214ad73e766193627d">last_active_time_</a></td></tr>
<tr class="separator:a2f6a994b67d2fb214ad73e766193627d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e189beef8399b39a7024976b20b55e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ab9e189beef8399b39a7024976b20b55e">ref_count_</a></td></tr>
<tr class="separator:ab9e189beef8399b39a7024976b20b55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c342a7d1f41c6852f87dbf9ca58963"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1Thread.html">Thread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a14c342a7d1f41c6852f87dbf9ca58963">wait_thread_</a></td></tr>
<tr class="memdesc:a14c342a7d1f41c6852f87dbf9ca58963"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classimpala_1_1Thread.html" title="TODO: Consider allowing fragment IDs as category parameters. ">Thread</a> for asynchronously running <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a>.  <a href="#a14c342a7d1f41c6852f87dbf9ca58963">More...</a><br/></td></tr>
<tr class="separator:a14c342a7d1f41c6852f87dbf9ca58963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150726337981e451f98b2b2624f4e9b7"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a150726337981e451f98b2b2624f4e9b7">lock_</a></td></tr>
<tr class="separator:a150726337981e451f98b2b2624f4e9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4e8fefcbfa716da54477832d9f28d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aef4e8fefcbfa716da54477832d9f28d7">exec_env_</a></td></tr>
<tr class="separator:aef4e8fefcbfa716da54477832d9f28d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20664af97c5c68b253c65e5bcef84bcc"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="structimpala_1_1ImpalaServer_1_1SessionState.html">SessionState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a20664af97c5c68b253c65e5bcef84bcc">session_</a></td></tr>
<tr class="memdesc:a20664af97c5c68b253c65e5bcef84bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session that this query is from.  <a href="#a20664af97c5c68b253c65e5bcef84bcc">More...</a><br/></td></tr>
<tr class="separator:a20664af97c5c68b253c65e5bcef84bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36e29ab1f9e1fa56ec767e58f0b1e9e"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1QuerySchedule.html">QuerySchedule</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae36e29ab1f9e1fa56ec767e58f0b1e9e">schedule_</a></td></tr>
<tr class="memdesc:ae36e29ab1f9e1fa56ec767e58f0b1e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resource assignment determined by scheduler. Owned by obj_pool_.  <a href="#ae36e29ab1f9e1fa56ec767e58f0b1e9e">More...</a><br/></td></tr>
<tr class="separator:ae36e29ab1f9e1fa56ec767e58f0b1e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1e4cdb18161477ae9c5bff1d5d7601"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; Coordinator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a1c1e4cdb18161477ae9c5bff1d5d7601">coord_</a></td></tr>
<tr class="memdesc:a1c1e4cdb18161477ae9c5bff1d5d7601"><td class="mdescLeft">&#160;</td><td class="mdescRight">not set for ddl queries, or queries with "limit 0"  <a href="#a1c1e4cdb18161477ae9c5bff1d5d7601">More...</a><br/></td></tr>
<tr class="separator:a1c1e4cdb18161477ae9c5bff1d5d7601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a26cdd07b3e9ddac733f239dc9bd24"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr<br class="typebreak"/>
&lt; <a class="el" href="classimpala_1_1CatalogOpExecutor.html">CatalogOpExecutor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a18a26cdd07b3e9ddac733f239dc9bd24">catalog_op_executor_</a></td></tr>
<tr class="memdesc:a18a26cdd07b3e9ddac733f239dc9bd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs statements that query or modify the catalog via the CatalogService.  <a href="#a18a26cdd07b3e9ddac733f239dc9bd24">More...</a><br/></td></tr>
<tr class="separator:a18a26cdd07b3e9ddac733f239dc9bd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717af4252bbac12c775aec48bc6a22a8"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; std::vector<br class="typebreak"/>
&lt; TResultRow &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a717af4252bbac12c775aec48bc6a22a8">request_result_set_</a></td></tr>
<tr class="separator:a717af4252bbac12c775aec48bc6a22a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6b0f9ad8d002e1fcd8fc050f40266e"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a7f6b0f9ad8d002e1fcd8fc050f40266e">result_cache_</a></td></tr>
<tr class="separator:a7f6b0f9ad8d002e1fcd8fc050f40266e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998aed9d657e51de72685e82081fff7b"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a998aed9d657e51de72685e82081fff7b">result_cache_max_size_</a></td></tr>
<tr class="memdesc:a998aed9d657e51de72685e82081fff7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of the result_cache_ in number of rows. A value &lt;= 0 means no caching.  <a href="#a998aed9d657e51de72685e82081fff7b">More...</a><br/></td></tr>
<tr class="separator:a998aed9d657e51de72685e82081fff7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9702c4fcee2e848e865e0bc2df487938"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1RuntimeState.html">RuntimeState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a9702c4fcee2e848e865e0bc2df487938">local_runtime_state_</a></td></tr>
<tr class="memdesc:a9702c4fcee2e848e865e0bc2df487938"><td class="mdescLeft">&#160;</td><td class="mdescRight">local runtime_state_ in case we don't have a coord_  <a href="#a9702c4fcee2e848e865e0bc2df487938">More...</a><br/></td></tr>
<tr class="separator:a9702c4fcee2e848e865e0bc2df487938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ce8c8c47515b8aba0c7de8240e2f45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ObjectPool.html">ObjectPool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a07ce8c8c47515b8aba0c7de8240e2f45">profile_pool_</a></td></tr>
<tr class="separator:a07ce8c8c47515b8aba0c7de8240e2f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa83f4c26f582a5640cbee70643487d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aeaa83f4c26f582a5640cbee70643487d">profile_</a></td></tr>
<tr class="separator:aeaa83f4c26f582a5640cbee70643487d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b37f078c770e856f43e0b340de474a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a9b37f078c770e856f43e0b340de474a0">server_profile_</a></td></tr>
<tr class="separator:a9b37f078c770e856f43e0b340de474a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac821a9a711d182c2a4fe9aefdd79db05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ac821a9a711d182c2a4fe9aefdd79db05">summary_profile_</a></td></tr>
<tr class="separator:ac821a9a711d182c2a4fe9aefdd79db05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7e466f89f2e562ea7b22316cc60709"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a9e7e466f89f2e562ea7b22316cc60709">row_materialization_timer_</a></td></tr>
<tr class="separator:a9e7e466f89f2e562ea7b22316cc60709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07a948162c992c629729f6031f37c59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aa07a948162c992c629729f6031f37c59">client_wait_timer_</a></td></tr>
<tr class="memdesc:aa07a948162c992c629729f6031f37c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks how long we are idle waiting for a client to fetch rows.  <a href="#aa07a948162c992c629729f6031f37c59">More...</a><br/></td></tr>
<tr class="separator:aa07a948162c992c629729f6031f37c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e1099550f5978dcde3dc4bad02204a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MonotonicStopWatch.html">MonotonicStopWatch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae8e1099550f5978dcde3dc4bad02204a">client_wait_sw_</a></td></tr>
<tr class="memdesc:ae8e1099550f5978dcde3dc4bad02204a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer to track idle time for the above counter.  <a href="#ae8e1099550f5978dcde3dc4bad02204a">More...</a><br/></td></tr>
<tr class="separator:ae8e1099550f5978dcde3dc4bad02204a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c7ee659be2b82de9d7e46938b90b5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1EventSequence.html">RuntimeProfile::EventSequence</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ac1c7ee659be2b82de9d7e46938b90b5e">query_events_</a></td></tr>
<tr class="separator:ac1c7ee659be2b82de9d7e46938b90b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c463d64afd357ac8848b9e929cbaa80"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classimpala_1_1ExprContext.html">ExprContext</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a4c463d64afd357ac8848b9e929cbaa80">output_expr_ctxs_</a></td></tr>
<tr class="separator:a4c463d64afd357ac8848b9e929cbaa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6325774a15b5b29d910f826ca196a00e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a6325774a15b5b29d910f826ca196a00e">eos_</a></td></tr>
<tr class="separator:a6325774a15b5b29d910f826ca196a00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13913ed2051374d830b45397629982c8"><td class="memItemLeft" align="right" valign="top">beeswax::QueryState::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a13913ed2051374d830b45397629982c8">query_state_</a></td></tr>
<tr class="separator:a13913ed2051374d830b45397629982c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557157d41b8bc8b1ff9724d8b651ebe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a557157d41b8bc8b1ff9724d8b651ebe2">query_status_</a></td></tr>
<tr class="separator:a557157d41b8bc8b1ff9724d8b651ebe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9840e99a29959b8776383140401b290"><td class="memItemLeft" align="right" valign="top">TExecRequest&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae9840e99a29959b8776383140401b290">exec_request_</a></td></tr>
<tr class="separator:ae9840e99a29959b8776383140401b290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da5e92f53370f427146b2ff0d366749"><td class="memItemLeft" align="right" valign="top">TResultSetMetadata&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a8da5e92f53370f427146b2ff0d366749">result_metadata_</a></td></tr>
<tr class="separator:a8da5e92f53370f427146b2ff0d366749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe4e6a6e3f31d226cc0bef924d7a08b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#abfe4e6a6e3f31d226cc0bef924d7a08b">current_batch_</a></td></tr>
<tr class="separator:abfe4e6a6e3f31d226cc0bef924d7a08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981c161d89b268829c99cb20c2e2ad0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a981c161d89b268829c99cb20c2e2ad0e">current_batch_row_</a></td></tr>
<tr class="separator:a981c161d89b268829c99cb20c2e2ad0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d2e1533cf4723d94e785e2f7a2abbd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#af8d2e1533cf4723d94e785e2f7a2abbd">num_rows_fetched_</a></td></tr>
<tr class="separator:af8d2e1533cf4723d94e785e2f7a2abbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15dcd4f34ac162a716577a3bd46e4afa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a15dcd4f34ac162a716577a3bd46e4afa">fetched_rows_</a></td></tr>
<tr class="separator:a15dcd4f34ac162a716577a3bd46e4afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073b39accca45a7b377a225788aca033"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Frontend.html">Frontend</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a073b39accca45a7b377a225788aca033">frontend_</a></td></tr>
<tr class="memdesc:a073b39accca45a7b377a225788aca033"><td class="mdescLeft">&#160;</td><td class="mdescRight">To get access to UpdateCatalog, LOAD, and DDL methods. Not owned.  <a href="#a073b39accca45a7b377a225788aca033">More...</a><br/></td></tr>
<tr class="separator:a073b39accca45a7b377a225788aca033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec3601be28975bc5ca31257acda3744"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a0ec3601be28975bc5ca31257acda3744">parent_server_</a></td></tr>
<tr class="separator:a0ec3601be28975bc5ca31257acda3744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43873a8385f0141e4a150b0688bb38d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ad43873a8385f0141e4a150b0688bb38d">start_time_</a></td></tr>
<tr class="memdesc:ad43873a8385f0141e4a150b0688bb38d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start/end time of the query.  <a href="#ad43873a8385f0141e4a150b0688bb38d">More...</a><br/></td></tr>
<tr class="separator:ad43873a8385f0141e4a150b0688bb38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2dffe4bd0830c998f08e86ccdb85e78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ab2dffe4bd0830c998f08e86ccdb85e78">end_time_</a></td></tr>
<tr class="separator:ab2dffe4bd0830c998f08e86ccdb85e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675126b995c917564e3f5132e70a7814"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classimpala_1_1ChildQuery.html">ChildQuery</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a675126b995c917564e3f5132e70a7814">child_queries_</a></td></tr>
<tr class="memdesc:a675126b995c917564e3f5132e70a7814"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of child queries to be executed on behalf of this query.  <a href="#a675126b995c917564e3f5132e70a7814">More...</a><br/></td></tr>
<tr class="separator:a675126b995c917564e3f5132e70a7814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d000668be440047a47c3b3319e77a49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a1d000668be440047a47c3b3319e77a49">child_queries_status_</a></td></tr>
<tr class="separator:a1d000668be440047a47c3b3319e77a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2385c57ae6332a7087ee004ca7187f7c"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1Thread.html">Thread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a2385c57ae6332a7087ee004ca7187f7c">child_queries_thread_</a></td></tr>
<tr class="separator:a2385c57ae6332a7087ee004ca7187f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Execution state of a query. This captures everything necessary to convert row batches received by the coordinator into results we can return to the client. It also captures all state required for servicing query-related requests from the client. <a class="el" href="classimpala_1_1Thread.html" title="TODO: Consider allowing fragment IDs as category parameters. ">Thread</a> safety: this class is generally not thread-safe, callers need to synchronize access explicitly via <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aedf6adb58c8a3a5245c3b02d5d1215ff">lock()</a>. To avoid deadlocks, the caller must <em>not</em> acquire query_exec_state_map_lock_ while holding the exec state's lock. TODO: Consider renaming to RequestExecState for consistency. TODO: Compute stats is the only stmt that requires child queries. Once the CatalogService performs background stats gathering the concept of child queries will likely become obsolete. Remove all child-query related code from this class. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00055">55</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2755bf0296e0a352342ee611cbdd21e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">impala::ImpalaServer::QueryExecState::QueryExecState </td>
          <td>(</td>
          <td class="paramtype">const TQueryCtx &amp;&#160;</td>
          <td class="paramname"><em>query_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a> *&#160;</td>
          <td class="paramname"><em>exec_env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Frontend.html">Frontend</a> *&#160;</td>
          <td class="paramname"><em>frontend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="structimpala_1_1ImpalaServer_1_1SessionState.html">ImpalaServer::SessionState</a> &gt;&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00057">57</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="runtime-profile_8h_source.html#l00050">ADD_TIMER</a>, <a class="el" href="runtime-profile_8cc_source.html#l00368">impala::RuntimeProfile::AddChild()</a>, <a class="el" href="classimpala_1_1RuntimeProfile.html#ae208636992a7268178bf843a26da942c">impala::RuntimeProfile::AddEventSequence()</a>, <a class="el" href="runtime-profile_8cc_source.html#l00406">impala::RuntimeProfile::AddInfoString()</a>, <a class="el" href="exec-env_8h_source.html#l00099">impala::ExecEnv::backend_address()</a>, <a class="el" href="query-exec-state_8h_source.html#l00270">client_wait_timer_</a>, <a class="el" href="query-exec-state_8h_source.html#l00141">connected_user()</a>, <a class="el" href="udf-debug_8h_source.html#l00027">impala_udf::DebugString()</a>, <a class="el" href="query-exec-state_8h_source.html#l00145">default_db()</a>, <a class="el" href="query-exec-state_8h_source.html#l00142">do_as_user()</a>, <a class="el" href="query-exec-state_8h_source.html#l00138">effective_user()</a>, <a class="el" href="debug-util_8cc_source.html#l00239">impala::GetVersionString()</a>, <a class="el" href="debug-util_8cc_source.html#l00097">impala::PrintId()</a>, <a class="el" href="namespaceimpala.html#adec54048f508417845d6c10e79fb454b">impala::PrintQueryState()</a>, <a class="el" href="namespaceimpala.html#adc42054b0212e9d7e56de48072d4fd35">impala::PrintTSessionType()</a>, <a class="el" href="query-exec-state_8h_source.html#l00264">profile_</a>, <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>, <a class="el" href="query-exec-state_8h_source.html#l00274">query_events_</a>, <a class="el" href="query-exec-state_8h_source.html#l00154">query_id()</a>, <a class="el" href="query-exec-state_8h_source.html#l00277">query_state_</a>, <a class="el" href="query-exec-state_8h_source.html#l00267">row_materialization_timer_</a>, <a class="el" href="query-exec-state_8h_source.html#l00265">server_profile_</a>, <a class="el" href="query-exec-state_8h_source.html#l00223">session_</a>, <a class="el" href="query-exec-state_8h_source.html#l00144">session_id()</a>, <a class="el" href="query-exec-state_8h_source.html#l00143">session_type()</a>, <a class="el" href="runtime-profile_8h_source.html#l00491">impala::RuntimeProfile::set_name()</a>, <a class="el" href="runtime-profile_8h_source.html#l00281">impala::RuntimeProfile::EventSequence::Start()</a>, <a class="el" href="query-exec-state_8h_source.html#l00171">start_time()</a>, <a class="el" href="query-exec-state_8h_source.html#l00266">summary_profile_</a>, and <a class="el" href="network-util_8cc_source.html#l00126">impala::TNetworkAddressToString()</a>.</p>

</div>
</div>
<a class="anchor" id="ae18ab1fe23b1a4fcb957ac82dbe3ba97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">impala::ImpalaServer::QueryExecState::~QueryExecState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00110">110</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8d92a8a5317d9bba2b625846d32bafa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::BlockOnWait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a8d92a8a5317d9bba2b625846d32bafa2">BlockOnWait()</a> may be called after <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a32ec39a88d7bd5a109e983d8cb2ad1d0" title="Calls Wait() asynchronously in a thread and returns immediately. ">WaitAsync()</a> has been called in order to wait for the asynchronous thread to complete. It is safe to call this multiple times (only the first call will block). Do not call while holding lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00531">531</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad7f534a492fae21bab175d28d044261a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::Cancel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1Status.html">Status</a> *&#160;</td>
          <td class="paramname"><em>cause</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancels the child queries and the coordinator with the given cause. If cause is NULL, assume this was deliberately cancelled by the user. Otherwise, sets state to EXCEPTION. Caller needs to hold lock_. Does nothing if the query has reached EOS or already cancelled. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00778">778</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="child-query_8cc_source.html#l00158">impala::ChildQuery::Cancel()</a>, <a class="el" href="runtime-profile_8h_source.html#l00286">impala::RuntimeProfile::EventSequence::MarkEvent()</a>, and <a class="el" href="coordinator_8h_source.html#l00309">impala::query_events_</a>.</p>

</div>
</div>
<a class="anchor" id="a81249267cb7638f77d7584810b4e59cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TCatalogOpType::type impala::ImpalaServer::QueryExecState::catalog_op_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00157">157</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00279">exec_request_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00483">impala::ImpalaServer::LogQueryEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a7edf3b9ada9e2d730b06f63008305d75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::ClearResultCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets result_cache_ to NULL and updates its associated metrics and mem consumption. This function is a no-op if the cache has already been cleared. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l01013">1013</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="impalad-metrics_8h_source.html#l00151">impala::ImpaladMetrics::RESULTSET_CACHE_TOTAL_BYTES</a>, and <a class="el" href="impalad-metrics_8h_source.html#l00150">impala::ImpaladMetrics::RESULTSET_CACHE_TOTAL_NUM_ROWS</a>.</p>

</div>
</div>
<a class="anchor" id="a7e07dc83a8c311d6e17b4771c9c1875b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; impala::ImpalaServer::QueryExecState::connected_user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00141">141</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00138">effective_user()</a>, <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a049a998e5607a834c835253021151494"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Coordinator* impala::ImpalaServer::QueryExecState::coord </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00147">147</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00229">coord_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00641">impala::ImpalaServer::ArchiveQuery()</a>.</p>

</div>
</div>
<a class="anchor" id="a204961238834aeeaf713f00344fa0b6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TDdlType::type impala::ImpalaServer::QueryExecState::ddl_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00160">160</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00279">exec_request_</a>.</p>

</div>
</div>
<a class="anchor" id="acbc0d94fe8b2aea9a578503d6245b52d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; impala::ImpalaServer::QueryExecState::default_db </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00145">145</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a57ace93bb4e369b8dad34b79855953d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; impala::ImpalaServer::QueryExecState::do_as_user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00142">142</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00223">session_</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00138">effective_user()</a>, <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c11f94111216eaaf1ee7b73ccc6393f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::Done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is called when the query is done (finished, cancelled, or failed). Takes lock_: callers must not hold <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aedf6adb58c8a3a5245c3b02d5d1215ff">lock()</a> before calling. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00489">489</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="classimpala_1_1Expr.html#a70300b0ba7c91fddb9adfaeb0dfc09a5">impala::Expr::Close()</a>, <a class="el" href="udf-debug_8h_source.html#l00027">impala_udf::DebugString()</a>, <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="status_8cc_source.html#l00184">impala::Status::GetDetail()</a>, <a class="el" href="timestamp-value_8h_source.html#l00105">impala::TimestampValue::LocalTime()</a>, <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, <a class="el" href="runtime-profile_8h_source.html#l00286">impala::RuntimeProfile::EventSequence::MarkEvent()</a>, <a class="el" href="namespaceimpala.html#adec54048f508417845d6c10e79fb454b">impala::PrintQueryState()</a>, <a class="el" href="coordinator_8h_source.html#l00309">impala::query_events_</a>, <a class="el" href="classimpala_1_1Scheduler.html#a4822a4f36fc867e0fe94a550135e9eb5">impala::Scheduler::Release()</a>, and <a class="el" href="exec-env_8h_source.html#l00096">impala::ExecEnv::scheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="a427240fe9cf3bc9dcb56f6c83dd51ce4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; impala::ImpalaServer::QueryExecState::effective_user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Queries are run and authorized on behalf of the effective_user. When a do_as_user is specified (is not empty), the effective_user is set to the do_as_user. This is because the connected_user is acting as a "proxy user" for the do_as_user. When do_as_user is empty, the effective_user is always set to the connected_user. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00138">138</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00141">connected_user()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00142">do_as_user()</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="aa99df76ac3505afaa88443280cb9977f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a>&amp; impala::ImpalaServer::QueryExecState::end_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00172">172</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00298">end_time_</a>.</p>

</div>
</div>
<a class="anchor" id="a3875ae68c0b77dceb9df2bf685608300"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ImpalaServer::QueryExecState::eos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00146">146</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00276">eos_</a>.</p>

</div>
</div>
<a class="anchor" id="adcbffae250c8467e98624e9ec2f28f0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::Exec </td>
          <td>(</td>
          <td class="paramtype">TExecRequest *&#160;</td>
          <td class="paramname"><em>exec_request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates execution of a exec_request. Non-blocking. Must <em>not</em> be called with lock_ held. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00128">128</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="namespaceimpala.html#adec54048f508417845d6c10e79fb454b">impala::PrintQueryState()</a>, <a class="el" href="namespaceimpala.html#a0dc1879f75a91e39c04756b576dd9fb0">impala::PrintTStmtType()</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="child-query_8cc_source.html#l00102">impala::SetQueryOption()</a>, and <a class="el" href="namespaceimpala.html#ad2b2ebf98fda20255c27b3489832726c">impala::TQueryOptionsToMap()</a>.</p>

</div>
</div>
<a class="anchor" id="a0012601d986d19150d89e0caeaee380e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::Exec </td>
          <td>(</td>
          <td class="paramtype">const TMetadataOpRequest &amp;&#160;</td>
          <td class="paramname"><em>exec_request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute a HiveServer2 metadata operation TODO: This is likely a superset of GetTableNames/GetDbNames. Coalesce these different code paths. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00514">514</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="namespaceimpala.html#adec54048f508417845d6c10e79fb454b">impala::PrintQueryState()</a>, <a class="el" href="namespaceimpala.html#a0dc1879f75a91e39c04756b576dd9fb0">impala::PrintTStmtType()</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a7a1dcd8febe0ad743627b5203f8cbe70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TExecRequest&amp; impala::ImpalaServer::QueryExecState::exec_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00155">155</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00279">exec_request_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00483">impala::ImpalaServer::LogQueryEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8b1192654922c68c775f6d0958ac162"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::ExecChildQueries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Serially executes the queries in child_queries_ by calling the child query's ExecAndWait(). This function is blocking and is intended to be run in a separate thread to ensure that <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adcbffae250c8467e98624e9ec2f28f0d">Exec()</a> remains non-blocking. Sets child_queries_status_. Must not be called while holding lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00994">994</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00988">ExecChildQueriesAsync()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4efc610ad76cf3cc5161b3f86d33a5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::ExecChildQueriesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Asynchronously executes all child_queries_ one by one. Calls <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#ae8b1192654922c68c775f6d0958ac162">ExecChildQueries()</a> in a new child_queries_thread_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00988">988</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="query-exec-state_8cc_source.html#l00994">ExecChildQueries()</a>.</p>

</div>
</div>
<a class="anchor" id="aea6437b5a084d252e9088a814997a560"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::ExecDdlRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Core logic of executing a ddl statement. May internally initiate execution of queries (e.g., compute stats) or dml (e.g., create table as select) </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00424">424</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="impala-server_8h_source.html#l00248">impala::ImpalaServer::ChildQuery</a>, <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="namespaceimpala.html#a6c2ea55f7735028c472eac2af5a080c8">impala::PrintTCatalogOpType()</a>, <a class="el" href="namespaceimpala.html#aeee4dcb8cff35c1b39c9525d6068762c">impala::PrintTDdlType()</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a93411a6145e8a7c18884663d509373f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::ExecLoadDataRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a LOAD DATA. </p>

</div>
</div>
<a class="anchor" id="a59b34157dde1971f03d0759fefa2b514"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::ExecLocalCatalogOp </td>
          <td>(</td>
          <td class="paramtype">const TCatalogOpRequest &amp;&#160;</td>
          <td class="paramname"><em>catalog_op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes a local catalog operation (an operation that does not need to execute against the catalog service). Includes USE, SHOW, DESCRIBE, and EXPLAIN statements. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00206">206</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="coordinator_8h_source.html#l00198">impala::query_ctx_</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a89b023004e1f449c3f6a2136dfaac7aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::ExecQueryOrDmlRequest </td>
          <td>(</td>
          <td class="paramtype">const TQueryExecRequest &amp;&#160;</td>
          <td class="paramname"><em>query_exec_request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Core logic of initiating a query or dml execution request. Initiates execution of plan fragments, if there are any, and sets up the output exprs for subsequent calls to <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows()</a>. Also sets up profile and pre-execution counters. Non-blocking. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00340">340</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, <a class="el" href="runtime-profile_8h_source.html#l00286">impala::RuntimeProfile::EventSequence::MarkEvent()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, <a class="el" href="query-exec-state_8cc_source.html#l00053">impala::PER_HOST_MEM_KEY</a>, <a class="el" href="query-exec-state_8cc_source.html#l00054">impala::PER_HOST_VCORES_KEY</a>, <a class="el" href="coordinator_8h_source.html#l00309">impala::query_events_</a>, <a class="el" href="coordinator_8h_source.html#l00152">impala::query_id()</a>, <a class="el" href="exec-env_8h_source.html#l00095">impala::ExecEnv::resource_broker()</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="classimpala_1_1Scheduler.html#a6a97868f104701ef3a652c522b1d39bc">impala::Scheduler::Schedule()</a>, <a class="el" href="exec-env_8h_source.html#l00096">impala::ExecEnv::scheduler()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00055">impala::TABLES_MISSING_STATS_KEY</a>.</p>

</div>
</div>
<a class="anchor" id="a603ba40194f77993451221c91166a65c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex* impala::ImpalaServer::QueryExecState::fetch_rows_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00164">164</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00203">fetch_rows_lock_</a>.</p>

</div>
</div>
<a class="anchor" id="aca8bf71dfcc4b26e57d357435f626274"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ImpalaServer::QueryExecState::fetched_rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00151">151</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00288">fetched_rows_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00483">impala::ImpalaServer::LogQueryEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a331596c3b2b002d16a2e01c40b151bb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::FetchNextBatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fetch the next row batch and store the results in current_batch_. Only called for non-DDL / DML queries. current_batch_ is set to NULL if execution is complete or the query was cancelled. Caller needs to hold fetch_rows_lock_ and lock_. Blocks, during which time lock_ is released. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00847">847</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, and <a class="el" href="coordinator_8h_source.html#l00237">impala::query_status_</a>.</p>

</div>
</div>
<a class="anchor" id="adc7f3412262cb02efa49a45226d34017"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::FetchRows </td>
          <td>(</td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>max_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> *&#160;</td>
          <td class="paramname"><em>fetched_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return at most max_rows from the current batch. If the entire current batch has been returned, fetch another batch first. Caller needs to hold fetch_rows_lock_ and lock_. Caller should verify that EOS has not be reached before calling. Must be preceeded by call to <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a> (or <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a32ec39a88d7bd5a109e983d8cb2ad1d0" title="Calls Wait() asynchronously in a thread and returns immediately. ">WaitAsync()</a>/BlockOnWait()). Also updates query_state_/status_ in case of error. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00589">589</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="coordinator_8h_source.html#l00237">impala::query_status_</a>.</p>

</div>
</div>
<a class="anchor" id="ab7a664c5d603ec704e229660c16aa3bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::FetchRowsInternal </td>
          <td>(</td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>max_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> *&#160;</td>
          <td class="paramname"><em>fetched_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Core logic of <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows()</a>. Does not update query_state_/status_. Caller needs to hold fetch_rows_lock_ and lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00636">636</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html#a43b02ca7b625d272b833999d5d2dbccf">impala::ImpalaServer::QueryResultSet::AddOneRow()</a>, <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html#af4632c42661a3ce09e00343df8cbdc97">impala::ImpalaServer::QueryResultSet::AddRows()</a>, <a class="el" href="impala-server_8h_source.html#l00275">impala::ImpalaServer::QueryResultSet::ByteSize()</a>, <a class="el" href="expr-context_8cc_source.html#l00109">impala::ExprContext::FreeLocalAllocations()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="namespaceimpala.html#a7ab8f672190232021bdfcf200502140c">impala::query_mem_tracker()</a>, <a class="el" href="mem-tracker_8h_source.html#l00209">impala::MemTracker::Release()</a>, <a class="el" href="impalad-metrics_8h_source.html#l00151">impala::ImpaladMetrics::RESULTSET_CACHE_TOTAL_BYTES</a>, <a class="el" href="impalad-metrics_8h_source.html#l00150">impala::ImpaladMetrics::RESULTSET_CACHE_TOTAL_NUM_ROWS</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="runtime-profile_8h_source.html#l00053">SCOPED_TIMER</a>, <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html#af8a10d44f2587c023e0d07ba8250cef9">impala::ImpalaServer::QueryResultSet::size()</a>, and <a class="el" href="mem-tracker_8h_source.html#l00163">impala::MemTracker::TryConsume()</a>.</p>

</div>
</div>
<a class="anchor" id="a25f8f796b48264eb33205cdb2f75ef9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;std::string&gt;&amp; impala::ImpalaServer::QueryExecState::GetAnalysisWarnings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00178">178</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00279">exec_request_</a>.</p>

</div>
</div>
<a class="anchor" id="a44e3b785c630ddf75c1d3f62907c5c33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::GetRowValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1TupleRow.html">TupleRow</a> *&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; void * &gt; *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>scales</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Evaluates 'output_expr_ctxs_' against 'row' and output the evaluated row in 'result'. The values' scales (# of digits after decimal) are stored in 'scales'. result and scales must have been resized to the number of columns before call. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00768">768</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>.</p>

</div>
</div>
<a class="anchor" id="a837332e1f98b25bb05b1a66e879694aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ImpalaServer::QueryExecState::is_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if Impala is actively processing this query. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00188">188</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00208">expiration_data_lock_</a>, and <a class="el" href="query-exec-state_8h_source.html#l00214">ref_count_</a>.</p>

</div>
</div>
<a class="anchor" id="a98b19c600abcc8937d69c8618951e5a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ImpalaServer::QueryExecState::last_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00182">182</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00208">expiration_data_lock_</a>, and <a class="el" href="query-exec-state_8h_source.html#l00209">last_active_time_</a>.</p>

</div>
</div>
<a class="anchor" id="aedf6adb58c8a3a5245c3b02d5d1215ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex* impala::ImpalaServer::QueryExecState::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00163">163</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00219">lock_</a>.</p>

</div>
</div>
<a class="anchor" id="aaf1ccea874aa33d66ad7a5936a2ce2eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::MarkActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates last_active_time_ and ref_count_ to reflect that query is currently being actively processed. Takes expiration_data_lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00937">937</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="time_8h_source.html#l00051">impala::UnixMillis()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f2e420b4a72cd5ff6b189d1574a66a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::MarkInactive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates last_active_time_ and ref_count_ to reflect that query is currently not doing any work. Takes expiration_data_lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00929">929</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="time_8h_source.html#l00051">impala::UnixMillis()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9ccd75595647fd9b7ecb5bdbb579172"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::ImpalaServer::QueryExecState::num_rows_fetched </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00149">149</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00284">num_rows_fetched_</a>.</p>

</div>
</div>
<a class="anchor" id="a5098dce6212ad2e44ff2c859f3af8c6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TUniqueId impala::ImpalaServer::QueryExecState::parent_query_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 0:0 if this is a root query. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00176">176</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

</div>
</div>
<a class="anchor" id="af4d36bdd53be60d2bfba99af039ebfbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>&amp; impala::ImpalaServer::QueryExecState::profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00169">169</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00264">profile_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00641">impala::ImpalaServer::ArchiveQuery()</a>.</p>

</div>
</div>
<a class="anchor" id="a27287ba1ac88a3edb07a0270cf98e35b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1EventSequence.html">RuntimeProfile::EventSequence</a>* impala::ImpalaServer::QueryExecState::query_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00193">193</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00274">query_events_</a>.</p>

</div>
</div>
<a class="anchor" id="afe65775b5628c16ebc4ce8fb9d3b8d54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TUniqueId&amp; impala::ImpalaServer::QueryExecState::query_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00154">154</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00641">impala::ImpalaServer::ArchiveQuery()</a>, <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ab76b11ad3051bf8ab7a14a3576c9c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TQueryOptions&amp; impala::ImpalaServer::QueryExecState::query_options </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00174">174</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

</div>
</div>
<a class="anchor" id="a41630f24a3a0e75b1a68e59173f00a74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const beeswax::QueryState::type impala::ImpalaServer::QueryExecState::query_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00165">165</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00277">query_state_</a>.</p>

</div>
</div>
<a class="anchor" id="a96f217cf21c1d4ecca42100e2db5c3dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1Status.html">Status</a>&amp; impala::ImpalaServer::QueryExecState::query_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00167">167</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00278">query_status_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="impala-server_8cc_source.html#l00483">impala::ImpalaServer::LogQueryEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fdf78e8e13397a3f5ea8b4f790391fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::RestartFetch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the state of this query such that the next <a class="el" href="classimpala_1_1ImpalaServer.html#a9adaa9392bc83dcbecadf9adb577be50">fetch()</a> returns results from the beginning of the query result set (by using the using result_cache_). It is valid to call this function for any type of statement that returns a result set, including queries, show stmts, compute stats, etc. Returns a recoverable error status if the restart is not possible, ok() otherwise. The error is recoverable to allow clients to resume fetching. The caller must hold fetch_rows_lock_ and lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00601">601</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>.</p>

</div>
</div>
<a class="anchor" id="a3dd0467cb0903d036a7946df72990e2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TResultSetMetadata* impala::ImpalaServer::QueryExecState::result_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00153">153</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00281">result_metadata_</a>.</p>

</div>
</div>
<a class="anchor" id="a318ac4c45d6dabd912ea0a4155543b47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ImpalaServer::QueryExecState::returns_result_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00152">152</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00281">result_metadata_</a>.</p>

</div>
</div>
<a class="anchor" id="acd8c6e01a420676900a55ae97b07223c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1QuerySchedule.html">QuerySchedule</a>* impala::ImpalaServer::QueryExecState::schedule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00148">148</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00226">schedule_</a>.</p>

</div>
</div>
<a class="anchor" id="a9db435d17209837430dd2a6c90ed7c30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structimpala_1_1ImpalaServer_1_1SessionState.html">ImpalaServer::SessionState</a>* impala::ImpalaServer::QueryExecState::session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00132">132</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00223">session_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>.</p>

</div>
</div>
<a class="anchor" id="ad51be5e8cb76fef545cad7cec78fa5b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TUniqueId&amp; impala::ImpalaServer::QueryExecState::session_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00144">144</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="aaab789a1de218b00eb3d457713f4cce2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TSessionType::type impala::ImpalaServer::QueryExecState::session_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00143">143</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="aff43aaf7d57a2dd89238dd177da5630e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::set_fetched_rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00150">150</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00288">fetched_rows_</a>.</p>

</div>
</div>
<a class="anchor" id="a89927361d328ccc71d3e163b227ffc3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::set_query_state </td>
          <td>(</td>
          <td class="paramtype">beeswax::QueryState::type&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00166">166</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00277">query_state_</a>.</p>

</div>
</div>
<a class="anchor" id="a9f7c8ee2d8dfbbd93198d69bc8641a08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::set_result_metadata </td>
          <td>(</td>
          <td class="paramtype">const TResultSetMetadata &amp;&#160;</td>
          <td class="paramname"><em>md</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00168">168</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00281">result_metadata_</a>.</p>

</div>
</div>
<a class="anchor" id="a60d098d467a492198973efc40081c7ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::SetCreateTableAsSelectResultSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the result set for a CREATE TABLE AS SELECT statement. The results will not be ready until all BEs complete execution. This can be called as part of <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a>, at which point results will be avilable. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00911">911</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="logging_8h_source.html#l00057">VLOG_QUERY</a>.</p>

</div>
</div>
<a class="anchor" id="a0baab5e394a3cc31608cfc5247c0584b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::SetResultCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the API-specific (Beeswax, HS2) result cache and its size bound. The given cache is owned by this query exec state, even if an error is returned. Returns a non-ok status if max_size exceeds the per-impalad allowed maximum. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00114">114</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, and <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>.</p>

</div>
</div>
<a class="anchor" id="a16cc03e955ca4490c936b929930598b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::SetResultSet </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>results</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copies results into request_result_set_ TODO: Have the FE return list&lt;Data.TResultRow&gt; so that this isn't necessary </p>

</div>
</div>
<a class="anchor" id="abc3f57942ece05ee2c8626c83f9dcc72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::SetResultSet </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>col1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>col2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab1c6843d9d2efa873faef344695fa78b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::SetResultSet </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>col1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>col2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>col3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>col4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a755127ed96d85ff784e75a175b2235"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; impala::ImpalaServer::QueryExecState::sql_stmt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00173">173</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00197">query_ctx_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3184d48ebc2c3908c5c2d2f007dc6a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a>&amp; impala::ImpalaServer::QueryExecState::start_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00171">171</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00298">start_time_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00391">impala::ImpalaServer::LogAuditRecord()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="aebc0f21aa12dccf2babd2f71d0ed5091"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TStmtType::type impala::ImpalaServer::QueryExecState::stmt_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00156">156</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00279">exec_request_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00483">impala::ImpalaServer::LogQueryEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a5323b2e906dc1d811b916d8e414ecd7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>&amp; impala::ImpalaServer::QueryExecState::summary_profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00170">170</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00266">summary_profile_</a>.</p>

</div>
</div>
<a class="anchor" id="ae70636efd7274a4456eae1e799728918"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>* impala::ImpalaServer::QueryExecState::summary_profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00194">194</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>References <a class="el" href="query-exec-state_8h_source.html#l00266">summary_profile_</a>.</p>

</div>
</div>
<a class="anchor" id="aaa8d6b4a3797d439197c29b2438b3773"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::UpdateCatalog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gather and publish all required updates to the metastore. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00795">795</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="runtime-profile_8h_source.html#l00050">ADD_TIMER</a>, <a class="el" href="exec-env_8h_source.html#l00079">impala::ExecEnv::catalogd_client_cache()</a>, <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="network-util_8cc_source.html#l00096">impala::MakeNetworkAddress()</a>, <a class="el" href="runtime-profile_8h_source.html#l00286">impala::RuntimeProfile::EventSequence::MarkEvent()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="namespaceimpala.html#a4f03145f4a655319c059d8e57397d0cd">impala::PrepareCatalogUpdate()</a>, <a class="el" href="coordinator_8h_source.html#l00309">impala::query_events_</a>, <a class="el" href="coordinator_8h_source.html#l00152">impala::query_id()</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="runtime-profile_8h_source.html#l00053">SCOPED_TIMER</a>, and <a class="el" href="logging_8h_source.html#l00057">VLOG_QUERY</a>.</p>

</div>
</div>
<a class="anchor" id="ab5aa302a28ba0eb277846c9ce591e279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::UpdateQueryState </td>
          <td>(</td>
          <td class="paramtype">beeswax::QueryState::type&#160;</td>
          <td class="paramname"><em>query_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update query state if the requested state isn't already obsolete. Takes lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00620">620</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>.</p>

</div>
</div>
<a class="anchor" id="ad1e1583fd321c0d764c39e82246c4eff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::UpdateQueryStatus </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the query status and the "Query Status" summary profile string. If current status is already != ok, no update is made (we preserve the first error) If called with a non-ok argument, the expectation is that the query will be aborted quickly. Returns the status argument (so we can write RETURN_IF_ERROR(UpdateQueryStatus(SomeOperation())). Does not take lock_, but requires it: caller must ensure lock_ is taken before calling UpdateQueryStatus </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00625">625</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="status_8cc_source.html#l00184">impala::Status::GetDetail()</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, and <a class="el" href="coordinator_8h_source.html#l00237">impala::query_status_</a>.</p>

</div>
</div>
<a class="anchor" id="a741b21ca7e51581e491eb103a05de6c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::UpdateTableAndColumnStats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates the metastore's table and column statistics based on the child-query results of a compute stats command. TODO: Unify the various ways that the Metastore is updated for DDL/DML. For example, INSERT queries update partition metadata in <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#aaa8d6b4a3797d439197c29b2438b3773" title="Gather and publish all required updates to the metastore. ">UpdateCatalog()</a> using a TUpdateCatalogRequest, whereas our DDL uses a TCatalogOpRequest for very similar purposes. Perhaps INSERT should use a TCatalogOpRequest as well. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00946">946</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="impala-server_8h_source.html#l00753">impala::ImpalaServer::exec_env_</a>, <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, <a class="el" href="runtime-profile_8h_source.html#l00286">impala::RuntimeProfile::EventSequence::MarkEvent()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="coordinator_8h_source.html#l00309">impala::query_events_</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a5fec5aa3341639dafce44db33bf70bfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::Wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call this to ensure that rows are ready when calling <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows()</a>. Updates the query_status_, and advances query_state_ to FINISHED or EXCEPTION. Must be preceded by call to <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adcbffae250c8467e98624e9ec2f28f0d">Exec()</a>. Waits for all child queries to complete. Takes lock_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00538">538</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, and <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00526">WaitAsync()</a>.</p>

</div>
</div>
<a class="anchor" id="a32ec39a88d7bd5a109e983d8cb2ad1d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::ImpalaServer::QueryExecState::WaitAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a> asynchronously in a thread and returns immediately. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00526">526</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="query-exec-state_8cc_source.html#l00538">Wait()</a>.</p>

</div>
</div>
<a class="anchor" id="a111126a99563fd28136cc5fa1e0a4c37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::WaitForChildQueries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Waits for all child queries to complete successfully or with an error, by joining child_queries_thread_. Returns a non-OK status if a child query fails or if the parent query is cancelled (subsequent children will not be executed). Returns OK if child_queries_thread_ is not set or if all child queries finished successfully. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l01001">1001</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="coordinator_8h_source.html#l00233">impala::lock_</a>, <a class="el" href="runtime-profile_8h_source.html#l00286">impala::RuntimeProfile::EventSequence::MarkEvent()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="coordinator_8h_source.html#l00309">impala::query_events_</a>, <a class="el" href="coordinator_8h_source.html#l00237">impala::query_status_</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a96f29f9c5d55a9517cffa320669d3d7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::WaitInternal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Core logic of <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a>. Does not update query_state_/status_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8cc_source.html#l00555">555</a> of file <a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="classimpala_1_1Expr.html#aad1111f87951868de4d8f8b2dfe87c5f">impala::Expr::Open()</a>, and <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a18a26cdd07b3e9ddac733f239dc9bd24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1CatalogOpExecutor.html">CatalogOpExecutor</a>&gt; impala::ImpalaServer::QueryExecState::catalog_op_executor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs statements that query or modify the catalog via the CatalogService. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00232">232</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a675126b995c917564e3f5132e70a7814"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classimpala_1_1ChildQuery.html">ChildQuery</a>&gt; impala::ImpalaServer::QueryExecState::child_queries_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of child queries to be executed on behalf of this query. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00301">301</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1d000668be440047a47c3b3319e77a49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::child_queries_status_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classimpala_1_1Thread.html" title="TODO: Consider allowing fragment IDs as category parameters. ">Thread</a> to execute child_queries_ in and the resulting status. The status is OK iff all child queries complete successfully. Otherwise, status contains the error of the first child query that failed (child queries are executed serially and abort on the first error). </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00307">307</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2385c57ae6332a7087ee004ca7187f7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1Thread.html">Thread</a>&gt; impala::ImpalaServer::QueryExecState::child_queries_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00308">308</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8e1099550f5978dcde3dc4bad02204a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MonotonicStopWatch.html">MonotonicStopWatch</a> impala::ImpalaServer::QueryExecState::client_wait_sw_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timer to track idle time for the above counter. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00272">272</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa07a948162c992c629729f6031f37c59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::ImpalaServer::QueryExecState::client_wait_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tracks how long we are idle waiting for a client to fetch rows. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00270">270</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c1e4cdb18161477ae9c5bff1d5d7601"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;Coordinator&gt; impala::ImpalaServer::QueryExecState::coord_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>not set for ddl queries, or queries with "limit 0" </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00229">229</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00147">coord()</a>.</p>

</div>
</div>
<a class="anchor" id="abfe4e6a6e3f31d226cc0bef924d7a08b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a>* impala::ImpalaServer::QueryExecState::current_batch_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00282">282</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a981c161d89b268829c99cb20c2e2ad0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::ImpalaServer::QueryExecState::current_batch_row_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00283">283</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab2dffe4bd0830c998f08e86ccdb85e78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a> impala::ImpalaServer::QueryExecState::end_time_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00298">298</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00172">end_time()</a>.</p>

</div>
</div>
<a class="anchor" id="a6325774a15b5b29d910f826ca196a00e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ImpalaServer::QueryExecState::eos_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00276">276</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00146">eos()</a>.</p>

</div>
</div>
<a class="anchor" id="aef4e8fefcbfa716da54477832d9f28d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a>* impala::ImpalaServer::QueryExecState::exec_env_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00220">220</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae9840e99a29959b8776383140401b290"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TExecRequest impala::ImpalaServer::QueryExecState::exec_request_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00279">279</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00157">catalog_op_type()</a>, <a class="el" href="query-exec-state_8h_source.html#l00160">ddl_type()</a>, <a class="el" href="query-exec-state_8h_source.html#l00155">exec_request()</a>, <a class="el" href="query-exec-state_8h_source.html#l00178">GetAnalysisWarnings()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00156">stmt_type()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a42c8930656dba040dddcf034700d46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::ImpalaServer::QueryExecState::expiration_data_lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Protects last_active_time_ and ref_count_. Must always be taken as the last lock, that is no other locks may be taken while holding this lock. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00208">208</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00188">is_active()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00182">last_active()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a88ab0e11314c14f433a375c39c2c0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::ImpalaServer::QueryExecState::fetch_rows_lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensures single-threaded execution of <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows()</a>. Callers of <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows()</a> are responsible for acquiring this lock. To avoid deadlocks, callers must not hold lock_ while acquiring this lock (since <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#adc7f3412262cb02efa49a45226d34017">FetchRows()</a> will release and re-acquire lock_ during its execution). </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00203">203</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00164">fetch_rows_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a15dcd4f34ac162a716577a3bd46e4afa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::ImpalaServer::QueryExecState::fetched_rows_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>True if a fetch was attempted by a client, regardless of whether a result set (or error) was returned to the client. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00288">288</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00151">fetched_rows()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00150">set_fetched_rows()</a>.</p>

</div>
</div>
<a class="anchor" id="a073b39accca45a7b377a225788aca033"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Frontend.html">Frontend</a>* impala::ImpalaServer::QueryExecState::frontend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To get access to UpdateCatalog, LOAD, and DDL methods. Not owned. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00291">291</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2f6a994b67d2fb214ad73e766193627d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ImpalaServer::QueryExecState::last_active_time_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00209">209</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00182">last_active()</a>.</p>

</div>
</div>
<a class="anchor" id="a9702c4fcee2e848e865e0bc2df487938"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1RuntimeState.html">RuntimeState</a>&gt; impala::ImpalaServer::QueryExecState::local_runtime_state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>local runtime_state_ in case we don't have a coord_ </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00249">249</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a150726337981e451f98b2b2624f4e9b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::ImpalaServer::QueryExecState::lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00219">219</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00163">lock()</a>.</p>

</div>
</div>
<a class="anchor" id="af8d2e1533cf4723d94e785e2f7a2abbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::ImpalaServer::QueryExecState::num_rows_fetched_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00284">284</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00149">num_rows_fetched()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c463d64afd357ac8848b9e929cbaa80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classimpala_1_1ExprContext.html">ExprContext</a>*&gt; impala::ImpalaServer::QueryExecState::output_expr_ctxs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00275">275</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0ec3601be28975bc5ca31257acda3744"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a>* impala::ImpalaServer::QueryExecState::parent_server_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The parent <a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a>; called to wait until the the impalad has processed a catalog update request. Not owned. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00295">295</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeaa83f4c26f582a5640cbee70643487d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> impala::ImpalaServer::QueryExecState::profile_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html">QueryExecState</a> builds three separate profiles.</p>
<ul>
<li>profile_ is the top-level profile which houses the other profiles, plus the query timeline</li>
<li>summary_profile_ contains mostly static information about the query, including the query statement, the plan and the user who submitted it.</li>
<li>server_profile_ tracks time spent inside the <a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a>, but not inside fragment execution, i.e. the time taken to register and set-up the query and for rows to be fetched. There's a fourth profile which is not built here (but is a child of profile_); the execution profile which tracks the actual fragment execution. </li>
</ul>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00264">264</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00169">profile()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a07ce8c8c47515b8aba0c7de8240e2f45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ObjectPool.html">ObjectPool</a> impala::ImpalaServer::QueryExecState::profile_pool_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00250">250</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a517beb95073f43a834a92112d1f69f57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TQueryCtx impala::ImpalaServer::QueryExecState::query_ctx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00197">197</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00141">connected_user()</a>, <a class="el" href="query-exec-state_8h_source.html#l00145">default_db()</a>, <a class="el" href="query-exec-state_8h_source.html#l00176">parent_query_id()</a>, <a class="el" href="query-exec-state_8h_source.html#l00154">query_id()</a>, <a class="el" href="query-exec-state_8h_source.html#l00174">query_options()</a>, <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>, <a class="el" href="query-exec-state_8h_source.html#l00144">session_id()</a>, <a class="el" href="query-exec-state_8h_source.html#l00143">session_type()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00173">sql_stmt()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1c7ee659be2b82de9d7e46938b90b5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1EventSequence.html">RuntimeProfile::EventSequence</a>* impala::ImpalaServer::QueryExecState::query_events_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00274">274</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00193">query_events()</a>, and <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a13913ed2051374d830b45397629982c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">beeswax::QueryState::type impala::ImpalaServer::QueryExecState::query_state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00277">277</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00165">query_state()</a>, <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00166">set_query_state()</a>.</p>

</div>
</div>
<a class="anchor" id="a557157d41b8bc8b1ff9724d8b651ebe2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::ImpalaServer::QueryExecState::query_status_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00278">278</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00167">query_status()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9e189beef8399b39a7024976b20b55e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t impala::ImpalaServer::QueryExecState::ref_count_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ref_count_ &gt; 0 if Impala is currently performing work on this query's behalf. Every time a client instructs Impala to do work on behalf of this query, the ref count is increased, and decreased once that work is completed. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00214">214</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00188">is_active()</a>.</p>

</div>
</div>
<a class="anchor" id="a717af4252bbac12c775aec48bc6a22a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;std::vector&lt;TResultRow&gt; &gt; impala::ImpalaServer::QueryExecState::request_result_set_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Result set used for requests that return results and are not QUERY statements. For example, EXPLAIN, LOAD, and SHOW use this. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00236">236</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7f6b0f9ad8d002e1fcd8fc050f40266e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1ImpalaServer_1_1QueryResultSet.html">QueryResultSet</a>&gt; impala::ImpalaServer::QueryExecState::result_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cache of the first result_cache_max_size_ query results to allow clients to restart fetching from the beginning of the result set. This cache is appended to in <a class="el" href="classimpala_1_1ImpalaServer.html#ae0a44b2248b8b70a8470a65f0e2053c9" title="Executes the fetch logic. Doesn&#39;t clean up the exec state if an error occurs. ">FetchInternal()</a>, and set to NULL if its bound is exceeded. If the bound is exceeded, then clients cannot restart fetching because some results have been lost since the last fetch. Only set if result_cache_max_size_ &gt; 0. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00243">243</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a998aed9d657e51de72685e82081fff7b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t impala::ImpalaServer::QueryExecState::result_cache_max_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Max size of the result_cache_ in number of rows. A value &lt;= 0 means no caching. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00246">246</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8da5e92f53370f427146b2ff0d366749"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TResultSetMetadata impala::ImpalaServer::QueryExecState::result_metadata_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00281">281</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00153">result_metadata()</a>, <a class="el" href="query-exec-state_8h_source.html#l00152">returns_result_set()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00168">set_result_metadata()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e7e466f89f2e562ea7b22316cc60709"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::ImpalaServer::QueryExecState::row_materialization_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00267">267</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="ae36e29ab1f9e1fa56ec767e58f0b1e9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1QuerySchedule.html">QuerySchedule</a>&gt; impala::ImpalaServer::QueryExecState::schedule_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resource assignment determined by scheduler. Owned by obj_pool_. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00226">226</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00148">schedule()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b37f078c770e856f43e0b340de474a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> impala::ImpalaServer::QueryExecState::server_profile_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00265">265</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>.</p>

</div>
</div>
<a class="anchor" id="a20664af97c5c68b253c65e5bcef84bcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="structimpala_1_1ImpalaServer_1_1SessionState.html">SessionState</a>&gt; impala::ImpalaServer::QueryExecState::session_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Session that this query is from. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00223">223</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00142">do_as_user()</a>, <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00132">session()</a>.</p>

</div>
</div>
<a class="anchor" id="ad43873a8385f0141e4a150b0688bb38d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1TimestampValue.html">TimestampValue</a> impala::ImpalaServer::QueryExecState::start_time_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start/end time of the query. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00298">298</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8h_source.html#l00171">start_time()</a>.</p>

</div>
</div>
<a class="anchor" id="ac821a9a711d182c2a4fe9aefdd79db05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> impala::ImpalaServer::QueryExecState::summary_profile_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00266">266</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

<p>Referenced by <a class="el" href="query-exec-state_8cc_source.html#l00057">QueryExecState()</a>, and <a class="el" href="query-exec-state_8h_source.html#l00170">summary_profile()</a>.</p>

</div>
</div>
<a class="anchor" id="a14c342a7d1f41c6852f87dbf9ca58963"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1Thread.html">Thread</a>&gt; impala::ImpalaServer::QueryExecState::wait_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classimpala_1_1Thread.html" title="TODO: Consider allowing fragment IDs as category parameters. ">Thread</a> for asynchronously running <a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html#a5fec5aa3341639dafce44db33bf70bfb">Wait()</a>. </p>

<p>Definition at line <a class="el" href="query-exec-state_8h_source.html#l00217">217</a> of file <a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>be/src/service/<a class="el" href="query-exec-state_8h_source.html">query-exec-state.h</a></li>
<li>be/src/service/<a class="el" href="query-exec-state_8cc_source.html">query-exec-state.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceimpala.html">impala</a></li><li class="navelem"><a class="el" href="classimpala_1_1ImpalaServer.html">ImpalaServer</a></li><li class="navelem"><a class="el" href="classimpala_1_1ImpalaServer_1_1QueryExecState.html">QueryExecState</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:50 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
