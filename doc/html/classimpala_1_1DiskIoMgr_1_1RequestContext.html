<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: impala::DiskIoMgr::RequestContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classimpala_1_1DiskIoMgr_1_1RequestContext.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classimpala_1_1DiskIoMgr_1_1RequestContext-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">impala::DiskIoMgr::RequestContext Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for impala::DiskIoMgr::RequestContext:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classimpala_1_1DiskIoMgr_1_1RequestContext__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext_1_1PerDiskState.html">PerDiskState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a236e29a6739cd78cdeb0b872e87bbe48"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48">State</a> { <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48a0f3f0911ce951a369b2a4f8144103252">Active</a>, 
<a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48ade1621feaa0003d5da0802fc86497599">Cancelled</a>, 
<a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48a766b5b69e6529611e85f0448ac2110e2">Inactive</a>
 }</td></tr>
<tr class="separator:a236e29a6739cd78cdeb0b872e87bbe48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2135e986e6d517954ebd46fb84c7ccc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a2135e986e6d517954ebd46fb84c7ccc6">RequestContext</a> (<a class="el" href="classimpala_1_1DiskIoMgr.html">DiskIoMgr</a> *parent, int num_disks)</td></tr>
<tr class="separator:a2135e986e6d517954ebd46fb84c7ccc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1814dfdc681c4b4e9c0494fd78b94da0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a1814dfdc681c4b4e9c0494fd78b94da0">Reset</a> (<a class="el" href="classimpala_1_1MemTracker.html">MemTracker</a> *<a class="el" href="expr-benchmark_8cc.html#ad327327fa716227ff7993880cbc4698f">tracker</a>)</td></tr>
<tr class="memdesc:a1814dfdc681c4b4e9c0494fd78b94da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets this object.  <a href="#a1814dfdc681c4b4e9c0494fd78b94da0">More...</a><br/></td></tr>
<tr class="separator:a1814dfdc681c4b4e9c0494fd78b94da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fba526a76e147b756ede2f27cf34ea4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a4fba526a76e147b756ede2f27cf34ea4">DecrementDiskRefCount</a> ()</td></tr>
<tr class="separator:a4fba526a76e147b756ede2f27cf34ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf81792a586df3aa7d1feff3e53bc88d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#adf81792a586df3aa7d1feff3e53bc88d">ScheduleScanRange</a> (<a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">DiskIoMgr::ScanRange</a> *range)</td></tr>
<tr class="separator:adf81792a586df3aa7d1feff3e53bc88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0118672feafd06ae7b14f38f1d721545"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a0118672feafd06ae7b14f38f1d721545">Cancel</a> (const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;status)</td></tr>
<tr class="memdesc:a0118672feafd06ae7b14f38f1d721545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the context with status code 'status'.  <a href="#a0118672feafd06ae7b14f38f1d721545">More...</a><br/></td></tr>
<tr class="separator:a0118672feafd06ae7b14f38f1d721545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c63bc25fa06f0a0c9b7f5667660d1e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a2c63bc25fa06f0a0c9b7f5667660d1e1">AddRequestRange</a> (<a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestRange.html">DiskIoMgr::RequestRange</a> *range, <a class="el" href="classbool.html">bool</a> schedule_immediately)</td></tr>
<tr class="separator:a2c63bc25fa06f0a0c9b7f5667660d1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f46acb05251b8c10b0dece2cc067f75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a3f46acb05251b8c10b0dece2cc067f75">initial_scan_range_queue_capacity</a> () const </td></tr>
<tr class="separator:a3f46acb05251b8c10b0dece2cc067f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad190d9c4129efb0ef7bb388dc4c7078"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#aad190d9c4129efb0ef7bb388dc4c7078">Validate</a> () const </td></tr>
<tr class="memdesc:aad190d9c4129efb0ef7bb388dc4c7078"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates invariants of reader. Reader lock must be taken beforehand.  <a href="#aad190d9c4129efb0ef7bb388dc4c7078">More...</a><br/></td></tr>
<tr class="separator:aad190d9c4129efb0ef7bb388dc4c7078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4427bdc3b0734aa4f7a400dc37b515d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#aa4427bdc3b0734aa4f7a400dc37b515d">DebugString</a> () const </td></tr>
<tr class="memdesc:aa4427bdc3b0734aa4f7a400dc37b515d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps out reader information. Lock should be taken by caller.  <a href="#aa4427bdc3b0734aa4f7a400dc37b515d">More...</a><br/></td></tr>
<tr class="separator:aa4427bdc3b0734aa4f7a400dc37b515d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1174c7d37bf00657fcc630caae9345a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1DiskIoMgr.html">DiskIoMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a1174c7d37bf00657fcc630caae9345a4">parent_</a></td></tr>
<tr class="memdesc:a1174c7d37bf00657fcc630caae9345a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parent object.  <a href="#a1174c7d37bf00657fcc630caae9345a4">More...</a><br/></td></tr>
<tr class="separator:a1174c7d37bf00657fcc630caae9345a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3668ea113a599337545ed505863b0e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MemTracker.html">MemTracker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#ad3668ea113a599337545ed505863b0e3">mem_tracker_</a></td></tr>
<tr class="memdesc:ad3668ea113a599337545ed505863b0e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory used for this reader. This is unowned by this object.  <a href="#ad3668ea113a599337545ed505863b0e3">More...</a><br/></td></tr>
<tr class="separator:ad3668ea113a599337545ed505863b0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854bf203823ae5b285ebd3d942e69a1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a854bf203823ae5b285ebd3d942e69a1b">bytes_read_counter_</a></td></tr>
<tr class="memdesc:a854bf203823ae5b285ebd3d942e69a1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total bytes read for this reader.  <a href="#a854bf203823ae5b285ebd3d942e69a1b">More...</a><br/></td></tr>
<tr class="separator:a854bf203823ae5b285ebd3d942e69a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e14a617a6c14d9072cf5363b9ab6368"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a3e14a617a6c14d9072cf5363b9ab6368">read_timer_</a></td></tr>
<tr class="memdesc:a3e14a617a6c14d9072cf5363b9ab6368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total time spent in hdfs reading.  <a href="#a3e14a617a6c14d9072cf5363b9ab6368">More...</a><br/></td></tr>
<tr class="separator:a3e14a617a6c14d9072cf5363b9ab6368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72705392d4676b57927f475927b16874"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a72705392d4676b57927f475927b16874">active_read_thread_counter_</a></td></tr>
<tr class="memdesc:a72705392d4676b57927f475927b16874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of active read threads.  <a href="#a72705392d4676b57927f475927b16874">More...</a><br/></td></tr>
<tr class="separator:a72705392d4676b57927f475927b16874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154e2ecaefe89ed14964ab5f43c2affd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a154e2ecaefe89ed14964ab5f43c2affd">disks_accessed_bitmap_</a></td></tr>
<tr class="separator:a154e2ecaefe89ed14964ab5f43c2affd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06541867a50925638568f1b91b6e6c6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a06541867a50925638568f1b91b6e6c6e">bytes_read_local_</a></td></tr>
<tr class="memdesc:a06541867a50925638568f1b91b6e6c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes read locally, updated at end of each range scan.  <a href="#a06541867a50925638568f1b91b6e6c6e">More...</a><br/></td></tr>
<tr class="separator:a06541867a50925638568f1b91b6e6c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b4a6aa242d7b8d071fbde8dbd4c0a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a45b4a6aa242d7b8d071fbde8dbd4c0a1">bytes_read_short_circuit_</a></td></tr>
<tr class="memdesc:a45b4a6aa242d7b8d071fbde8dbd4c0a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes read via short circuit read, updated at end of each range scan.  <a href="#a45b4a6aa242d7b8d071fbde8dbd4c0a1">More...</a><br/></td></tr>
<tr class="separator:a45b4a6aa242d7b8d071fbde8dbd4c0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebcc865b5c56f4b0b66ef1ea19df58e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a5ebcc865b5c56f4b0b66ef1ea19df58e">bytes_read_dn_cache_</a></td></tr>
<tr class="memdesc:a5ebcc865b5c56f4b0b66ef1ea19df58e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes read from date node cache, updated at end of each range scan.  <a href="#a5ebcc865b5c56f4b0b66ef1ea19df58e">More...</a><br/></td></tr>
<tr class="separator:a5ebcc865b5c56f4b0b66ef1ea19df58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebae375d379b220ebad9ce9ed1b6ed85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#aebae375d379b220ebad9ce9ed1b6ed85">unexpected_remote_bytes_</a></td></tr>
<tr class="memdesc:aebae375d379b220ebad9ce9ed1b6ed85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes from remote reads that were expected to be local.  <a href="#aebae375d379b220ebad9ce9ed1b6ed85">More...</a><br/></td></tr>
<tr class="separator:aebae375d379b220ebad9ce9ed1b6ed85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad818e5fdae609a907aff9b243006baa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#ad818e5fdae609a907aff9b243006baa5">num_buffers_in_reader_</a></td></tr>
<tr class="separator:ad818e5fdae609a907aff9b243006baa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f9faece30505ee731910c6f3a5152d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#ad9f9faece30505ee731910c6f3a5152d">num_finished_ranges_</a></td></tr>
<tr class="memdesc:ad9f9faece30505ee731910c6f3a5152d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of scan ranges that have been completed for this reader.  <a href="#ad9f9faece30505ee731910c6f3a5152d">More...</a><br/></td></tr>
<tr class="separator:ad9f9faece30505ee731910c6f3a5152d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbce2a644760a06cf35a0f858ceabbcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#abbce2a644760a06cf35a0f858ceabbcc">num_remote_ranges_</a></td></tr>
<tr class="separator:abbce2a644760a06cf35a0f858ceabbcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f4a51a027e6766ef0f201a7c17fe3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a87f4a51a027e6766ef0f201a7c17fe3b">num_unstarted_scan_ranges_</a></td></tr>
<tr class="separator:a87f4a51a027e6766ef0f201a7c17fe3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2688b9a63545530118925f5f7cb3355c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a2688b9a63545530118925f5f7cb3355c">num_used_buffers_</a></td></tr>
<tr class="separator:a2688b9a63545530118925f5f7cb3355c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac61f51f85ca2aeb537c6722ee7654ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#aac61f51f85ca2aeb537c6722ee7654ab">num_ready_buffers_</a></td></tr>
<tr class="separator:aac61f51f85ca2aeb537c6722ee7654ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb06b38fe1df64b06374f0ecd01fd9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#aceb06b38fe1df64b06374f0ecd01fd9e">total_range_queue_capacity_</a></td></tr>
<tr class="separator:aceb06b38fe1df64b06374f0ecd01fd9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6863e175902271126b5b24cf7be344b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#ab6863e175902271126b5b24cf7be344b">initial_queue_capacity_</a></td></tr>
<tr class="separator:ab6863e175902271126b5b24cf7be344b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ab63cad09556e69b69e355f7b2f93b"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a50ab63cad09556e69b69e355f7b2f93b">lock_</a></td></tr>
<tr class="separator:a50ab63cad09556e69b69e355f7b2f93b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a92ac83886ed494f5a2ba3e9d88639"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a81a92ac83886ed494f5a2ba3e9d88639">state_</a></td></tr>
<tr class="memdesc:a81a92ac83886ed494f5a2ba3e9d88639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of the reader.  <a href="#a81a92ac83886ed494f5a2ba3e9d88639">More...</a><br/></td></tr>
<tr class="separator:a81a92ac83886ed494f5a2ba3e9d88639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2a71bcd4ba8878b0453d576316ee33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a6a2a71bcd4ba8878b0453d576316ee33">status_</a></td></tr>
<tr class="memdesc:a6a2a71bcd4ba8878b0453d576316ee33"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classimpala_1_1Status.html">Status</a> of this reader. Set to non-ok if cancelled.  <a href="#a6a2a71bcd4ba8878b0453d576316ee33">More...</a><br/></td></tr>
<tr class="separator:a6a2a71bcd4ba8878b0453d576316ee33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0c3cab1871646c75a7a5c056c04b91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a5b0c3cab1871646c75a7a5c056c04b91">num_disks_with_ranges_</a></td></tr>
<tr class="separator:a5b0c3cab1871646c75a7a5c056c04b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acad5bca91ba727298542eaa23f11d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1InternalQueue.html">InternalQueue</a>&lt; <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a9acad5bca91ba727298542eaa23f11d8">cached_ranges_</a></td></tr>
<tr class="separator:a9acad5bca91ba727298542eaa23f11d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c33f7b60651fcea3559913a5743331d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1InternalQueue.html">InternalQueue</a>&lt; <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a1c33f7b60651fcea3559913a5743331d">ready_to_start_ranges_</a></td></tr>
<tr class="separator:a1c33f7b60651fcea3559913a5743331d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d661f1ac8ad1a7936255cbfe2ee358"><td class="memItemLeft" align="right" valign="top">boost::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#af1d661f1ac8ad1a7936255cbfe2ee358">ready_to_start_ranges_cv_</a></td></tr>
<tr class="separator:af1d661f1ac8ad1a7936255cbfe2ee358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cc0fcbf081e36c01b514dfc5a891b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1InternalQueue.html">InternalQueue</a>&lt; <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a10cc0fcbf081e36c01b514dfc5a891b3">blocked_ranges_</a></td></tr>
<tr class="memdesc:a10cc0fcbf081e36c01b514dfc5a891b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ranges that are blocked due to back pressure on outgoing buffers.  <a href="#a10cc0fcbf081e36c01b514dfc5a891b3">More...</a><br/></td></tr>
<tr class="separator:a10cc0fcbf081e36c01b514dfc5a891b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251efc95a33227c426986947e0fba17b"><td class="memItemLeft" align="right" valign="top">boost::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a251efc95a33227c426986947e0fba17b">disks_complete_cond_var_</a></td></tr>
<tr class="memdesc:a251efc95a33227c426986947e0fba17b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable for <a class="el" href="classimpala_1_1DiskIoMgr.html#abcb3619688e18e6453177dc8bb85e565">UnregisterContext()</a> to wait for all disks to complete.  <a href="#a251efc95a33227c426986947e0fba17b">More...</a><br/></td></tr>
<tr class="separator:a251efc95a33227c426986947e0fba17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2a2356d7c75cb071e875b73e2ba1f1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext_1_1PerDiskState.html">PerDiskState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a5a2a2356d7c75cb071e875b73e2ba1f1">disk_states_</a></td></tr>
<tr class="separator:a5a2a2356d7c75cb071e875b73e2ba1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a544ca3cf0abcbff53ea299d0d2da3877"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a544ca3cf0abcbff53ea299d0d2da3877">DiskIoMgr</a></td></tr>
<tr class="separator:a544ca3cf0abcbff53ea299d0d2da3877"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Internal per request-context state. This object maintains a lot of state that is carefully synchronized. The context maintains state across all disks as well as per disk state. The unit for an IO request is a <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestRange.html">RequestRange</a>, which may be a <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a> or a <a class="el" href="classimpala_1_1DiskIoMgr_1_1WriteRange.html">WriteRange</a>. A scan range for the reader is on one of five states: 1) <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext_1_1PerDiskState.html">PerDiskState</a>'s unstarted_ranges: This range has only been queued and nothing has been read from it. 2) <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html">RequestContext</a>'s ready_to_start_ranges_: This range is about to be started. As soon as the reader picks it up, it will move to the in_flight_ranges queue. 3) <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext_1_1PerDiskState.html">PerDiskState</a>'s in_flight_ranges: This range is being processed and will be read from the next time a disk thread picks it up in <a class="el" href="classimpala_1_1DiskIoMgr.html#a8550d90be93435c85ea623ed75c02a6a">GetNextRequestRange()</a> 4) <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a>'s outgoing ready buffers is full. We can't read for this range anymore. We need the caller to pull a buffer off which will put this in the in_flight_ranges queue. These ranges are in the <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html">RequestContext</a>'s blocked_ranges_ queue. 5) <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a> is cached and in the cached_ranges_ queue. If the scan range is read and does not get blocked on the outgoing queue, the transitions are: 1 -&gt; 2 -&gt; 3. If the scan range does get blocked, the transitions are 1 -&gt; 2 -&gt; 3 -&gt; (4 -&gt; 3)* In the case of a cached scan range, the range is immediately put in cached_ranges_. When the caller asks for the next range to process, we first pull ranges from the cache_ranges_ queue. If the range was cached, the range is removed and done (ranges are either entirely cached or not at all). If the cached read attempt fails, we put the range in state 1. A write range for a context may be in one of two lists: 1) unstarted_write_ranges_ : Ranges that have been queued but not processed. 2) in_flight_ranges_: The write range is ready to be processed by the next disk thread that picks it up in <a class="el" href="classimpala_1_1DiskIoMgr.html#a8550d90be93435c85ea623ed75c02a6a">GetNextRequestRange()</a>. <a class="el" href="classimpala_1_1DiskIoMgr.html#a89284efc0d973c8df0e51ca3238c6b52">AddWriteRange()</a> adds WriteRanges for a disk. It is the responsibility of the client to pin the data to be written via a <a class="el" href="classimpala_1_1DiskIoMgr_1_1WriteRange.html">WriteRange</a> in memory. After a <a class="el" href="classimpala_1_1DiskIoMgr_1_1WriteRange.html">WriteRange</a> has been written, a callback is invoked to inform the client that the write has completed. An important assumption is that write does not exceed the maximum read size and that the entire range is written when the write request is handled. (In other words, writes are not broken up.) When a <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html">RequestContext</a> is processed by a disk thread in <a class="el" href="classimpala_1_1DiskIoMgr.html#a8550d90be93435c85ea623ed75c02a6a">GetNextRequestRange()</a>, a write range is always removed from the list of unstarted write ranges and appended to the in_flight_ranges_ queue. This is done to alternate reads and writes - a read that is scheduled (by calling <a class="el" href="classimpala_1_1DiskIoMgr.html#a3cc61c88ae6cbb96791d71aee1664137">GetNextRange()</a>) is always followed by a write (if one exists). And since at most one <a class="el" href="classimpala_1_1DiskIoMgr_1_1WriteRange.html">WriteRange</a> can be present in in_flight_ranges_ at any time (once a write range is returned from GetNetxRequestRange() it is completed and not re-enqueued), a scan range scheduled via a call to <a class="el" href="classimpala_1_1DiskIoMgr.html#a3cc61c88ae6cbb96791d71aee1664137">GetNextRange()</a> can be queued up behind at most one write range. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00122">122</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a236e29a6739cd78cdeb0b872e87bbe48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48">impala::DiskIoMgr::RequestContext::State</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a236e29a6739cd78cdeb0b872e87bbe48a0f3f0911ce951a369b2a4f8144103252"></a>Active</em>&#160;</td><td class="fielddoc">
<p>Reader is initialized and maps to a client. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a236e29a6739cd78cdeb0b872e87bbe48ade1621feaa0003d5da0802fc86497599"></a>Cancelled</em>&#160;</td><td class="fielddoc">
<p>Reader is in the process of being cancelled. Cancellation is coordinated between different threads and when they are all complete, the reader context is moved to the inactive state. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a236e29a6739cd78cdeb0b872e87bbe48a766b5b69e6529611e85f0448ac2110e2"></a>Inactive</em>&#160;</td><td class="fielddoc">
<p>Reader context does not map to a client. Accessing memory in this context is invalid (i.e. it is equivalent to a dangling pointer). </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00124">124</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2135e986e6d517954ebd46fb84c7ccc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DiskIoMgr::RequestContext::RequestContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1DiskIoMgr.html">DiskIoMgr</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_disks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00129">129</a> of file <a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2c63bc25fa06f0a0c9b7f5667660d1e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiskIoMgr::RequestContext::AddRequestRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestRange.html">DiskIoMgr::RequestRange</a> *&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>schedule_immediately</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds request range to disk queue for this request context. Currently, schedule_immediately must be false is <a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestRange.html">RequestRange</a> is a write range. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00091">91</a> of file <a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a>.</p>

<p>References <a class="el" href="disk-io-mgr_8h_source.html#l00269">impala::DiskIoMgr::RequestRange::disk_id()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00304">impala::DiskIoMgr::RequestContext::PerDiskState::done()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00310">impala::DiskIoMgr::RequestContext::PerDiskState::next_scan_range_to_start()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00307">impala::DiskIoMgr::RequestContext::PerDiskState::num_remaining_ranges()</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00255">impala::DiskIoMgr::RequestType::READ</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00270">impala::DiskIoMgr::RequestRange::request_type()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00352">impala::DiskIoMgr::RequestContext::PerDiskState::ScheduleContext()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00305">impala::DiskIoMgr::RequestContext::PerDiskState::set_done()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00330">impala::DiskIoMgr::RequestContext::PerDiskState::unstarted_scan_ranges()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00333">impala::DiskIoMgr::RequestContext::PerDiskState::unstarted_write_ranges()</a>, and <a class="el" href="disk-io-mgr_8h_source.html#l00256">impala::DiskIoMgr::RequestType::WRITE</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l01103">impala::DiskIoMgr::AddWriteRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a0118672feafd06ae7b14f38f1d721545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiskIoMgr::RequestContext::Cancel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the context with status code 'status'. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">21</a> of file <a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a>.</p>

<p>References <a class="el" href="disk-io-mgr-internal_8h_source.html#l00295">blocked_ranges_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00282">cached_ranges_</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00480">impala::DiskIoMgr::WriteRange::callback_</a>, <a class="el" href="disk-io-mgr-scan-range_8cc_source.html#l00143">impala::DiskIoMgr::ScanRange::Cancel()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00131">Cancelled</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00176">DebugString()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00464">disk_states_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00336">impala::DiskIoMgr::RequestContext::PerDiskState::in_flight_ranges()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00267">lock_</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00255">impala::DiskIoMgr::RequestType::READ</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00291">ready_to_start_ranges_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00292">ready_to_start_ranges_cv_</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00270">impala::DiskIoMgr::RequestRange::request_type()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00352">impala::DiskIoMgr::RequestContext::PerDiskState::ScheduleContext()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00270">state_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00273">status_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00330">impala::DiskIoMgr::RequestContext::PerDiskState::unstarted_scan_ranges()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00333">impala::DiskIoMgr::RequestContext::PerDiskState::unstarted_write_ranges()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00206">Validate()</a>, and <a class="el" href="disk-io-mgr_8h_source.html#l00256">impala::DiskIoMgr::RequestType::WRITE</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00377">impala::DiskIoMgr::CancelContext()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4427bdc3b0734aa4f7a400dc37b515d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string DiskIoMgr::RequestContext::DebugString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps out reader information. Lock should be taken by caller. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00176">176</a> of file <a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a>.</p>

<p>References <a class="el" href="disk-io-mgr-internal_8h_source.html#l00126">Active</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00131">Cancelled</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00135">Inactive</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00377">impala::DiskIoMgr::CancelContext()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00146">DecrementDiskRefCount()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00845">impala::DiskIoMgr::HandleWriteFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00344">impala::DiskIoMgr::UnregisterContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fba526a76e147b756ede2f27cf34ea4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::DiskIoMgr::RequestContext::DecrementDiskRefCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decrements the number of active disks for this reader. If the disk count goes to 0, the disk complete condition variable is signaled. Reader lock must be taken before this call. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00146">146</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>References <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00176">DebugString()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00298">disks_complete_cond_var_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00277">num_disks_with_ranges_</a>, and <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00206">Validate()</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-internal_8h_source.html#l00373">impala::DiskIoMgr::RequestContext::PerDiskState::DecrementRequestThreadAndCheckDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f46acb05251b8c10b0dece2cc067f75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DiskIoMgr::RequestContext::initial_scan_range_queue_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the default queue capacity for scan ranges. This is updated as the reader processes ranges. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00182">182</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>References <a class="el" href="disk-io-mgr-internal_8h_source.html#l00263">initial_queue_capacity_</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-scan-range_8cc_source.html#l00233">impala::DiskIoMgr::ScanRange::InitInternal()</a>.</p>

</div>
</div>
<a class="anchor" id="a1814dfdc681c4b4e9c0494fd78b94da0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiskIoMgr::RequestContext::Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1MemTracker.html">MemTracker</a> *&#160;</td>
          <td class="paramname"><em>tracker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets this object. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00140">140</a> of file <a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a>.</p>

<p>References <a class="el" href="disk-io-mgr_8h_source.html#l00619">impala::DiskIoMgr::DEFAULT_QUEUE_CAPACITY</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00665">impala::DiskIoMgr::read_timer_</a>, and <a class="el" href="expr-benchmark_8cc_source.html#l00090">tracker</a>.</p>

</div>
</div>
<a class="anchor" id="adf81792a586df3aa7d1feff3e53bc88d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::DiskIoMgr::RequestContext::ScheduleScanRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">DiskIoMgr::ScanRange</a> *&#160;</td>
          <td class="paramname"><em>range</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reader &amp; Disk Scheduling: Readers that currently can't do work are not on the disk's queue. These readers are ones that don't have any ranges in the in_flight_queue AND have not prepared a range by setting next_range_to_start. The rule to make sure readers are scheduled correctly is to ensure anytime a range is put on the in_flight_queue or anytime next_range_to_start is set to NULL, the reader is scheduled. Adds range to in_flight_ranges, scheduling this reader on the disk threads if necessary. Reader lock must be taken before this. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00165">165</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>References <a class="el" href="disk-io-mgr-internal_8h_source.html#l00126">Active</a>, <a class="el" href="disk-io-mgr_8h_source.html#l00269">impala::DiskIoMgr::RequestRange::disk_id()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00464">disk_states_</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00336">impala::DiskIoMgr::RequestContext::PerDiskState::in_flight_ranges()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00352">impala::DiskIoMgr::RequestContext::PerDiskState::ScheduleContext()</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00270">state_</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>.</p>

</div>
</div>
<a class="anchor" id="aad190d9c4129efb0ef7bb388dc4c7078"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> DiskIoMgr::RequestContext::Validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates invariants of reader. Reader lock must be taken beforehand. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00206">206</a> of file <a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a>.</p>

<p>References <a class="el" href="disk-io-mgr-internal_8h_source.html#l00131">Cancelled</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00304">impala::DiskIoMgr::RequestContext::PerDiskState::done()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00336">impala::DiskIoMgr::RequestContext::PerDiskState::in_flight_ranges()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00135">Inactive</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00318">impala::DiskIoMgr::RequestContext::PerDiskState::is_on_queue()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00307">impala::DiskIoMgr::RequestContext::PerDiskState::num_remaining_ranges()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00324">impala::DiskIoMgr::RequestContext::PerDiskState::num_threads_in_op()</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00330">impala::DiskIoMgr::RequestContext::PerDiskState::unstarted_scan_ranges()</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00377">impala::DiskIoMgr::CancelContext()</a>, <a class="el" href="disk-io-mgr-internal_8h_source.html#l00146">DecrementDiskRefCount()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00845">impala::DiskIoMgr::HandleWriteFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00344">impala::DiskIoMgr::UnregisterContext()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a544ca3cf0abcbff53ea299d0d2da3877"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classimpala_1_1DiskIoMgr.html">DiskIoMgr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00191">191</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a72705392d4676b57927f475927b16874"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::DiskIoMgr::RequestContext::active_read_thread_counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of active read threads. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00207">207</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00397">impala::DiskIoMgr::set_active_read_thread_counter()</a>.</p>

</div>
</div>
<a class="anchor" id="a10cc0fcbf081e36c01b514dfc5a891b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1InternalQueue.html">InternalQueue</a>&lt;<a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a>&gt; impala::DiskIoMgr::RequestContext::blocked_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ranges that are blocked due to back pressure on outgoing buffers. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00295">295</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a854bf203823ae5b285ebd3d942e69a1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::DiskIoMgr::RequestContext::bytes_read_counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total bytes read for this reader. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00201">201</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00393">impala::DiskIoMgr::set_bytes_read_counter()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ebcc865b5c56f4b0b66ef1ea19df58e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int64_t&gt; impala::DiskIoMgr::RequestContext::bytes_read_dn_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes read from date node cache, updated at end of each range scan. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00221">221</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00428">impala::DiskIoMgr::bytes_read_dn_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="a06541867a50925638568f1b91b6e6c6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int64_t&gt; impala::DiskIoMgr::RequestContext::bytes_read_local_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes read locally, updated at end of each range scan. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00215">215</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00420">impala::DiskIoMgr::bytes_read_local()</a>.</p>

</div>
</div>
<a class="anchor" id="a45b4a6aa242d7b8d071fbde8dbd4c0a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int64_t&gt; impala::DiskIoMgr::RequestContext::bytes_read_short_circuit_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes read via short circuit read, updated at end of each range scan. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00218">218</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00424">impala::DiskIoMgr::bytes_read_short_circuit()</a>.</p>

</div>
</div>
<a class="anchor" id="a9acad5bca91ba727298542eaa23f11d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1InternalQueue.html">InternalQueue</a>&lt;<a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a>&gt; impala::DiskIoMgr::RequestContext::cached_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the list of ranges that are expected to be cached on the DN. When the reader asks for a new range (GetNextScanRange()), we first return ranges from this list. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00282">282</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a2a2356d7c75cb071e875b73e2ba1f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext_1_1PerDiskState.html">PerDiskState</a>&gt; impala::DiskIoMgr::RequestContext::disk_states_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Per disk states to synchronize multiple disk threads accessing the same request context. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00464">464</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00845">impala::DiskIoMgr::HandleWriteFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00165">ScheduleScanRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a154e2ecaefe89ed14964ab5f43c2affd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::DiskIoMgr::RequestContext::disks_accessed_bitmap_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Disk access bitmap. The counter's bit[i] is set if disk id i has been accessed. TODO: we can only support up to 64 disks with this bitmap but it lets us use a builtin atomic instruction. Probably good enough for now. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00212">212</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00402">impala::DiskIoMgr::set_disks_access_bitmap()</a>.</p>

</div>
</div>
<a class="anchor" id="a251efc95a33227c426986947e0fba17b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::condition_variable impala::DiskIoMgr::RequestContext::disks_complete_cond_var_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Condition variable for <a class="el" href="classimpala_1_1DiskIoMgr.html#abcb3619688e18e6453177dc8bb85e565">UnregisterContext()</a> to wait for all disks to complete. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00298">298</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00377">impala::DiskIoMgr::CancelContext()</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00146">DecrementDiskRefCount()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6863e175902271126b5b24cf7be344b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DiskIoMgr::RequestContext::initial_queue_capacity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The initial queue size for new scan ranges. This is always total_range_queue_capacity_ / num_finished_ranges_ but stored as a separate variable to allow reading this value without taking a lock. Doing the division at read time (with no lock) could lead to a race where only total_range_queue_capacity_ or num_finished_ranges_ was updated. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00263">263</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-internal_8h_source.html#l00182">initial_scan_range_queue_capacity()</a>.</p>

</div>
</div>
<a class="anchor" id="a50ab63cad09556e69b69e355f7b2f93b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::DiskIoMgr::RequestContext::lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>All fields below are accessed by multiple threads and the lock needs to be taken before accessing them. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00267">267</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l01103">impala::DiskIoMgr::AddWriteRange()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00377">impala::DiskIoMgr::CancelContext()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00411">impala::DiskIoMgr::context_status()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00845">impala::DiskIoMgr::HandleWriteFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00344">impala::DiskIoMgr::UnregisterContext()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3668ea113a599337545ed505863b0e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MemTracker.html">MemTracker</a>* impala::DiskIoMgr::RequestContext::mem_tracker_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Memory used for this reader. This is unowned by this object. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00198">198</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00610">impala::DiskIoMgr::GetBufferDesc()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>.</p>

</div>
</div>
<a class="anchor" id="ad818e5fdae609a907aff9b243006baa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::num_buffers_in_reader_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of buffers that have been returned to the reader (via GetNext) that the reader has not returned. Only included for debugging and diagnostics. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00228">228</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-scan-range_8cc_source.html#l00036">impala::DiskIoMgr::ScanRange::EnqueueBuffer()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00575">impala::DiskIoMgr::ReturnBuffer()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00344">impala::DiskIoMgr::UnregisterContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b0c3cab1871646c75a7a5c056c04b91"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DiskIoMgr::RequestContext::num_disks_with_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of disks with scan ranges remaining (always equal to the sum of disks with ranges). </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00277">277</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00377">impala::DiskIoMgr::CancelContext()</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00146">DecrementDiskRefCount()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9f9faece30505ee731910c6f3a5152d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::num_finished_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of scan ranges that have been completed for this reader. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00231">231</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="aac61f51f85ca2aeb537c6722ee7654ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::num_ready_buffers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The total number of ready buffers across all ranges. Ready buffers are buffers that have been read from disk but not retrieved by the caller. This is the sum of all queued buffers in all ranges for this reader context. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00249">249</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-scan-range_8cc_source.html#l00036">impala::DiskIoMgr::ScanRange::EnqueueBuffer()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00407">impala::DiskIoMgr::queue_size()</a>.</p>

</div>
</div>
<a class="anchor" id="abbce2a644760a06cf35a0f858ceabbcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::num_remote_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of scan ranges that required a remote read, updated at the end of each range scan. Only used for diagnostics. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00235">235</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00432">impala::DiskIoMgr::num_remote_ranges()</a>.</p>

</div>
</div>
<a class="anchor" id="a87f4a51a027e6766ef0f201a7c17fe3b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::num_unstarted_scan_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The total number of scan ranges that have not been started. Only used for diagnostics. This is the sum of all unstarted_scan_ranges across all disks. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00239">239</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00416">impala::DiskIoMgr::num_unstarted_ranges()</a>.</p>

</div>
</div>
<a class="anchor" id="a2688b9a63545530118925f5f7cb3355c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::num_used_buffers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of buffers that are being used for this reader. This is the sum of all buffers in <a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a> queues and buffers currently being read into (i.e. about to be queued). </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00244">244</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-scan-range_8cc_source.html#l00036">impala::DiskIoMgr::ScanRange::EnqueueBuffer()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00344">impala::DiskIoMgr::UnregisterContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a1174c7d37bf00657fcc630caae9345a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1DiskIoMgr.html">DiskIoMgr</a>* impala::DiskIoMgr::RequestContext::parent_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parent object. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00192">192</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-internal_8h_source.html#l00352">impala::DiskIoMgr::RequestContext::PerDiskState::ScheduleContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e14a617a6c14d9072cf5363b9ab6368"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::DiskIoMgr::RequestContext::read_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total time spent in hdfs reading. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00204">204</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00389">impala::DiskIoMgr::set_read_timer()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c33f7b60651fcea3559913a5743331d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1InternalQueue.html">InternalQueue</a>&lt;<a class="el" href="classimpala_1_1DiskIoMgr_1_1ScanRange.html">ScanRange</a>&gt; impala::DiskIoMgr::RequestContext::ready_to_start_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A list of ranges that should be returned in subsequent calls to GetNextRange. There is a trade-off with when to populate this list. Populating it on demand means consumers need to wait (happens in <a class="el" href="classimpala_1_1DiskIoMgr.html#a3cc61c88ae6cbb96791d71aee1664137">DiskIoMgr::GetNextRange()</a>). Populating it preemptively means we make worse scheduling decisions. We currently populate one range per disk. TODO: think about this some more. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00291">291</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>.</p>

</div>
</div>
<a class="anchor" id="af1d661f1ac8ad1a7936255cbfe2ee358"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::condition_variable impala::DiskIoMgr::RequestContext::ready_to_start_ranges_cv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00292">292</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a81a92ac83886ed494f5a2ba3e9d88639"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html#a236e29a6739cd78cdeb0b872e87bbe48">State</a> impala::DiskIoMgr::RequestContext::state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current state of the reader. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00270">270</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l01103">impala::DiskIoMgr::AddWriteRange()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00845">impala::DiskIoMgr::HandleWriteFinished()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00074">impala::DiskIoMgr::RequestContextCache::ReturnContext()</a>, and <a class="el" href="disk-io-mgr-internal_8h_source.html#l00165">ScheduleScanRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a2a71bcd4ba8878b0453d576316ee33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::DiskIoMgr::RequestContext::status_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classimpala_1_1Status.html">Status</a> of this reader. Set to non-ok if cancelled. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00273">273</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00455">impala::DiskIoMgr::AddScanRanges()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l01103">impala::DiskIoMgr::AddWriteRange()</a>, <a class="el" href="disk-io-mgr-reader-context_8cc_source.html#l00021">Cancel()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00411">impala::DiskIoMgr::context_status()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00501">impala::DiskIoMgr::GetNextRange()</a>, <a class="el" href="disk-io-mgr_8cc_source.html#l00866">impala::DiskIoMgr::HandleReadFinished()</a>, and <a class="el" href="disk-io-mgr_8cc_source.html#l00954">impala::DiskIoMgr::ReadRange()</a>.</p>

</div>
</div>
<a class="anchor" id="aceb06b38fe1df64b06374f0ecd01fd9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::DiskIoMgr::RequestContext::total_range_queue_capacity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The total (sum) of queue capacities for finished scan ranges. This value divided by num_finished_ranges_ is the average for finished ranges and used to seed the starting queue capacity for future ranges. The assumption is that if previous ranges were fast, new ones will be fast too. The scan range adjusts the queue capacity dynamically so a rough approximation will do. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00256">256</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="aebae375d379b220ebad9ce9ed1b6ed85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int64_t&gt; impala::DiskIoMgr::RequestContext::unexpected_remote_bytes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes from remote reads that were expected to be local. </p>

<p>Definition at line <a class="el" href="disk-io-mgr-internal_8h_source.html#l00224">224</a> of file <a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a>.</p>

<p>Referenced by <a class="el" href="disk-io-mgr_8cc_source.html#l00436">impala::DiskIoMgr::unexpected_remote_bytes()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>be/src/runtime/<a class="el" href="disk-io-mgr-internal_8h_source.html">disk-io-mgr-internal.h</a></li>
<li>be/src/runtime/<a class="el" href="disk-io-mgr-reader-context_8cc_source.html">disk-io-mgr-reader-context.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceimpala.html">impala</a></li><li class="navelem"><a class="el" href="classimpala_1_1DiskIoMgr.html">DiskIoMgr</a></li><li class="navelem"><a class="el" href="classimpala_1_1DiskIoMgr_1_1RequestContext.html">RequestContext</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:49 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
