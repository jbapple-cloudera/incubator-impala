<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: impala::PlanFragmentExecutor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classimpala_1_1PlanFragmentExecutor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classimpala_1_1PlanFragmentExecutor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">impala::PlanFragmentExecutor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for impala::PlanFragmentExecutor:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classimpala_1_1PlanFragmentExecutor__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a155af468fa604258d08f8dab01b309e7"><td class="memItemLeft" align="right" valign="top">typedef boost::function&lt; void(const <br class="typebreak"/>
<a class="el" href="classimpala_1_1Status.html">Status</a> &amp;status, <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> <br class="typebreak"/>
*<a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a26490c12e9824140057c197e5112a73c">profile</a>, <a class="el" href="classbool.html">bool</a> done)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a155af468fa604258d08f8dab01b309e7">ReportStatusCallback</a></td></tr>
<tr class="separator:a155af468fa604258d08f8dab01b309e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c6279b9534dd13d8b914ddc6abb6589"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9c6279b9534dd13d8b914ddc6abb6589">PlanFragmentExecutor</a> (<a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a> *exec_env, const <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a155af468fa604258d08f8dab01b309e7">ReportStatusCallback</a> &amp;report_status_cb)</td></tr>
<tr class="separator:a9c6279b9534dd13d8b914ddc6abb6589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb718cfe9663b3a7db0170d8e1d5d24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a0bb718cfe9663b3a7db0170d8e1d5d24">~PlanFragmentExecutor</a> ()</td></tr>
<tr class="separator:a0bb718cfe9663b3a7db0170d8e1d5d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c31338375ed51ac87836cae5ab33383"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare</a> (const TExecPlanFragmentParams &amp;request)</td></tr>
<tr class="separator:a8c31338375ed51ac87836cae5ab33383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6918b1b8b6f5bd183adc8703ca24ab31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open</a> ()</td></tr>
<tr class="separator:a6918b1b8b6f5bd183adc8703ca24ab31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1ed9c44777d46c340facedac5fa738"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext</a> (<a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> **batch)</td></tr>
<tr class="separator:a9f1ed9c44777d46c340facedac5fa738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031fcc365cd025ddba89dc439f383a24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a031fcc365cd025ddba89dc439f383a24">Close</a> ()</td></tr>
<tr class="separator:a031fcc365cd025ddba89dc439f383a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256e1906bfad2df451739e7852b82263"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a256e1906bfad2df451739e7852b82263">Cancel</a> ()</td></tr>
<tr class="memdesc:a256e1906bfad2df451739e7852b82263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate cancellation. Must not be called until after <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> returned.  <a href="#a256e1906bfad2df451739e7852b82263">More...</a><br/></td></tr>
<tr class="separator:a256e1906bfad2df451739e7852b82263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2380de458f7800e2374ac8466b7b5754"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a2380de458f7800e2374ac8466b7b5754">ReachedLimit</a> ()</td></tr>
<tr class="memdesc:a2380de458f7800e2374ac8466b7b5754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this query has a limit and it has been reached.  <a href="#a2380de458f7800e2374ac8466b7b5754">More...</a><br/></td></tr>
<tr class="separator:a2380de458f7800e2374ac8466b7b5754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9bd381e5e7537932b562a2b74e4805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#abd9bd381e5e7537932b562a2b74e4805">ReleaseThreadToken</a> ()</td></tr>
<tr class="memdesc:abd9bd381e5e7537932b562a2b74e4805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the thread token for this fragment executor.  <a href="#abd9bd381e5e7537932b562a2b74e4805">More...</a><br/></td></tr>
<tr class="separator:abd9bd381e5e7537932b562a2b74e4805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916e869effa9b75aedca7af8d0bbc164"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeState.html">RuntimeState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a916e869effa9b75aedca7af8d0bbc164">runtime_state</a> ()</td></tr>
<tr class="memdesc:a916e869effa9b75aedca7af8d0bbc164"><td class="mdescLeft">&#160;</td><td class="mdescRight">call these only after <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a>  <a href="#a916e869effa9b75aedca7af8d0bbc164">More...</a><br/></td></tr>
<tr class="separator:a916e869effa9b75aedca7af8d0bbc164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63d79be20c0c7c7786d049020e5c0eb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1RowDescriptor.html">RowDescriptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ac63d79be20c0c7c7786d049020e5c0eb">row_desc</a> ()</td></tr>
<tr class="separator:ac63d79be20c0c7c7786d049020e5c0eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26490c12e9824140057c197e5112a73c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a26490c12e9824140057c197e5112a73c">profile</a> ()</td></tr>
<tr class="memdesc:a26490c12e9824140057c197e5112a73c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Profile information for plan and output sink.  <a href="#a26490c12e9824140057c197e5112a73c">More...</a><br/></td></tr>
<tr class="separator:a26490c12e9824140057c197e5112a73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac12ad0f6d8bb9ddbb62d58e04a412c93"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ac12ad0f6d8bb9ddbb62d58e04a412c93">PER_HOST_PEAK_MEM_COUNTER</a> = &quot;PerHostPeakMemUsage&quot;</td></tr>
<tr class="memdesc:ac12ad0f6d8bb9ddbb62d58e04a412c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the counter that is tracking per query, per host peak mem usage.  <a href="#ac12ad0f6d8bb9ddbb62d58e04a412c93">More...</a><br/></td></tr>
<tr class="separator:ac12ad0f6d8bb9ddbb62d58e04a412c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a99be989bf68c6657e852afa8797fb78f"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; TPlanNodeId, <br class="typebreak"/>
std::vector&lt; TScanRangeParams &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a99be989bf68c6657e852afa8797fb78f">PerNodeScanRanges</a></td></tr>
<tr class="memdesc:a99be989bf68c6657e852afa8797fb78f"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for TPlanFragmentExecParams.per_node_scan_ranges  <a href="#a99be989bf68c6657e852afa8797fb78f">More...</a><br/></td></tr>
<tr class="separator:a99be989bf68c6657e852afa8797fb78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a06dd04708fbad677c540295b50efc0de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ObjectPool.html">ObjectPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a06dd04708fbad677c540295b50efc0de">obj_pool</a> ()</td></tr>
<tr class="separator:a06dd04708fbad677c540295b50efc0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a33defbaf3d8ab90a171e3eb6f37c03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9a33defbaf3d8ab90a171e3eb6f37c03">ReportProfile</a> ()</td></tr>
<tr class="separator:a9a33defbaf3d8ab90a171e3eb6f37c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007faf481b4fd00f49110d82af2dde83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a007faf481b4fd00f49110d82af2dde83">SendReport</a> (<a class="el" href="classbool.html">bool</a> done)</td></tr>
<tr class="separator:a007faf481b4fd00f49110d82af2dde83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c09b95d3d1f34d0a0349c22d899371"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a61c09b95d3d1f34d0a0349c22d899371">UpdateStatus</a> (const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;status)</td></tr>
<tr class="separator:a61c09b95d3d1f34d0a0349c22d899371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53fc41c6ba3ecc9db4e3f1c75deb1f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ae53fc41c6ba3ecc9db4e3f1c75deb1f1">FragmentComplete</a> ()</td></tr>
<tr class="memdesc:ae53fc41c6ba3ecc9db4e3f1c75deb1f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the fragment execution is complete to finalize counters.  <a href="#ae53fc41c6ba3ecc9db4e3f1c75deb1f1">More...</a><br/></td></tr>
<tr class="separator:ae53fc41c6ba3ecc9db4e3f1c75deb1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ef997a5b7505bfaf304a15ebca76b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ae1ef997a5b7505bfaf304a15ebca76b2">OptimizeLlvmModule</a> ()</td></tr>
<tr class="separator:ae1ef997a5b7505bfaf304a15ebca76b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0576d747d0dc4b433ea854d56e0eed27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a0576d747d0dc4b433ea854d56e0eed27">OpenInternal</a> ()</td></tr>
<tr class="separator:a0576d747d0dc4b433ea854d56e0eed27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0520dc83eca522f8640c175a8c08c369"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a0520dc83eca522f8640c175a8c08c369">GetNextInternal</a> (<a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> **batch)</td></tr>
<tr class="separator:a0520dc83eca522f8640c175a8c08c369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d068f3ef1ad8c93d6aa44e38288c79d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a1d068f3ef1ad8c93d6aa44e38288c79d">StopReportThread</a> ()</td></tr>
<tr class="separator:a1d068f3ef1ad8c93d6aa44e38288c79d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abe73bec9ec66417c31d765d1d78a37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a3abe73bec9ec66417c31d765d1d78a37">PrintVolumeIds</a> (const TPlanExecParams &amp;params)</td></tr>
<tr class="memdesc:a3abe73bec9ec66417c31d765d1d78a37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print stats about scan ranges for each volumeId in params to info log.  <a href="#a3abe73bec9ec66417c31d765d1d78a37">More...</a><br/></td></tr>
<tr class="separator:a3abe73bec9ec66417c31d765d1d78a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bbd66be0c7df8a9616b68bce7d951b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ad7bbd66be0c7df8a9616b68bce7d951b">PrintVolumeIds</a> (const <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a99be989bf68c6657e852afa8797fb78f">PerNodeScanRanges</a> &amp;per_node_scan_ranges)</td></tr>
<tr class="separator:ad7bbd66be0c7df8a9616b68bce7d951b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451e9d260736b9146147b93d637a3d1a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classimpala_1_1DescriptorTbl.html">DescriptorTbl</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a451e9d260736b9146147b93d637a3d1a">desc_tbl</a> ()</td></tr>
<tr class="separator:a451e9d260736b9146147b93d637a3d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a138d02f465d66f2924b9926664421ef1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a138d02f465d66f2924b9926664421ef1">exec_env_</a></td></tr>
<tr class="separator:a138d02f465d66f2924b9926664421ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79cf7670bae30b1b77f70423114b0725"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1ExecNode.html">ExecNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a79cf7670bae30b1b77f70423114b0725">plan_</a></td></tr>
<tr class="separator:a79cf7670bae30b1b77f70423114b0725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa498328f14ef27d60e283de82dde0add"><td class="memItemLeft" align="right" valign="top">TUniqueId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#aa498328f14ef27d60e283de82dde0add">query_id_</a></td></tr>
<tr class="separator:aa498328f14ef27d60e283de82dde0add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122aadaa9a1fcff1825126df8f445625"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a155af468fa604258d08f8dab01b309e7">ReportStatusCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a122aadaa9a1fcff1825126df8f445625">report_status_cb_</a></td></tr>
<tr class="memdesc:a122aadaa9a1fcff1825126df8f445625"><td class="mdescLeft">&#160;</td><td class="mdescRight">profile reporting-related  <a href="#a122aadaa9a1fcff1825126df8f445625">More...</a><br/></td></tr>
<tr class="separator:a122aadaa9a1fcff1825126df8f445625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7e462fb8c79722f98abf1e543cd89a"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1Thread.html">Thread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#aec7e462fb8c79722f98abf1e543cd89a">report_thread_</a></td></tr>
<tr class="separator:aec7e462fb8c79722f98abf1e543cd89a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac419ae20f836dcc45ae28e1ffdee666b"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ac419ae20f836dcc45ae28e1ffdee666b">report_thread_lock_</a></td></tr>
<tr class="separator:ac419ae20f836dcc45ae28e1ffdee666b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa144a8b6e2db1e9e3c3772a8bf5bd294"><td class="memItemLeft" align="right" valign="top">boost::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#aa144a8b6e2db1e9e3c3772a8bf5bd294">stop_report_thread_cv_</a></td></tr>
<tr class="separator:aa144a8b6e2db1e9e3c3772a8bf5bd294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd87ff764f89a1c9c6909d376a02b27"><td class="memItemLeft" align="right" valign="top">boost::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#affd87ff764f89a1c9c6909d376a02b27">report_thread_started_cv_</a></td></tr>
<tr class="separator:affd87ff764f89a1c9c6909d376a02b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f20e6aaefd1e505191a47e2702f545"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a83f20e6aaefd1e505191a47e2702f545">report_thread_active_</a></td></tr>
<tr class="separator:a83f20e6aaefd1e505191a47e2702f545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950bb33c7ffa84df1acc63d05bbd17ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a950bb33c7ffa84df1acc63d05bbd17ca">done_</a></td></tr>
<tr class="memdesc:a950bb33c7ffa84df1acc63d05bbd17ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if plan_-&gt;<a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a> indicated that it's done  <a href="#a950bb33c7ffa84df1acc63d05bbd17ca">More...</a><br/></td></tr>
<tr class="separator:a950bb33c7ffa84df1acc63d05bbd17ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb20ecb6b29ba5edabff64844316d6fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#adb20ecb6b29ba5edabff64844316d6fe">prepared_</a></td></tr>
<tr class="memdesc:adb20ecb6b29ba5edabff64844316d6fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> returned OK  <a href="#adb20ecb6b29ba5edabff64844316d6fe">More...</a><br/></td></tr>
<tr class="separator:adb20ecb6b29ba5edabff64844316d6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae906f0dac89cdcaf6bbe105c7c587b84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ae906f0dac89cdcaf6bbe105c7c587b84">closed_</a></td></tr>
<tr class="memdesc:ae906f0dac89cdcaf6bbe105c7c587b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a031fcc365cd025ddba89dc439f383a24">Close()</a> has been called  <a href="#ae906f0dac89cdcaf6bbe105c7c587b84">More...</a><br/></td></tr>
<tr class="separator:ae906f0dac89cdcaf6bbe105c7c587b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdbf2fe2252df8dee23759795cbe8782"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#abdbf2fe2252df8dee23759795cbe8782">has_thread_token_</a></td></tr>
<tr class="memdesc:abdbf2fe2252df8dee23759795cbe8782"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if this fragment has not returned the thread token to the thread resource mgr  <a href="#abdbf2fe2252df8dee23759795cbe8782">More...</a><br/></td></tr>
<tr class="separator:abdbf2fe2252df8dee23759795cbe8782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc23ca225533031b1a0ec51ae8b9bfb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6cc23ca225533031b1a0ec51ae8b9bfb">status_</a></td></tr>
<tr class="separator:a6cc23ca225533031b1a0ec51ae8b9bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760cd3d905e2c34043538cca72e5cade"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a760cd3d905e2c34043538cca72e5cade">status_lock_</a></td></tr>
<tr class="separator:a760cd3d905e2c34043538cca72e5cade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d56e23b030a754968613ef648f44594"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1DataSink.html">DataSink</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a0d56e23b030a754968613ef648f44594">sink_</a></td></tr>
<tr class="separator:a0d56e23b030a754968613ef648f44594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f38cbab9a150c2b6a81d46dc9e3eaf0"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1RuntimeState.html">RuntimeState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8f38cbab9a150c2b6a81d46dc9e3eaf0">runtime_state_</a></td></tr>
<tr class="separator:a8f38cbab9a150c2b6a81d46dc9e3eaf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6e654be84d1bca65fe173e2c3c9655"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a2f6e654be84d1bca65fe173e2c3c9655">row_batch_</a></td></tr>
<tr class="separator:a2f6e654be84d1bca65fe173e2c3c9655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b3646575bef522903d7266e67c0bb6"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; TRowBatch &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a81b3646575bef522903d7266e67c0bb6">thrift_batch_</a></td></tr>
<tr class="separator:a81b3646575bef522903d7266e67c0bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973a064f4b9784039a772f15e041883a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a973a064f4b9784039a772f15e041883a">per_host_mem_usage_</a></td></tr>
<tr class="separator:a973a064f4b9784039a772f15e041883a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921faa092b4e5401f6b2e95cabdf2b4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a921faa092b4e5401f6b2e95cabdf2b4c">rows_produced_counter_</a></td></tr>
<tr class="memdesc:a921faa092b4e5401f6b2e95cabdf2b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of rows returned by this fragment.  <a href="#a921faa092b4e5401f6b2e95cabdf2b4c">More...</a><br/></td></tr>
<tr class="separator:a921faa092b4e5401f6b2e95cabdf2b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9d76f24150004893c0a1a3a440acc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a7a9d76f24150004893c0a1a3a440acc2">average_thread_tokens_</a></td></tr>
<tr class="separator:a7a9d76f24150004893c0a1a3a440acc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b301f148655c1f2b34f7cb13751c72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MonotonicStopWatch.html">MonotonicStopWatch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a82b301f148655c1f2b34f7cb13751c72">fragment_sw_</a></td></tr>
<tr class="memdesc:a82b301f148655c1f2b34f7cb13751c72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stopwatch for this entire fragment. Started in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a>, stopped in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a031fcc365cd025ddba89dc439f383a24">Close()</a>.  <a href="#a82b301f148655c1f2b34f7cb13751c72">More...</a><br/></td></tr>
<tr class="separator:a82b301f148655c1f2b34f7cb13751c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5319a1b525720f378650b4993385e486"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a5319a1b525720f378650b4993385e486">completed_report_sent_</a></td></tr>
<tr class="separator:a5319a1b525720f378650b4993385e486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91150a96d8cce32463fc71708b135bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1TimeSeriesCounter.html">RuntimeProfile::TimeSeriesCounter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ae91150a96d8cce32463fc71708b135bc">mem_usage_sampled_counter_</a></td></tr>
<tr class="memdesc:ae91150a96d8cce32463fc71708b135bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sampled memory usage at even time intervals.  <a href="#ae91150a96d8cce32463fc71708b135bc">More...</a><br/></td></tr>
<tr class="separator:ae91150a96d8cce32463fc71708b135bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b7288e4dce75cb89b0d64ff619f448"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1RuntimeProfile_1_1TimeSeriesCounter.html">RuntimeProfile::TimeSeriesCounter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ac0b7288e4dce75cb89b0d64ff619f448">thread_usage_sampled_counter_</a></td></tr>
<tr class="memdesc:ac0b7288e4dce75cb89b0d64ff619f448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sampled thread usage (tokens) at even time intervals.  <a href="#ac0b7288e4dce75cb89b0d64ff619f448">More...</a><br/></td></tr>
<tr class="separator:ac0b7288e4dce75cb89b0d64ff619f448"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classimpala_1_1PlanFragmentExecutor.html">PlanFragmentExecutor</a> handles all aspects of the execution of a single plan fragment, including setup and tear-down, both in the success and error case. Tear-down frees all memory allocated for this plan fragment and closes all data streams; it happens automatically in the d'tor. The executor makes an aggregated profile for the entire fragment available, which includes profile information for the plan itself as well as the output sink, if any. The ReportStatusCallback passed into the c'tor is invoked periodically to report the execution status. The frequency of those reports is controlled by the flag status_report_interval; setting that flag to 0 disables periodic reporting altogether Regardless of the value of that flag, if a report callback is specified, it is invoked at least once at the end of execution with an overall status and profile (and 'done' indicator). The only exception is when execution is cancelled, in which case the callback is <em>not</em> invoked (the coordinator already knows that execution stopped, because it initiated the cancellation). Aside from <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a256e1906bfad2df451739e7852b82263" title="Initiate cancellation. Must not be called until after Prepare() returned. ">Cancel()</a>, which may be called asynchronously, this class is not thread-safe. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00064">64</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a99be989bf68c6657e852afa8797fb78f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;TPlanNodeId, std::vector&lt;TScanRangeParams&gt; &gt; <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a99be989bf68c6657e852afa8797fb78f">impala::PlanFragmentExecutor::PerNodeScanRanges</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for TPlanFragmentExecParams.per_node_scan_ranges </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00221">221</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

</div>
</div>
<a class="anchor" id="a155af468fa604258d08f8dab01b309e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function&lt; void (const <a class="el" href="classimpala_1_1Status.html">Status</a>&amp; status, <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>* <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a26490c12e9824140057c197e5112a73c">profile</a>, <a class="el" href="classbool.html">bool</a> done)&gt; <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a155af468fa604258d08f8dab01b309e7">impala::PlanFragmentExecutor::ReportStatusCallback</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback to report execution status of plan fragment. 'profile' is the cumulative profile, 'done' indicates whether the execution is done or still continuing. Note: this does not take a const <a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a>&amp;, because it might need to call functions like PrettyPrint() or <a class="el" href="namespaceimpala.html#a30a3463e2f2c7059ea99562d878ccdf5">ToThrift()</a>, neither of which is const because they take locks. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00074">74</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9c6279b9534dd13d8b914ddc6abb6589"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">impala::PlanFragmentExecutor::PlanFragmentExecutor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a> *&#160;</td>
          <td class="paramname"><em>exec_env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a155af468fa604258d08f8dab01b309e7">ReportStatusCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>report_status_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>report_status_cb, if !empty(), is used to report the accumulated profile information periodically during execution (<a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a> or <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a>). </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00063">63</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0bb718cfe9663b3a7db0170d8e1d5d24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">impala::PlanFragmentExecutor::~PlanFragmentExecutor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the underlying plan fragment and frees up all resources allocated in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a>/GetNext(). It is an error to delete a <a class="el" href="classimpala_1_1PlanFragmentExecutor.html">PlanFragmentExecutor</a> with a report callback before <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a>/GetNext() (depending on whether the fragment has a sink) indicated that execution is finished. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00071">71</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00137">exec_env_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00139">query_id_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00153">report_thread_active_</a>, <a class="el" href="exec-env_8h_source.html#l00095">impala::ExecEnv::resource_broker()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, and <a class="el" href="resource-broker_8cc_source.html#l00793">impala::ResourceBroker::UnregisterQueryResourceMgr()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a256e1906bfad2df451739e7852b82263"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::Cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate cancellation. Must not be called until after <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> returned. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00531">531</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00159">prepared_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, and <a class="el" href="logging_8h_source.html#l00057">VLOG_QUERY</a>.</p>

</div>
</div>
<a class="anchor" id="a031fcc365cd025ddba89dc439f383a24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the underlying plan fragment and frees up all resources allocated in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a>/GetNext(). </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">564</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="exec-env_8h_source.html#l00088">impala::ExecEnv::cgroups_mgr()</a>, <a class="el" href="exec-node_8cc_source.html#l00166">impala::ExecNode::Close()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00162">closed_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00137">exec_env_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00213">mem_usage_sampled_counter_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00138">plan_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00182">row_batch_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00127">runtime_state()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00180">sink_</a>, <a class="el" href="periodic-counter-updater_8cc_source.html#l00122">impala::PeriodicCounterUpdater::StopTimeSeriesCounter()</a>, <a class="el" href="exec-env_8h_source.html#l00087">impala::ExecEnv::thread_mgr()</a>, <a class="el" href="cgroups-mgr_8cc_source.html#l00215">impala::CgroupsMgr::UnregisterFragment()</a>, and <a class="el" href="thread-resource-mgr_8cc_source.html#l00081">impala::ThreadResourceMgr::UnregisterPool()</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00071">~PlanFragmentExecutor()</a>.</p>

</div>
</div>
<a class="anchor" id="a451e9d260736b9146147b93d637a3d1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1DescriptorTbl.html">DescriptorTbl</a>&amp; impala::PlanFragmentExecutor::desc_tbl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00269">269</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ae53fc41c6ba3ecc9db4e3f1c75deb1f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::FragmentComplete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the fragment execution is complete to finalize counters. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">492</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="atomic_8h_source.html#l00131">impala::AtomicInt&lt; T &gt;::CompareAndSwap()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00210">completed_report_sent_</a>, <a class="el" href="stopwatch_8h_source.html#l00105">impala::MonotonicStopWatch::ElapsedTime()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00204">fragment_sw_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00551">ReleaseThreadToken()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>, <a class="el" href="stopwatch_8h_source.html#l00088">impala::MonotonicStopWatch::Stop()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">StopReportThread()</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">GetNext()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f1ed9c44777d46c340facedac5fa738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::PlanFragmentExecutor::GetNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> **&#160;</td>
          <td class="paramname"><em>batch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return results through 'batch'. Sets '*batch' to NULL if no more results. '*batch' is owned by <a class="el" href="classimpala_1_1PlanFragmentExecutor.html">PlanFragmentExecutor</a> and must not be deleted. When *batch == NULL, <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a> should not be called anymore. Also, report_status_cb will have been called for the final time and the status-reporting thread will have been stopped. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">455</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00156">done_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, <a class="el" href="row-batch_8h_source.html#l00215">impala::RowBatch::num_rows()</a>, <a class="el" href="debug-util_8cc_source.html#l00097">impala::PrintId()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00139">query_id_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>, <a class="el" href="logging_8h_source.html#l00058">VLOG_FILE</a>, and <a class="el" href="logging_8h_source.html#l00057">VLOG_QUERY</a>.</p>

</div>
</div>
<a class="anchor" id="a0520dc83eca522f8640c175a8c08c369"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::PlanFragmentExecutor::GetNextInternal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a> **&#160;</td>
          <td class="paramname"><em>batch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a> logic and returns resulting status. sets done_ to true if the last row batch was returned. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">471</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="runtime-profile_8h_source.html#l00055">COUNTER_ADD</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00156">done_</a>, <a class="el" href="classimpala_1_1ExecNode.html#a151fe2bdeb1cd399dd561f049aee2523">impala::ExecNode::GetNext()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00138">plan_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00182">row_batch_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00192">rows_produced_counter_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, and <a class="el" href="runtime-profile_8h_source.html#l00053">SCOPED_TIMER</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">GetNext()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>.</p>

</div>
</div>
<a class="anchor" id="a06dd04708fbad677c540295b50efc0de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ObjectPool.html">ObjectPool</a>* impala::PlanFragmentExecutor::obj_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00218">218</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a6918b1b8b6f5bd183adc8703ca24ab31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::PlanFragmentExecutor::Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start execution. Call this prior to <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a>. If this fragment has a sink, <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a> will send all rows produced by the fragment to that sink. Therefore, <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a> may block until all rows are produced (and a subsequent call to <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a> will not return any rows). This also starts the status-reporting thread, if the interval flag is &gt; 0 and a callback was specified in the c'tor. If this fragment has a sink, report_status_cb will have been called for the final time when <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a> returns, and the status-reporting thread will have been stopped. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">302</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00174">impala::Status::IsCancelled()</a>, <a class="el" href="status_8h_source.html#l00178">impala::Status::IsMemLimitExceeded()</a>, <a class="el" href="status_8h_source.html#l00189">impala::Status::msg()</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00270">OptimizeLlvmModule()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00142">report_status_cb_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00143">report_thread_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00153">report_thread_active_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00144">report_thread_lock_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00152">report_thread_started_cv_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>, and <a class="el" href="logging_8h_source.html#l00057">VLOG_QUERY</a>.</p>

</div>
</div>
<a class="anchor" id="a0576d747d0dc4b433ea854d56e0eed27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::PlanFragmentExecutor::OpenInternal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a> logic and returns resulting status. Does not set status_. If this plan fragment has no sink, <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a0576d747d0dc4b433ea854d56e0eed27">OpenInternal()</a> does nothing. If this plan fragment has a sink and <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a0576d747d0dc4b433ea854d56e0eed27">OpenInternal()</a> returns without an error condition, all rows will have been sent to the sink, the sink will have been closed, a final report will have been sent and the report thread will have been stopped. sink_ will be set to NULL after successful execution. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">331</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00156">done_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, <a class="el" href="row-batch_8h_source.html#l00140">impala::RowBatch::GetRow()</a>, <a class="el" href="row-batch_8h_source.html#l00215">impala::RowBatch::num_rows()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="exec-node_8cc_source.html#l00154">impala::ExecNode::Open()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00138">plan_</a>, <a class="el" href="debug-util_8cc_source.html#l00192">impala::PrintRow()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00539">row_desc()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00127">runtime_state()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="runtime-profile_8h_source.html#l00053">SCOPED_TIMER</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00180">sink_</a>, <a class="el" href="logging_8h_source.html#l00059">VLOG_ROW</a>, and <a class="el" href="logging_8h_source.html#l00066">VLOG_ROW_IS_ON</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1ef997a5b7505bfaf304a15ebca76b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::OptimizeLlvmModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimizes the code-generated functions in runtime_state_-&gt;llvm_codegen(). Must be called between plan_-&gt;<a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> and plan_-&gt;<a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a>. This is somewhat time consuming so we don't want it to do it in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9c6279b9534dd13d8b914ddc6abb6589">PlanFragmentExecutor()</a>::Prepare() to allow starting plan fragments more quickly and in parallel (in a deep plan tree, the fragments are started in level order). </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00270">270</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="llvm-codegen_8cc_source.html#l00607">impala::LlvmCodeGen::FinalizeModule()</a>, <a class="el" href="status_8cc_source.html#l00184">impala::Status::GetDetail()</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, and <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c31338375ed51ac87836cae5ab33383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::PlanFragmentExecutor::Prepare </td>
          <td>(</td>
          <td class="paramtype">const TExecPlanFragmentParams &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare for execution. Call this prior to <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a6918b1b8b6f5bd183adc8703ca24ab31">Open()</a>. This call won't block. <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a916e869effa9b75aedca7af8d0bbc164" title="call these only after Prepare() ">runtime_state()</a> and <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#ac63d79be20c0c7c7786d049020e5c0eb">row_desc()</a> will not be valid until <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> is called. If request.query_options.mem_limit &gt; 0, it is used as an approximate limit on the number of bytes this query can consume at runtime. The query will be aborted (MEM_LIMIT_EXCEEDED) if it goes over that limit. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">80</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="runtime-profile_8h_source.html#l00047">ADD_COUNTER</a>, <a class="el" href="runtime-profile_8h_source.html#l00050">ADD_TIMER</a>, <a class="el" href="runtime-profile_8cc_source.html#l00368">impala::RuntimeProfile::AddChild()</a>, <a class="el" href="classimpala_1_1RuntimeProfile.html#acb49893c3fdbdbb7a709b6d2d6276d91">impala::RuntimeProfile::AddSamplingCounter()</a>, <a class="el" href="classimpala_1_1RuntimeProfile.html#a35f8163d1b163b37923f5ac8b84577bc">impala::RuntimeProfile::AddTimeSeriesCounter()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00201">average_thread_tokens_</a>, <a class="el" href="exec-env_8h_source.html#l00088">impala::ExecEnv::cgroups_mgr()</a>, <a class="el" href="exec-node_8cc_source.html#l00359">impala::ExecNode::CollectNodes()</a>, <a class="el" href="exec-node_8cc_source.html#l00366">impala::ExecNode::CollectScanNodes()</a>, <a class="el" href="mem-tracker_8h_source.html#l00298">impala::MemTracker::consumption()</a>, <a class="el" href="descriptors_8cc_source.html#l00378">impala::DescriptorTbl::Create()</a>, <a class="el" href="data-sink_8cc_source.html#l00034">impala::DataSink::CreateDataSink()</a>, <a class="el" href="exec-node_8cc_source.html#l00199">impala::ExecNode::CreateTree()</a>, <a class="el" href="exec-node_8cc_source.html#l00345">impala::ExecNode::DebugString()</a>, <a class="el" href="descriptors_8cc_source.html#l00608">impala::DescriptorTbl::DebugString()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00269">desc_tbl()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00137">exec_env_</a>, <a class="el" href="container-util_8h_source.html#l00073">impala::FindWithDefault()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00204">fragment_sw_</a>, <a class="el" href="resource-broker_8cc_source.html#l00779">impala::ResourceBroker::GetQueryResourceMgr()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00165">has_thread_token_</a>, <a class="el" href="exec-node_8h_source.html#l00154">impala::ExecNode::id()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00213">mem_usage_sampled_counter_</a>, <a class="el" href="thread-resource-mgr_8h_source.html#l00134">impala::ThreadResourceMgr::ResourcePool::num_threads()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00218">obj_pool()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00189">per_host_mem_usage_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00134">PER_HOST_PEAK_MEM_COUNTER</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00138">plan_</a>, <a class="el" href="exec-node_8cc_source.html#l00130">impala::ExecNode::Prepare()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00159">prepared_</a>, <a class="el" href="pretty-printer_8h_source.html#l00033">impala::PrettyPrinter::Print()</a>, <a class="el" href="debug-util_8cc_source.html#l00097">impala::PrintId()</a>, <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a3abe73bec9ec66417c31d765d1d78a37">PrintVolumeIds()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00139">query_id_</a>, <a class="el" href="cgroups-mgr_8cc_source.html#l00198">impala::CgroupsMgr::RegisterFragment()</a>, <a class="el" href="exec-env_8h_source.html#l00095">impala::ExecEnv::resource_broker()</a>, <a class="el" href="status_8h_source.html#l00242">RETURN_IF_ERROR</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00182">row_batch_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00539">row_desc()</a>, <a class="el" href="exec-node_8h_source.html#l00156">impala::ExecNode::row_desc()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00192">rows_produced_counter_</a>, <a class="el" href="exec-node_8h_source.html#l00161">impala::ExecNode::runtime_profile()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00127">runtime_state()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="runtime-profile_8h_source.html#l00053">SCOPED_TIMER</a>, <a class="el" href="cgroups-mgr_8cc_source.html#l00101">impala::CgroupsMgr::SetCpuShares()</a>, <a class="el" href="exec-node_8cc_source.html#l00332">impala::ExecNode::SetDebugOptions()</a>, <a class="el" href="scan-node_8h_source.html#l00089">impala::ScanNode::SetScanRanges()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00180">sink_</a>, <a class="el" href="stopwatch_8h_source.html#l00081">impala::MonotonicStopWatch::Start()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00216">thread_usage_sampled_counter_</a>, <a class="el" href="exec-node_8h_source.html#l00155">impala::ExecNode::type()</a>, <a class="el" href="cgroups-mgr_8cc_source.html#l00054">impala::CgroupsMgr::UniqueIdToCgroup()</a>, <a class="el" href="cgroups-mgr_8cc_source.html#l00059">impala::CgroupsMgr::VirtualCoresToCpuShares()</a>, and <a class="el" href="logging_8h_source.html#l00057">VLOG_QUERY</a>.</p>

</div>
</div>
<a class="anchor" id="a3abe73bec9ec66417c31d765d1d78a37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::PrintVolumeIds </td>
          <td>(</td>
          <td class="paramtype">const TPlanExecParams &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print stats about scan ranges for each volumeId in params to info log. </p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7bbd66be0c7df8a9616b68bce7d951b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::PrintVolumeIds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a99be989bf68c6657e852afa8797fb78f">PerNodeScanRanges</a> &amp;&#160;</td>
          <td class="paramname"><em>per_node_scan_ranges</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00284">284</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="runtime-profile_8cc_source.html#l00406">impala::RuntimeProfile::AddInfoString()</a>, <a class="el" href="hdfs-scan-node_8h_source.html#l00265">impala::HdfsScanNode::HDFS_SPLIT_STATS_DESC</a>, <a class="el" href="hdfs-scan-node_8cc_source.html#l01073">impala::HdfsScanNode::PrintHdfsSplitStats()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00139">query_id_</a>, <a class="el" href="hdfs-scan-node_8cc_source.html#l01058">impala::HdfsScanNode::UpdateHdfsSplitStats()</a>, and <a class="el" href="logging_8h_source.html#l00058">VLOG_FILE</a>.</p>

</div>
</div>
<a class="anchor" id="a26490c12e9824140057c197e5112a73c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile.html">RuntimeProfile</a> * impala::PlanFragmentExecutor::profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Profile information for plan and output sink. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">543</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00284">PrintVolumeIds()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>.</p>

</div>
</div>
<a class="anchor" id="a2380de458f7800e2374ac8466b7b5754"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::PlanFragmentExecutor::ReachedLimit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this query has a limit and it has been reached. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00547">547</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00138">plan_</a>, and <a class="el" href="exec-node_8h_source.html#l00159">impala::ExecNode::ReachedLimit()</a>.</p>

</div>
</div>
<a class="anchor" id="abd9bd381e5e7537932b562a2b74e4805"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::ReleaseThreadToken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the thread token for this fragment executor. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00551">551</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00201">average_thread_tokens_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00165">has_thread_token_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="periodic-counter-updater_8cc_source.html#l00080">impala::PeriodicCounterUpdater::StopSamplingCounter()</a>, <a class="el" href="periodic-counter-updater_8cc_source.html#l00122">impala::PeriodicCounterUpdater::StopTimeSeriesCounter()</a>, and <a class="el" href="plan-fragment-executor_8h_source.html#l00216">thread_usage_sampled_counter_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a33defbaf3d8ab90a171e3eb6f37c03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::ReportProfile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Main loop of profile reporting thread. Exits when notified on done_cv_. On exit, <em>no report is sent</em>, ie, this will not send the final report. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">374</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00210">completed_report_sent_</a>, <a class="el" href="runtime-profile_8cc_source.html#l00507">impala::RuntimeProfile::PrettyPrint()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="atomic_8h_source.html#l00100">impala::AtomicInt&lt; T &gt;::Read()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00142">report_status_cb_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00153">report_thread_active_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00144">report_thread_lock_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00152">report_thread_started_cv_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00148">stop_report_thread_cv_</a>, <a class="el" href="logging_8h_source.html#l00058">VLOG_FILE</a>, and <a class="el" href="logging_8h_source.html#l00065">VLOG_FILE_IS_ON</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>.</p>

</div>
</div>
<a class="anchor" id="ac63d79be20c0c7c7786d049020e5c0eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classimpala_1_1RowDescriptor.html">RowDescriptor</a> &amp; impala::PlanFragmentExecutor::row_desc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00539">539</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00138">plan_</a>, and <a class="el" href="exec-node_8h_source.html#l00156">impala::ExecNode::row_desc()</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a916e869effa9b75aedca7af8d0bbc164"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeState.html">RuntimeState</a>* impala::PlanFragmentExecutor::runtime_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>call these only after <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00127">127</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>.</p>

</div>
</div>
<a class="anchor" id="a007faf481b4fd00f49110d82af2dde83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::SendReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>done</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked the report callback if there is a report callback and the current status isn't CANCELLED. Sets 'done' to true in the callback invocation if done == true or we have an error status. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">423</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00189">per_host_mem_usage_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="namespaceimpala.html#a7ab8f672190232021bdfcf200502140c">impala::query_mem_tracker()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00142">report_status_cb_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00127">runtime_state()</a>, <a class="el" href="runtime-profile_8h_source.html#l00102">impala::RuntimeProfile::Counter::Set()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00169">status_</a>, and <a class="el" href="plan-fragment-executor_8h_source.html#l00175">status_lock_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d068f3ef1ad8c93d6aa44e38288c79d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::StopReportThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops report thread, if one is running. Blocks until report thread terminates. Idempotent. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">441</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="plan-fragment-executor_8h_source.html#l00143">report_thread_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00153">report_thread_active_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00144">report_thread_lock_</a>, and <a class="el" href="plan-fragment-executor_8h_source.html#l00148">stop_report_thread_cv_</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="a61c09b95d3d1f34d0a0349c22d899371"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::PlanFragmentExecutor::UpdateStatus </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1Status.html">Status</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If status_.ok(), sets status_ to status. If we're transitioning to an error status, stops report thread and sends a final report. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">514</a> of file <a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a>.</p>

<p>References <a class="el" href="atomic_8h_source.html#l00131">impala::AtomicInt&lt; T &gt;::CompareAndSwap()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00210">completed_report_sent_</a>, <a class="el" href="status_8h_source.html#l00178">impala::Status::IsMemLimitExceeded()</a>, <a class="el" href="status_8h_source.html#l00172">impala::Status::ok()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00181">runtime_state_</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00169">status_</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00175">status_lock_</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">StopReportThread()</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">GetNext()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7a9d76f24150004893c0a1a3a440acc2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::PlanFragmentExecutor::average_thread_tokens_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Average number of thread tokens for the duration of the plan fragment execution. Fragments that do a lot of cpu work (non-coordinator fragment) will have at least 1 token. Fragments that contain a hdfs scan node will have 1+ tokens depending on system load. Other nodes (e.g. hash join node) can also reserve additional tokens. This is a measure of how much CPU resources this fragment used during the course of the execution. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00201">201</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00551">ReleaseThreadToken()</a>.</p>

</div>
</div>
<a class="anchor" id="ae906f0dac89cdcaf6bbe105c7c587b84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::PlanFragmentExecutor::closed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a031fcc365cd025ddba89dc439f383a24">Close()</a> has been called </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00162">162</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>.</p>

</div>
</div>
<a class="anchor" id="a5319a1b525720f378650b4993385e486"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1AtomicInt.html">AtomicInt</a>&lt;int&gt; impala::PlanFragmentExecutor::completed_report_sent_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>(Atomic) Flag that indicates whether a completed fragment report has been or will be fired. It is initialized to 0 and atomically swapped to 1 when a completed fragment report is about to be fired. Used for reducing the probability that a report is sent twice at the end of the fragment. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00210">210</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="a950bb33c7ffa84df1acc63d05bbd17ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::PlanFragmentExecutor::done_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if plan_-&gt;<a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a9f1ed9c44777d46c340facedac5fa738">GetNext()</a> indicated that it's done </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00156">156</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">GetNext()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>.</p>

</div>
</div>
<a class="anchor" id="a138d02f465d66f2924b9926664421ef1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ExecEnv.html">ExecEnv</a>* impala::PlanFragmentExecutor::exec_env_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00137">137</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00071">~PlanFragmentExecutor()</a>.</p>

</div>
</div>
<a class="anchor" id="a82b301f148655c1f2b34f7cb13751c72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MonotonicStopWatch.html">MonotonicStopWatch</a> impala::PlanFragmentExecutor::fragment_sw_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stopwatch for this entire fragment. Started in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a>, stopped in <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a031fcc365cd025ddba89dc439f383a24">Close()</a>. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00204">204</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="abdbf2fe2252df8dee23759795cbe8782"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::PlanFragmentExecutor::has_thread_token_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if this fragment has not returned the thread token to the thread resource mgr </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00165">165</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00551">ReleaseThreadToken()</a>.</p>

</div>
</div>
<a class="anchor" id="ae91150a96d8cce32463fc71708b135bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1TimeSeriesCounter.html">RuntimeProfile::TimeSeriesCounter</a>* impala::PlanFragmentExecutor::mem_usage_sampled_counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sampled memory usage at even time intervals. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00213">213</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a973a064f4b9784039a772f15e041883a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::PlanFragmentExecutor::per_host_mem_usage_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A counter for the per query, per host peak mem usage. Note that this is not the max of the peak memory of all fragments running on a host since it needs to take into account when they are running concurrently. All fragments for a single query on a single host will have the same value for this counter. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00189">189</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>.</p>

</div>
</div>
<a class="anchor" id="ac12ad0f6d8bb9ddbb62d58e04a412c93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string impala::PlanFragmentExecutor::PER_HOST_PEAK_MEM_COUNTER = &quot;PerHostPeakMemUsage&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the counter that is tracking per query, per host peak mem usage. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00134">134</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a79cf7670bae30b1b77f70423114b0725"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1ExecNode.html">ExecNode</a>* impala::PlanFragmentExecutor::plan_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00138">138</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00547">ReachedLimit()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00539">row_desc()</a>.</p>

</div>
</div>
<a class="anchor" id="adb20ecb6b29ba5edabff64844316d6fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::PlanFragmentExecutor::prepared_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if <a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a8c31338375ed51ac87836cae5ab33383">Prepare()</a> returned OK </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00159">159</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00531">Cancel()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="aa498328f14ef27d60e283de82dde0add"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TUniqueId impala::PlanFragmentExecutor::query_id_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00139">139</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">GetNext()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00284">PrintVolumeIds()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00071">~PlanFragmentExecutor()</a>.</p>

</div>
</div>
<a class="anchor" id="a122aadaa9a1fcff1825126df8f445625"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html#a155af468fa604258d08f8dab01b309e7">ReportStatusCallback</a> impala::PlanFragmentExecutor::report_status_cb_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>profile reporting-related </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00142">142</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>.</p>

</div>
</div>
<a class="anchor" id="aec7e462fb8c79722f98abf1e543cd89a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1Thread.html">Thread</a>&gt; impala::PlanFragmentExecutor::report_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00143">143</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">StopReportThread()</a>.</p>

</div>
</div>
<a class="anchor" id="a83f20e6aaefd1e505191a47e2702f545"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> impala::PlanFragmentExecutor::report_thread_active_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00153">153</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">StopReportThread()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00071">~PlanFragmentExecutor()</a>.</p>

</div>
</div>
<a class="anchor" id="ac419ae20f836dcc45ae28e1ffdee666b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::PlanFragmentExecutor::report_thread_lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00144">144</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">StopReportThread()</a>.</p>

</div>
</div>
<a class="anchor" id="affd87ff764f89a1c9c6909d376a02b27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::condition_variable impala::PlanFragmentExecutor::report_thread_started_cv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates that profile reporting thread started. Tied to report_thread_lock_. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00152">152</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f6e654be84d1bca65fe173e2c3c9655"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1RowBatch.html">RowBatch</a>&gt; impala::PlanFragmentExecutor::row_batch_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00182">182</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a921faa092b4e5401f6b2e95cabdf2b4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1Counter.html">RuntimeProfile::Counter</a>* impala::PlanFragmentExecutor::rows_produced_counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of rows returned by this fragment. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00192">192</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f38cbab9a150c2b6a81d46dc9e3eaf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1RuntimeState.html">RuntimeState</a>&gt; impala::PlanFragmentExecutor::runtime_state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00181">181</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00531">Cancel()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00269">desc_tbl()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00492">FragmentComplete()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00455">GetNext()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00471">GetNextInternal()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00218">obj_pool()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00302">Open()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00270">OptimizeLlvmModule()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00543">profile()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00551">ReleaseThreadToken()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, <a class="el" href="plan-fragment-executor_8h_source.html#l00127">runtime_state()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00071">~PlanFragmentExecutor()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d56e23b030a754968613ef648f44594"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1DataSink.html">DataSink</a>&gt; impala::PlanFragmentExecutor::sink_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output sink for rows sent to this fragment. May not be set, in which case rows are returned via GetNext's row batch Created in Prepare (if required), owned by this object. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00180">180</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00564">Close()</a>, <a class="el" href="plan-fragment-executor_8cc_source.html#l00331">OpenInternal()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a6cc23ca225533031b1a0ec51ae8b9bfb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> impala::PlanFragmentExecutor::status_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Overall execution status. Either ok() or set to the first error status that was encountered. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00169">169</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="a760cd3d905e2c34043538cca72e5cade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::PlanFragmentExecutor::status_lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Protects status_ lock ordering:</p>
<ol type="1">
<li>report_thread_lock_</li>
<li>status_lock_ </li>
</ol>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00175">175</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00423">SendReport()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00514">UpdateStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="aa144a8b6e2db1e9e3c3772a8bf5bd294"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::condition_variable impala::PlanFragmentExecutor::stop_report_thread_cv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates that profile reporting thread should stop. Tied to report_thread_lock_. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00148">148</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00374">ReportProfile()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00441">StopReportThread()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0b7288e4dce75cb89b0d64ff619f448"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1RuntimeProfile_1_1TimeSeriesCounter.html">RuntimeProfile::TimeSeriesCounter</a>* impala::PlanFragmentExecutor::thread_usage_sampled_counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sampled thread usage (tokens) at even time intervals. </p>

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00216">216</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

<p>Referenced by <a class="el" href="plan-fragment-executor_8cc_source.html#l00080">Prepare()</a>, and <a class="el" href="plan-fragment-executor_8cc_source.html#l00551">ReleaseThreadToken()</a>.</p>

</div>
</div>
<a class="anchor" id="a81b3646575bef522903d7266e67c0bb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;TRowBatch&gt; impala::PlanFragmentExecutor::thrift_batch_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="plan-fragment-executor_8h_source.html#l00183">183</a> of file <a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>be/src/runtime/<a class="el" href="plan-fragment-executor_8h_source.html">plan-fragment-executor.h</a></li>
<li>be/src/runtime/<a class="el" href="plan-fragment-executor_8cc_source.html">plan-fragment-executor.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceimpala.html">impala</a></li><li class="navelem"><a class="el" href="classimpala_1_1PlanFragmentExecutor.html">PlanFragmentExecutor</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:49 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
