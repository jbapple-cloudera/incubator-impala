<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: impala::MetricGroup Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classimpala_1_1MetricGroup.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classimpala_1_1MetricGroup-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">impala::MetricGroup Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MetricGroups may be organised hierarchically as a tree.  
 <a href="classimpala_1_1MetricGroup.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="metrics_8h_source.html">metrics.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for impala::MetricGroup:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classimpala_1_1MetricGroup__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a190ad1430e74a11561fe1de4f47ebff8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a190ad1430e74a11561fe1de4f47ebff8">MetricGroup</a> (const std::string &amp;<a class="el" href="classimpala_1_1MetricGroup.html#ab502d1ff9aa79e3ceab1b86e4ba9f155">name</a>)</td></tr>
<tr class="separator:a190ad1430e74a11561fe1de4f47ebff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6ae979dcd7b3929354a1b23272e759"><td class="memTemplParams" colspan="2">template&lt;typename M &gt; </td></tr>
<tr class="memitem:a7b6ae979dcd7b3929354a1b23272e759"><td class="memTemplItemLeft" align="right" valign="top">M *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a7b6ae979dcd7b3929354a1b23272e759">RegisterMetric</a> (M *metric)</td></tr>
<tr class="separator:a7b6ae979dcd7b3929354a1b23272e759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32616eb20d4069c50427dfde1f89c376"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a32616eb20d4069c50427dfde1f89c376"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1SimpleMetric.html">SimpleMetric</a>&lt; T &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a32616eb20d4069c50427dfde1f89c376">AddGauge</a> (const std::string &amp;key, const T &amp;value, const TUnit::type unit=TUnit::NONE, const std::string &amp;description=&quot;&quot;)</td></tr>
<tr class="memdesc:a32616eb20d4069c50427dfde1f89c376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a gauge metric object with given key and initial value (owned by this object)  <a href="#a32616eb20d4069c50427dfde1f89c376">More...</a><br/></td></tr>
<tr class="separator:a32616eb20d4069c50427dfde1f89c376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb181cc1e3e171a504b28756a5aa5110"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:acb181cc1e3e171a504b28756a5aa5110"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1SimpleMetric.html">SimpleMetric</a>&lt; T, <br class="typebreak"/>
TMetricKind::PROPERTY &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#acb181cc1e3e171a504b28756a5aa5110">AddProperty</a> (const std::string &amp;key, const T &amp;value, const std::string &amp;description=&quot;&quot;)</td></tr>
<tr class="separator:acb181cc1e3e171a504b28756a5aa5110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebbe796e9b471aa697a00683cfd8d7c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3ebbe796e9b471aa697a00683cfd8d7c"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1SimpleMetric.html">SimpleMetric</a>&lt; T, <br class="typebreak"/>
TMetricKind::COUNTER &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a3ebbe796e9b471aa697a00683cfd8d7c">AddCounter</a> (const std::string &amp;key, const T &amp;value, const TUnit::type unit=TUnit::UNIT, const std::string &amp;description=&quot;&quot;)</td></tr>
<tr class="separator:a3ebbe796e9b471aa697a00683cfd8d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4b39cecfda55cc72d8ec7acb42a66b"><td class="memTemplParams" colspan="2">template&lt;typename M &gt; </td></tr>
<tr class="memitem:a6f4b39cecfda55cc72d8ec7acb42a66b"><td class="memTemplItemLeft" align="right" valign="top">M *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a6f4b39cecfda55cc72d8ec7acb42a66b">FindMetricForTesting</a> (const std::string &amp;key)</td></tr>
<tr class="memdesc:a6f4b39cecfda55cc72d8ec7acb42a66b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for testing only.  <a href="#a6f4b39cecfda55cc72d8ec7acb42a66b">More...</a><br/></td></tr>
<tr class="separator:a6f4b39cecfda55cc72d8ec7acb42a66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb85ed30deba3d54206aed936b9ec46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a6cb85ed30deba3d54206aed936b9ec46">Init</a> (<a class="el" href="classimpala_1_1Webserver.html">Webserver</a> *webserver)</td></tr>
<tr class="separator:a6cb85ed30deba3d54206aed936b9ec46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dea7307b36552a69548034e2df420a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a3dea7307b36552a69548034e2df420a9">ToJson</a> (<a class="el" href="classbool.html">bool</a> include_children, rapidjson::Document *document, rapidjson::Value *out_val)</td></tr>
<tr class="memdesc:a3dea7307b36552a69548034e2df420a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts this metric group (and optionally all of its children recursively) to JSON.  <a href="#a3dea7307b36552a69548034e2df420a9">More...</a><br/></td></tr>
<tr class="separator:a3dea7307b36552a69548034e2df420a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f304e28df3ce705703fe17f2c180bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MetricGroup.html">MetricGroup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a06f304e28df3ce705703fe17f2c180bf">GetChildGroup</a> (const std::string &amp;<a class="el" href="classimpala_1_1MetricGroup.html#ab502d1ff9aa79e3ceab1b86e4ba9f155">name</a>)</td></tr>
<tr class="memdesc:a06f304e28df3ce705703fe17f2c180bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates or returns an already existing child metric group.  <a href="#a06f304e28df3ce705703fe17f2c180bf">More...</a><br/></td></tr>
<tr class="separator:a06f304e28df3ce705703fe17f2c180bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff090ecbc7d7be655499bd02fde3e9b5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#aff090ecbc7d7be655499bd02fde3e9b5">DebugString</a> ()</td></tr>
<tr class="memdesc:aff090ecbc7d7be655499bd02fde3e9b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful for debuggers, returns the output of <a class="el" href="classimpala_1_1MetricGroup.html#ace59b4785d81836d904c266087db13ef">CMCompatibleCallback()</a>.  <a href="#aff090ecbc7d7be655499bd02fde3e9b5">More...</a><br/></td></tr>
<tr class="separator:aff090ecbc7d7be655499bd02fde3e9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab502d1ff9aa79e3ceab1b86e4ba9f155"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#ab502d1ff9aa79e3ceab1b86e4ba9f155">name</a> () const </td></tr>
<tr class="separator:ab502d1ff9aa79e3ceab1b86e4ba9f155"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a904c1cb774e338aed307964cb577432c"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="classimpala_1_1Metric.html">Metric</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a904c1cb774e338aed307964cb577432c">MetricMap</a></td></tr>
<tr class="memdesc:a904c1cb774e338aed307964cb577432c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all <a class="el" href="classimpala_1_1Metric.html" title="TODO: Add ToThrift() for conversion to an RPC-friendly format. ">Metric</a> objects, indexed by key.  <a href="#a904c1cb774e338aed307964cb577432c">More...</a><br/></td></tr>
<tr class="separator:a904c1cb774e338aed307964cb577432c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f5e098d47b9b6c35eb307184dce266"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="classimpala_1_1MetricGroup.html">MetricGroup</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#ab8f5e098d47b9b6c35eb307184dce266">ChildGroupMap</a></td></tr>
<tr class="memdesc:ab8f5e098d47b9b6c35eb307184dce266"><td class="mdescLeft">&#160;</td><td class="mdescRight">All child metric groups.  <a href="#ab8f5e098d47b9b6c35eb307184dce266">More...</a><br/></td></tr>
<tr class="separator:ab8f5e098d47b9b6c35eb307184dce266"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a287ba0720c177cef37622f165da2a9a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a287ba0720c177cef37622f165da2a9a5">TemplateCallback</a> (const <a class="el" href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">Webserver::ArgumentMap</a> &amp;args, rapidjson::Document *document)</td></tr>
<tr class="separator:a287ba0720c177cef37622f165da2a9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace59b4785d81836d904c266087db13ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#ace59b4785d81836d904c266087db13ef">CMCompatibleCallback</a> (const <a class="el" href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">Webserver::ArgumentMap</a> &amp;args, rapidjson::Document *document)</td></tr>
<tr class="separator:ace59b4785d81836d904c266087db13ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1b49e4e65d0d50ffc75ebc09e7cc451c"><td class="memItemLeft" align="right" valign="top">boost::scoped_ptr&lt; <a class="el" href="classimpala_1_1ObjectPool.html">ObjectPool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a1b49e4e65d0d50ffc75ebc09e7cc451c">obj_pool_</a></td></tr>
<tr class="memdesc:a1b49e4e65d0d50ffc75ebc09e7cc451c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool containing all metric objects.  <a href="#a1b49e4e65d0d50ffc75ebc09e7cc451c">More...</a><br/></td></tr>
<tr class="separator:a1b49e4e65d0d50ffc75ebc09e7cc451c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee32ba1323157770c95bcf841f0e7c1d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#aee32ba1323157770c95bcf841f0e7c1d">name_</a></td></tr>
<tr class="memdesc:aee32ba1323157770c95bcf841f0e7c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of this metric group.  <a href="#aee32ba1323157770c95bcf841f0e7c1d">More...</a><br/></td></tr>
<tr class="separator:aee32ba1323157770c95bcf841f0e7c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74dcd8f2bee8f2500435dab191fac07d"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#a74dcd8f2bee8f2500435dab191fac07d">lock_</a></td></tr>
<tr class="memdesc:a74dcd8f2bee8f2500435dab191fac07d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Guards metric_map_ and children_.  <a href="#a74dcd8f2bee8f2500435dab191fac07d">More...</a><br/></td></tr>
<tr class="separator:a74dcd8f2bee8f2500435dab191fac07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed58de43376fdb325782a2276ba9e63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MetricGroup.html#a904c1cb774e338aed307964cb577432c">MetricMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#aeed58de43376fdb325782a2276ba9e63">metric_map_</a></td></tr>
<tr class="separator:aeed58de43376fdb325782a2276ba9e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad194acd31f35d6784f519d5cb0218ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MetricGroup.html#ab8f5e098d47b9b6c35eb307184dce266">ChildGroupMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1MetricGroup.html#aad194acd31f35d6784f519d5cb0218ca">children_</a></td></tr>
<tr class="separator:aad194acd31f35d6784f519d5cb0218ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MetricGroups may be organised hierarchically as a tree. </p>
<p>Container for a set of metrics. A <a class="el" href="classimpala_1_1MetricGroup.html" title="MetricGroups may be organised hierarchically as a tree. ">MetricGroup</a> owns the memory for every metric contained within it (see Add*() to create commonly used metric types). Metrics are 'registered' with a <a class="el" href="classimpala_1_1MetricGroup.html" title="MetricGroups may be organised hierarchically as a tree. ">MetricGroup</a>, once registered they cannot be deleted.Typically a metric object is cached by its creator after registration. If a metric must be retrieved without an available pointer, <a class="el" href="classimpala_1_1MetricGroup.html#a6f4b39cecfda55cc72d8ec7acb42a66b" title="Used for testing only. ">FindMetricForTesting()</a> will search the <a class="el" href="classimpala_1_1MetricGroup.html" title="MetricGroups may be organised hierarchically as a tree. ">MetricGroup</a> and all its descendent MetricGroups in turn. TODO: Hierarchical naming: that is, resolve "group1.group2.metric-name" to a path through the metric tree. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00200">200</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ab8f5e098d47b9b6c35eb307184dce266"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="classimpala_1_1MetricGroup.html">MetricGroup</a>*&gt; <a class="el" href="classimpala_1_1MetricGroup.html#ab8f5e098d47b9b6c35eb307184dce266">impala::MetricGroup::ChildGroupMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All child metric groups. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00300">300</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

</div>
</div>
<a class="anchor" id="a904c1cb774e338aed307964cb577432c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="classimpala_1_1Metric.html">Metric</a>*&gt; <a class="el" href="classimpala_1_1MetricGroup.html#a904c1cb774e338aed307964cb577432c">impala::MetricGroup::MetricMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Contains all <a class="el" href="classimpala_1_1Metric.html" title="TODO: Add ToThrift() for conversion to an RPC-friendly format. ">Metric</a> objects, indexed by key. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00296">296</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a190ad1430e74a11561fe1de4f47ebff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MetricGroup::MetricGroup </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00055">55</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3ebbe796e9b471aa697a00683cfd8d7c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1SimpleMetric.html">SimpleMetric</a>&lt;T, TMetricKind::COUNTER&gt;* impala::MetricGroup::AddCounter </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TUnit::type&#160;</td>
          <td class="paramname"><em>unit</em> = <code>TUnit::UNIT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00239">239</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00211">RegisterMetric()</a>.</p>

<p>Referenced by <a class="el" href="cgroups-mgr_8cc_source.html#l00040">impala::CgroupsMgr::CgroupsMgr()</a>, <a class="el" href="impalad-metrics_8cc_source.html#l00121">impala::ImpaladMetrics::CreateMetrics()</a>, <a class="el" href="admission-controller_8cc_source.html#l00686">impala::AdmissionController::GetPoolMetrics()</a>, <a class="el" href="mem-tracker_8cc_source.html#l00203">impala::MemTracker::RegisterMetrics()</a>, <a class="el" href="resource-broker_8cc_source.html#l00089">impala::ResourceBroker::ResourceBroker()</a>, <a class="el" href="metrics-test_8cc_source.html#l00041">impala::TEST()</a>, and <a class="el" href="thrift-server_8cc_source.html#l00276">impala::ThriftServer::ThriftServer()</a>.</p>

</div>
</div>
<a class="anchor" id="a32616eb20d4069c50427dfde1f89c376"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1SimpleMetric.html">SimpleMetric</a>&lt;T&gt;* impala::MetricGroup::AddGauge </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TUnit::type&#160;</td>
          <td class="paramname"><em>unit</em> = <code>TUnit::NONE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a gauge metric object with given key and initial value (owned by this object) </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00223">223</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00211">RegisterMetric()</a>.</p>

<p>Referenced by <a class="el" href="impalad-metrics_8cc_source.html#l00121">impala::ImpaladMetrics::CreateMetrics()</a>, <a class="el" href="admission-controller_8cc_source.html#l00686">impala::AdmissionController::GetPoolMetrics()</a>, <a class="el" href="client-cache_8cc_source.html#l00199">impala::ClientCacheHelper::InitMetrics()</a>, <a class="el" href="mem-tracker_8cc_source.html#l00203">impala::MemTracker::RegisterMetrics()</a>, <a class="el" href="resource-broker_8cc_source.html#l00089">impala::ResourceBroker::ResourceBroker()</a>, <a class="el" href="thread_8cc_source.html#l00155">impala::ThreadMgr::StartInstrumentation()</a>, <a class="el" href="statestore_8cc_source.html#l00211">impala::Statestore::Statestore()</a>, <a class="el" href="statestore-subscriber_8cc_source.html#l00089">impala::StatestoreSubscriber::StatestoreSubscriber()</a>, <a class="el" href="metrics-test_8cc_source.html#l00057">impala::TEST()</a>, and <a class="el" href="thrift-server_8cc_source.html#l00276">impala::ThriftServer::ThriftServer()</a>.</p>

</div>
</div>
<a class="anchor" id="acb181cc1e3e171a504b28756a5aa5110"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1SimpleMetric.html">SimpleMetric</a>&lt;T, TMetricKind::PROPERTY&gt;* impala::MetricGroup::AddProperty </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00231">231</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00211">RegisterMetric()</a>.</p>

<p>Referenced by <a class="el" href="impalad-metrics_8cc_source.html#l00121">impala::ImpaladMetrics::CreateMetrics()</a>, <a class="el" href="resource-broker_8cc_source.html#l00089">impala::ResourceBroker::ResourceBroker()</a>, <a class="el" href="statestore-subscriber_8cc_source.html#l00089">impala::StatestoreSubscriber::StatestoreSubscriber()</a>, and <a class="el" href="metrics-test_8cc_source.html#l00073">impala::TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="ace59b4785d81836d904c266087db13ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MetricGroup::CMCompatibleCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">Webserver::ArgumentMap</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rapidjson::Document *&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Legacy webpage callback for CM 5.0 and earlier. Produces a flattened map of (key, value) pairs for all metrics in this hierarchy. If args contains a paramater 'metric', only the json for that metric is returned. </p>

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00073">73</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00301">children_</a>, <a class="el" href="metrics_8h_source.html#l00293">lock_</a>, and <a class="el" href="metrics_8h_source.html#l00297">metric_map_</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00058">Init()</a>.</p>

</div>
</div>
<a class="anchor" id="aff090ecbc7d7be655499bd02fde3e9b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string MetricGroup::DebugString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Useful for debuggers, returns the output of <a class="el" href="classimpala_1_1MetricGroup.html#ace59b4785d81836d904c266087db13ef">CMCompatibleCallback()</a>. </p>

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00178">178</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

<p>References <a class="el" href="metrics_8cc_source.html#l00103">TemplateCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f4b39cecfda55cc72d8ec7acb42a66b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">M* impala::MetricGroup::FindMetricForTesting </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for testing only. </p>
<p>Returns a metric by key. All MetricGroups reachable from this group are searched in depth-first order, starting with the root group. Returns NULL if there is no metric with that key. This is not a very cheap operation; the result should be cached where possible. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00253">253</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00301">children_</a>, <a class="el" href="metrics_8h_source.html#l00293">lock_</a>, and <a class="el" href="metrics_8h_source.html#l00297">metric_map_</a>.</p>

<p>Referenced by <a class="el" href="session-expiry-test_8cc_source.html#l00042">TEST()</a>, and <a class="el" href="metrics-test_8cc_source.html#l00140">impala::TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a06f304e28df3ce705703fe17f2c180bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MetricGroup.html">MetricGroup</a> * MetricGroup::GetChildGroup </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates or returns an already existing child metric group. </p>

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00169">169</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00301">children_</a>, <a class="el" href="metrics_8h_source.html#l00293">lock_</a>, <a class="el" href="metrics_8h_source.html#l00283">name()</a>, and <a class="el" href="metrics_8h_source.html#l00287">obj_pool_</a>.</p>

<p>Referenced by <a class="el" href="impala-server_8cc_source.html#l00226">impala::ImpalaServer::ImpalaServer()</a>, <a class="el" href="memory-metrics_8cc_source.html#l00034">impala::RegisterMemoryMetrics()</a>, and <a class="el" href="metrics-test_8cc_source.html#l00173">impala::TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a6cb85ed30deba3d54206aed936b9ec46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1Status.html">Status</a> MetricGroup::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1Webserver.html">Webserver</a> *&#160;</td>
          <td class="paramname"><em>webserver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register page callbacks with the webserver. Only the root of any metric group hierarchy needs to do this. </p>

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00058">58</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

<p>References <a class="el" href="metrics_8cc_source.html#l00073">CMCompatibleCallback()</a>, <a class="el" href="status_8h_source.html#l00087">impala::Status::OK</a>, <a class="el" href="webserver_8cc_source.html#l00412">impala::Webserver::RegisterUrlCallback()</a>, and <a class="el" href="metrics_8cc_source.html#l00103">TemplateCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="ab502d1ff9aa79e3ceab1b86e4ba9f155"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; impala::MetricGroup::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00283">283</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00290">name_</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00169">GetChildGroup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b6ae979dcd7b3929354a1b23272e759"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">M* impala::MetricGroup::RegisterMetric </td>
          <td>(</td>
          <td class="paramtype">M *&#160;</td>
          <td class="paramname"><em>metric</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Registers a new metric. Ownership of the metric will be transferred to this <a class="el" href="classimpala_1_1MetricGroup.html" title="MetricGroups may be organised hierarchically as a tree. ">MetricGroup</a> object, so callers should take care not to destroy the <a class="el" href="classimpala_1_1Metric.html" title="TODO: Add ToThrift() for conversion to an RPC-friendly format. ">Metric</a> they pass in. It is an error to call twice with metrics with the same key. The template parameter M must be a subclass of <a class="el" href="classimpala_1_1Metric.html" title="TODO: Add ToThrift() for conversion to an RPC-friendly format. ">Metric</a>. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00211">211</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00293">lock_</a>, <a class="el" href="metrics_8h_source.html#l00297">metric_map_</a>, and <a class="el" href="metrics_8h_source.html#l00287">obj_pool_</a>.</p>

<p>Referenced by <a class="el" href="metrics_8h_source.html#l00239">AddCounter()</a>, <a class="el" href="metrics_8h_source.html#l00223">AddGauge()</a>, <a class="el" href="metrics_8h_source.html#l00231">AddProperty()</a>, <a class="el" href="statestore-subscriber_8cc_source.html#l00126">impala::StatestoreSubscriber::AddTopic()</a>, <a class="el" href="catalog-server_8cc_source.html#l00148">impala::CatalogServer::CatalogServer()</a>, <a class="el" href="rpc-trace_8cc_source.html#l00158">impala::RpcEventHandler::getContext()</a>, <a class="el" href="memory-metrics_8cc_source.html#l00065">impala::JvmMetric::InitMetrics()</a>, <a class="el" href="memory-metrics_8cc_source.html#l00034">impala::RegisterMemoryMetrics()</a>, <a class="el" href="request-pool-service_8cc_source.html#l00067">impala::RequestPoolService::RequestPoolService()</a>, <a class="el" href="resource-broker_8cc_source.html#l00089">impala::ResourceBroker::ResourceBroker()</a>, <a class="el" href="statestore_8cc_source.html#l00211">impala::Statestore::Statestore()</a>, <a class="el" href="statestore-subscriber_8cc_source.html#l00089">impala::StatestoreSubscriber::StatestoreSubscriber()</a>, and <a class="el" href="metrics-test_8cc_source.html#l00098">impala::TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a287ba0720c177cef37622f165da2a9a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MetricGroup::TemplateCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">Webserver::ArgumentMap</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rapidjson::Document *&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classimpala_1_1Webserver.html">Webserver</a> callback for /metrics. Produces a tree of JSON values, each representing a metric group, and each including a list of metrics, and a list of immediate children. If args contains a paramater 'metric', only the json for that metric is returned. </p>

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00103">103</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00301">children_</a>, <a class="el" href="metrics_8h_source.html#l00293">lock_</a>, and <a class="el" href="metrics_8cc_source.html#l00145">ToJson()</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00178">DebugString()</a>, and <a class="el" href="metrics_8cc_source.html#l00058">Init()</a>.</p>

</div>
</div>
<a class="anchor" id="a3dea7307b36552a69548034e2df420a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetricGroup::ToJson </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>include_children</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rapidjson::Document *&#160;</td>
          <td class="paramname"><em>document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rapidjson::Value *&#160;</td>
          <td class="paramname"><em>out_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts this metric group (and optionally all of its children recursively) to JSON. </p>

<p>Definition at line <a class="el" href="metrics_8cc_source.html#l00145">145</a> of file <a class="el" href="metrics_8cc_source.html">metrics.cc</a>.</p>

<p>References <a class="el" href="metrics_8h_source.html#l00301">children_</a>, <a class="el" href="metrics_8h_source.html#l00297">metric_map_</a>, and <a class="el" href="metrics_8h_source.html#l00290">name_</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00103">TemplateCallback()</a>, and <a class="el" href="metrics-test_8cc_source.html#l00197">impala::TEST()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aad194acd31f35d6784f519d5cb0218ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MetricGroup.html#ab8f5e098d47b9b6c35eb307184dce266">ChildGroupMap</a> impala::MetricGroup::children_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00301">301</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00073">CMCompatibleCallback()</a>, <a class="el" href="metrics_8h_source.html#l00253">FindMetricForTesting()</a>, <a class="el" href="metrics_8cc_source.html#l00169">GetChildGroup()</a>, <a class="el" href="metrics_8cc_source.html#l00103">TemplateCallback()</a>, and <a class="el" href="metrics_8cc_source.html#l00145">ToJson()</a>.</p>

</div>
</div>
<a class="anchor" id="a74dcd8f2bee8f2500435dab191fac07d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex impala::MetricGroup::lock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Guards metric_map_ and children_. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00293">293</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00073">CMCompatibleCallback()</a>, <a class="el" href="metrics_8h_source.html#l00253">FindMetricForTesting()</a>, <a class="el" href="metrics_8cc_source.html#l00169">GetChildGroup()</a>, <a class="el" href="metrics_8h_source.html#l00211">RegisterMetric()</a>, and <a class="el" href="metrics_8cc_source.html#l00103">TemplateCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="aeed58de43376fdb325782a2276ba9e63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MetricGroup.html#a904c1cb774e338aed307964cb577432c">MetricMap</a> impala::MetricGroup::metric_map_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00297">297</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00073">CMCompatibleCallback()</a>, <a class="el" href="metrics_8h_source.html#l00253">FindMetricForTesting()</a>, <a class="el" href="metrics_8h_source.html#l00211">RegisterMetric()</a>, and <a class="el" href="metrics_8cc_source.html#l00145">ToJson()</a>.</p>

</div>
</div>
<a class="anchor" id="aee32ba1323157770c95bcf841f0e7c1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string impala::MetricGroup::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of this metric group. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00290">290</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>Referenced by <a class="el" href="metrics_8h_source.html#l00283">name()</a>, and <a class="el" href="metrics_8cc_source.html#l00145">ToJson()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b49e4e65d0d50ffc75ebc09e7cc451c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_ptr&lt;<a class="el" href="classimpala_1_1ObjectPool.html">ObjectPool</a>&gt; impala::MetricGroup::obj_pool_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pool containing all metric objects. </p>

<p>Definition at line <a class="el" href="metrics_8h_source.html#l00287">287</a> of file <a class="el" href="metrics_8h_source.html">metrics.h</a>.</p>

<p>Referenced by <a class="el" href="metrics_8cc_source.html#l00169">GetChildGroup()</a>, and <a class="el" href="metrics_8h_source.html#l00211">RegisterMetric()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>be/src/util/<a class="el" href="metrics_8h_source.html">metrics.h</a></li>
<li>be/src/util/<a class="el" href="metrics_8cc_source.html">metrics.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceimpala.html">impala</a></li><li class="navelem"><a class="el" href="classimpala_1_1MetricGroup.html">MetricGroup</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:50 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
