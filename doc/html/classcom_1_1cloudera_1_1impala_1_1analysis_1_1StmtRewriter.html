<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: com.cloudera.impala.analysis.StmtRewriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.cloudera.impala.analysis.StmtRewriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for com.cloudera.impala.analysis.StmtRewriter:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter__coll__graph.svg" width="232" height="422"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2faff2e7ea6ec625ee83e90e21e6f8f9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StatementBase.html">StatementBase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a2faff2e7ea6ec625ee83e90e21e6f8f9">rewrite</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1AnalysisContext_1_1AnalysisResult.html">AnalysisResult</a> analysisResult)  throws AnalysisException </td></tr>
<tr class="separator:a2faff2e7ea6ec625ee83e90e21e6f8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f175c9fe1e5bd5aa27d1414486aa80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a43f175c9fe1e5bd5aa27d1414486aa80">rewriteQueryStatement</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1QueryStmt.html">QueryStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws AnalysisException </td></tr>
<tr class="separator:a43f175c9fe1e5bd5aa27d1414486aa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aebf736d268e09dcee55bb22cec283a04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#aebf736d268e09dcee55bb22cec283a04">rewriteSelectStatement</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws AnalysisException </td></tr>
<tr class="separator:aebf736d268e09dcee55bb22cec283a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284d74fbe1c1132005830a6d14d30530"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a284d74fbe1c1132005830a6d14d30530">rewriteUnionStatement</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt.html">UnionStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws AnalysisException </td></tr>
<tr class="separator:a284d74fbe1c1132005830a6d14d30530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86fe4b27b524b74545da849b75842638"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a86fe4b27b524b74545da849b75842638">hasSubqueryInDisjunction</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr)</td></tr>
<tr class="separator:a86fe4b27b524b74545da849b75842638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef21d244cbb6322a31a2600d800c5d02"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#aef21d244cbb6322a31a2600d800c5d02">rewriteWhereClauseSubqueries</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws AnalysisException </td></tr>
<tr class="separator:aef21d244cbb6322a31a2600d800c5d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672323189a274d1a73731f72a0b1972c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BoolLiteral.html">BoolLiteral</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a672323189a274d1a73731f72a0b1972c">replaceExistsPredicate</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExistsPredicate.html">ExistsPredicate</a> predicate)</td></tr>
<tr class="separator:a672323189a274d1a73731f72a0b1972c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70143c4a2c46de6159c71b61cf14e107"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a70143c4a2c46de6159c71b61cf14e107">replaceBetweenPredicates</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr)</td></tr>
<tr class="separator:a70143c4a2c46de6159c71b61cf14e107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16693712e11719b62bbd86385625ed2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#aa16693712e11719b62bbd86385625ed2">rewriteExpr</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws AnalysisException </td></tr>
<tr class="separator:aa16693712e11719b62bbd86385625ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113efb39ed846d110bfcfcf17c804145"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a113efb39ed846d110bfcfcf17c804145">mergeExpr</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws AnalysisException </td></tr>
<tr class="separator:a113efb39ed846d110bfcfcf17c804145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf3df78dd972a7c649ffb3635a9b1a4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a8bf3df78dd972a7c649ffb3635a9b1a4">replaceUnqualifiedStarItems</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> stmt, int tableIdx)</td></tr>
<tr class="separator:a8bf3df78dd972a7c649ffb3635a9b1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f74a6118be3272d347ad2cd5c57be2"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a73f74a6118be3272d347ad2cd5c57be2">canEliminate</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr)</td></tr>
<tr class="separator:a73f74a6118be3272d347ad2cd5c57be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e2de896db84b35fd10399e97f0e263"><td class="memItemLeft" align="right" valign="top">static ArrayList&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a95e2de896db84b35fd10399e97f0e263">extractCorrelatedPredicates</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> subqueryStmt)  throws AnalysisException </td></tr>
<tr class="separator:a95e2de896db84b35fd10399e97f0e263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb827b22d3d2a794bdf407f50e02f0bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#acb827b22d3d2a794bdf407f50e02f0bb">extractCorrelatedPredicates</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> root, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; tupleIds, ArrayList&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; matches)</td></tr>
<tr class="separator:acb827b22d3d2a794bdf407f50e02f0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324c28d6c9376310c080f5d807e1cdae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a324c28d6c9376310c080f5d807e1cdae">canRewriteCorrelatedSubquery</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr)  throws AnalysisException </td></tr>
<tr class="separator:a324c28d6c9376310c080f5d807e1cdae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e61742eb8f25b6c5e0ca239733b783f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a8e61742eb8f25b6c5e0ca239733b783f">updateInlineView</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a> inlineView, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; parentQueryTids, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; lhsExprs, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; rhsExprs, boolean updateGroupBy)  throws AnalysisException </td></tr>
<tr class="separator:a8e61742eb8f25b6c5e0ca239733b783f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1da71115b7bebbe9e6f74993581a95"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a7c1da71115b7bebbe9e6f74993581a95">canExtractCorrelatedPredicates</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; subqueryTupleIds)</td></tr>
<tr class="separator:a7c1da71115b7bebbe9e6f74993581a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c25ce4a5140232c20520ebbb929a606"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a8c25ce4a5140232c20520ebbb929a606">containsCorrelatedPredicate</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> root, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; tupleIds)</td></tr>
<tr class="separator:a8c25ce4a5140232c20520ebbb929a606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ee649a9ad1df8b0edb1a71b59644a4"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#af4ee649a9ad1df8b0edb1a71b59644a4">isCorrelatedPredicate</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> expr, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; tupleIds)</td></tr>
<tr class="separator:af4ee649a9ad1df8b0edb1a71b59644a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49343be7a4d1095a4758ee93a34eb16"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#ab49343be7a4d1095a4758ee93a34eb16">createJoinConjunct</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> exprWithSubquery, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a> inlineView, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, boolean isCorrelated)  throws AnalysisException </td></tr>
<tr class="separator:ab49343be7a4d1095a4758ee93a34eb16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:afedbc7ca40cf888735e2a1b9a784d833"><td class="memItemLeft" align="right" valign="top">static final Logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#afedbc7ca40cf888735e2a1b9a784d833">LOG</a> = LoggerFactory.getLogger(StmtRewriter.class)</td></tr>
<tr class="separator:afedbc7ca40cf888735e2a1b9a784d833"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing a statement rewriter. A statement rewriter performs subquery unnesting on an analyzed parse tree. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00034">34</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a73f74a6118be3272d347ad2cd5c57be2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean com.cloudera.impala.analysis.StmtRewriter.canEliminate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> tree rooted at 'expr' can be safely eliminated, i.e. it only consists of conjunctions of true BoolLiterals. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00571">571</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="Expr_8java_source.html#l00662">com.cloudera.impala.analysis.Expr.getConjuncts()</a>, and <a class="el" href="Expr_8java_source.html#l00124">com.cloudera.impala.analysis.Expr.IS_TRUE_LITERAL</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00583">com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c1da71115b7bebbe9e6f74993581a95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean com.cloudera.impala.analysis.StmtRewriter.canExtractCorrelatedPredicates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>subqueryTupleIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if we can extract the correlated predicates from 'expr'. A correlated predicate cannot be extracted if it is part of a disjunction. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00765">765</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00783">com.cloudera.impala.analysis.StmtRewriter.containsCorrelatedPredicate()</a>, and <a class="el" href="Expr_8java_source.html#l00085">com.cloudera.impala.analysis.Expr.IS_OR_PREDICATE</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00583">com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates()</a>.</p>

</div>
</div>
<a class="anchor" id="a324c28d6c9376310c080f5d807e1cdae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.canRewriteCorrelatedSubquery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em></td><td>)</td>
          <td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if an expr containing a correlated subquery is eligible for rewrite by tranforming into a join. Throws an AnalysisException if 'expr' is not eligible for rewrite. TODO: Merge all the rewrite eligibility tests into a single function. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00650">650</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="SelectStmt_8java_source.html#l00113">com.cloudera.impala.analysis.SelectStmt.hasAggInfo()</a>, <a class="el" href="SelectStmt_8java_source.html#l00109">com.cloudera.impala.analysis.SelectStmt.hasGroupByClause()</a>, <a class="el" href="QueryStmt_8java_source.html#l00273">com.cloudera.impala.analysis.QueryStmt.hasLimit()</a>, and <a class="el" href="SelectStmt_8java_source.html#l00783">com.cloudera.impala.analysis.SelectStmt.toSql()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00332">com.cloudera.impala.analysis.StmtRewriter.mergeExpr()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c25ce4a5140232c20520ebbb929a606"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean com.cloudera.impala.analysis.StmtRewriter.containsCorrelatedPredicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>tupleIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the expr tree rooted at 'root' contains a correlated predicate. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00783">783</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00796">com.cloudera.impala.analysis.StmtRewriter.isCorrelatedPredicate()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00765">com.cloudera.impala.analysis.StmtRewriter.canExtractCorrelatedPredicates()</a>.</p>

</div>
</div>
<a class="anchor" id="ab49343be7a4d1095a4758ee93a34eb16"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> com.cloudera.impala.analysis.StmtRewriter.createJoinConjunct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>exprWithSubquery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a>&#160;</td>
          <td class="paramname"><em>inlineView</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>isCorrelated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts an expr containing a subquery into an analyzed conjunct to be used in a join. The conversion is performed in place by replacing the subquery with the first expr from the select list of 'inlineView'. If 'isCorrelated' is true and the first expr from the inline view contains an aggregate function that returns non-null on an empty input, the aggregate function is wrapped into a 'zeroifnull' function. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00809">809</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="SelectListItem_8java_source.html#l00051">com.cloudera.impala.analysis.SelectListItem.getExpr()</a>, <a class="el" href="Expr_8java_source.html#l00115">com.cloudera.impala.analysis.Expr.IS_BUILTIN_AGG_FN</a>, <a class="el" href="Expr_8java_source.html#l00936">com.cloudera.impala.analysis.Expr.isScalarSubquery()</a>, <a class="el" href="Expr_8java_source.html#l00106">com.cloudera.impala.analysis.Expr.NON_NULL_EMPTY_AGG</a>, and <a class="el" href="Expr_8java_source.html#l00449">com.cloudera.impala.analysis.Expr.toSql()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00332">com.cloudera.impala.analysis.StmtRewriter.mergeExpr()</a>.</p>

</div>
</div>
<a class="anchor" id="a95e2de896db84b35fd10399e97f0e263"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ArrayList&lt;<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&gt; com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>subqueryStmt</em></td><td>)</td>
          <td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extract all correlated predicates of a subquery.</p>
<p>TODO Handle correlated predicates in a HAVING clause. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00583">583</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00571">com.cloudera.impala.analysis.StmtRewriter.canEliminate()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00765">com.cloudera.impala.analysis.StmtRewriter.canExtractCorrelatedPredicates()</a>, and <a class="el" href="JoinOperator_8java_source.html#l00028">com.cloudera.impala.analysis.JoinOperator.CROSS_JOIN</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00631">com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00332">com.cloudera.impala.analysis.StmtRewriter.mergeExpr()</a>.</p>

</div>
</div>
<a class="anchor" id="acb827b22d3d2a794bdf407f50e02f0bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>tupleIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayList&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>matches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extract all correlated predicates from the expr tree rooted at 'root' and replace them with true BoolLiterals. The modified expr tree is returned and the extracted correlated predicates are added to 'matches'. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00631">631</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00583">com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00796">com.cloudera.impala.analysis.StmtRewriter.isCorrelatedPredicate()</a>.</p>

</div>
</div>
<a class="anchor" id="a86fe4b27b524b74545da849b75842638"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean com.cloudera.impala.analysis.StmtRewriter.hasSubqueryInDisjunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> tree rooted at 'expr' has at least one subquery that participates in a disjunction. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00133">133</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="Expr_8java_source.html#l00085">com.cloudera.impala.analysis.Expr.IS_OR_PREDICATE</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00090">com.cloudera.impala.analysis.StmtRewriter.rewriteSelectStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="af4ee649a9ad1df8b0edb1a71b59644a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean com.cloudera.impala.analysis.StmtRewriter.isCorrelatedPredicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>tupleIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if 'expr' is a correlated predicate. A predicate is correlated if at least one of its SlotRefs belongs to an ancestor query block (i.e. is not bound by the given 'tupleIds'). </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00796">796</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00783">com.cloudera.impala.analysis.StmtRewriter.containsCorrelatedPredicate()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00631">com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates()</a>.</p>

</div>
</div>
<a class="anchor" id="a113efb39ed846d110bfcfcf17c804145"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean com.cloudera.impala.analysis.StmtRewriter.mergeExpr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Merge an expr containing a subquery with a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> 'stmt' by converting the subquery stmt of the former into an inline view and creating a join between the new inline view and the right-most table from 'stmt'. Return true if the rewrite introduced a new visible tuple due to a CROSS JOIN or a LEFT OUTER JOIN.</p>
<p>This process works as follows:</p>
<ol type="1">
<li>Create a new inline view with the subquery as the view's stmt. Changes made to the subquery's stmt will affect the inline view.</li>
<li>Extract all correlated predicates from the subquery's WHERE clause; the subquery's select list may be extended with new items and a GROUP BY clause may be added.</li>
<li>Add the inline view to stmt's tableRefs and create a join (left semi join, anti-join, left outer join for agg functions that return a non-NULL value for an empty input, or cross-join) with stmt's right-most table.</li>
<li>Initialize the ON clause of the new join from the original subquery predicate and the new inline view.</li>
<li>Apply expr substitutions such that the extracted correlated predicates refer to columns of the new inline view.</li>
<li>Add all extracted correlated predicates to the ON clause. </li>
</ol>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00332">332</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00650">com.cloudera.impala.analysis.StmtRewriter.canRewriteCorrelatedSubquery()</a>, <a class="el" href="InlineViewRef_8java_source.html#l00273">com.cloudera.impala.analysis.InlineViewRef.clone()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00809">com.cloudera.impala.analysis.StmtRewriter.createJoinConjunct()</a>, <a class="el" href="JoinOperator_8java_source.html#l00028">com.cloudera.impala.analysis.JoinOperator.CROSS_JOIN</a>, <a class="el" href="StmtRewriter_8java_source.html#l00583">com.cloudera.impala.analysis.StmtRewriter.extractCorrelatedPredicates()</a>, <a class="el" href="Expr_8java_source.html#l00662">com.cloudera.impala.analysis.Expr.getConjuncts()</a>, <a class="el" href="TableRef_8java_source.html#l00250">com.cloudera.impala.analysis.TableRef.getDesc()</a>, <a class="el" href="SelectStmt_8java_source.html#l00100">com.cloudera.impala.analysis.SelectStmt.getSelectList()</a>, <a class="el" href="InlineViewRef_8java_source.html#l00259">com.cloudera.impala.analysis.InlineViewRef.getViewStmt()</a>, <a class="el" href="Expr_8java_source.html#l00852">com.cloudera.impala.analysis.Expr.isBoundByTupleIds()</a>, <a class="el" href="JoinOperator_8java_source.html#l00023">com.cloudera.impala.analysis.JoinOperator.LEFT_ANTI_JOIN</a>, <a class="el" href="JoinOperator_8java_source.html#l00021">com.cloudera.impala.analysis.JoinOperator.LEFT_OUTER_JOIN</a>, <a class="el" href="JoinOperator_8java_source.html#l00022">com.cloudera.impala.analysis.JoinOperator.LEFT_SEMI_JOIN</a>, <a class="el" href="Expr_8java_source.html#l00106">com.cloudera.impala.analysis.Expr.NON_NULL_EMPTY_AGG</a>, <a class="el" href="JoinOperator_8java_source.html#l00032">com.cloudera.impala.analysis.JoinOperator.NULL_AWARE_LEFT_ANTI_JOIN</a>, <a class="el" href="QueryStmt_8java_source.html#l00281">com.cloudera.impala.analysis.QueryStmt.setLimit()</a>, <a class="el" href="SelectStmt_8java_source.html#l00783">com.cloudera.impala.analysis.SelectStmt.toSql()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00686">com.cloudera.impala.analysis.StmtRewriter.updateInlineView()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

</div>
</div>
<a class="anchor" id="a70143c4a2c46de6159c71b61cf14e107"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> com.cloudera.impala.analysis.StmtRewriter.replaceBetweenPredicates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replace all BetweenPredicates containing subqueries with their equivalent compound predicates from the expr tree rooted at 'expr'. The modified expr tree is returned. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00280">280</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

</div>
</div>
<a class="anchor" id="a672323189a274d1a73731f72a0b1972c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BoolLiteral.html">BoolLiteral</a> com.cloudera.impala.analysis.StmtRewriter.replaceExistsPredicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExistsPredicate.html">ExistsPredicate</a>&#160;</td>
          <td class="paramname"><em>predicate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replace an <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExistsPredicate.html">ExistsPredicate</a> that contains a subquery with a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BoolLiteral.html">BoolLiteral</a> if we can determine its result without evaluating it. Return null if the result of the <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1ExistsPredicate.html">ExistsPredicate</a> can only be determined at run-time. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00261">261</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="Subquery_8java_source.html#l00045">com.cloudera.impala.analysis.Subquery.getStatement()</a>, and <a class="el" href="ExistsPredicate_8java_source.html#l00032">com.cloudera.impala.analysis.ExistsPredicate.isNotExists()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

</div>
</div>
<a class="anchor" id="a8bf3df78dd972a7c649ffb3635a9b1a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.replaceUnqualifiedStarItems </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tableIdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replace all unqualified star exprs ('*') from stmt's select list with qualified ones, i.e. tbl_1.*,...,tbl_n.*, where tbl_1,...,tbl_n are the visible tablerefs in stmt. 'tableIndx' indicates the maximum tableRef ordinal to consider when replacing an unqualified star item. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00540">540</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="TableRef_8java_source.html#l00188">com.cloudera.impala.analysis.TableRef.getJoinOp()</a>, <a class="el" href="SelectList_8java_source.html#l00068">com.cloudera.impala.analysis.SelectList.getPlanHints()</a>, <a class="el" href="SelectListItem_8java_source.html#l00052">com.cloudera.impala.analysis.SelectListItem.isStar()</a>, <a class="el" href="JoinOperator_8java_source.html#l00023">com.cloudera.impala.analysis.JoinOperator.LEFT_ANTI_JOIN</a>, and <a class="el" href="SelectStmt_8java_source.html#l00048">com.cloudera.impala.analysis.SelectStmt.selectList_</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

</div>
</div>
<a class="anchor" id="a2faff2e7ea6ec625ee83e90e21e6f8f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StatementBase.html">StatementBase</a> com.cloudera.impala.analysis.StmtRewriter.rewrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1AnalysisContext_1_1AnalysisResult.html">AnalysisResult</a>&#160;</td>
          <td class="paramname"><em>analysisResult</em></td><td>)</td>
          <td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rewrite the statement of an analysis result. The unanalyzed rewritten statement is returned. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00041">41</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="QueryStmt_8java_source.html#l00083">com.cloudera.impala.analysis.QueryStmt.getAnalyzer()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00072">com.cloudera.impala.analysis.StmtRewriter.rewriteQueryStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="aa16693712e11719b62bbd86385625ed2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> com.cloudera.impala.analysis.StmtRewriter.rewriteExpr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies in place an expr that contains a subquery by rewriting its subquery stmt. The modified analyzed expr is returned. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00294">294</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="Subquery_8java_source.html#l00045">com.cloudera.impala.analysis.Subquery.getStatement()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00090">com.cloudera.impala.analysis.StmtRewriter.rewriteSelectStatement()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

</div>
</div>
<a class="anchor" id="a43f175c9fe1e5bd5aa27d1414486aa80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.rewriteQueryStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1QueryStmt.html">QueryStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calls the appropriate rewrite method based on the specific type of query stmt. See <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#aebf736d268e09dcee55bb22cec283a04">rewriteSelectStatement()</a> and <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html#a284d74fbe1c1132005830a6d14d30530">rewriteUnionStatement()</a> documentation. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00072">72</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00090">com.cloudera.impala.analysis.StmtRewriter.rewriteSelectStatement()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00120">com.cloudera.impala.analysis.StmtRewriter.rewriteUnionStatement()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00041">com.cloudera.impala.analysis.StmtRewriter.rewrite()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00090">com.cloudera.impala.analysis.StmtRewriter.rewriteSelectStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="aebf736d268e09dcee55bb22cec283a04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.rewriteSelectStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rewrite all the subqueries of a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> in place. Subqueries are currently supported in FROM and WHERE clauses. The rewrite is performed in place and not in a clone of <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> because it requires the stmt to be analyzed. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00090">90</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="InlineViewRef_8java_source.html#l00259">com.cloudera.impala.analysis.InlineViewRef.getViewStmt()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00133">com.cloudera.impala.analysis.StmtRewriter.hasSubqueryInDisjunction()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00072">com.cloudera.impala.analysis.StmtRewriter.rewriteQueryStatement()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00198">com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00294">com.cloudera.impala.analysis.StmtRewriter.rewriteExpr()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00072">com.cloudera.impala.analysis.StmtRewriter.rewriteQueryStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="a284d74fbe1c1132005830a6d14d30530"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.rewriteUnionStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt.html">UnionStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rewrite all operands in a UNION. The conditions that apply to <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> rewriting also apply here. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00120">120</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00072">com.cloudera.impala.analysis.StmtRewriter.rewriteQueryStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="aef21d244cbb6322a31a2600d800c5d02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.rewriteWhereClauseSubqueries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rewrite all subqueries of a stmt's WHERE clause. Initially, all the conjuncts containing subqueries are extracted from the WHERE clause and are replaced with true BoolLiterals. Subsequently, each extracted conjunct is merged into its parent select block by converting it into a join. Conjuncts with subqueries that themselves contain conjuncts with subqueries are recursively rewritten in a bottom up fashion.</p>
<p>The following example illustrates the bottom up rewriting of nested queries. Suppose we have the following three level nested query Q0:</p>
<p>SELECT * FROM T1 : Q0 WHERE T1.a IN (SELECT a FROM T2 WHERE T2.b IN (SELECT b FROM T3)) AND T1.c &lt; 10;</p>
<p>This query will be rewritten as follows. Initially, the IN predicate T1.a IN (SELECT a FROM T2 WHERE T2.b IN (SELECT b FROM T3)) is extracted from the top level block (Q0) since it contains a subquery and is replaced by a true <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BoolLiteral.html">BoolLiteral</a>, resulting in the following query Q1:</p>
<p>SELECT * FROM T1 WHERE TRUE : Q1</p>
<p>Since the stmt in the extracted predicate contains a conjunct with a subquery, it is also rewritten. As before, rewriting stmt SELECT a FROM T2 WHERE T2.b IN (SELECT b FROM T3) works by first extracting the conjunct that contains the subquery (T2.b IN (SELECT b FROM T3)) and substituting it with a true <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BoolLiteral.html">BoolLiteral</a>, producing the following stmt Q2:</p>
<p>SELECT a FROM T2 WHERE TRUE : Q2</p>
<p>The predicate T2.b IN (SELECT b FROM T3) is then merged with Q2, producing the following unnested query Q3:</p>
<p>SELECT a FROM T2 LEFT SEMI JOIN (SELECT b FROM T3) $a$1 ON T2.b = $a$1.b : Q3</p>
<p>The extracted IN predicate becomes:</p>
<p>T1.a IN (SELECT a FROM T2 LEFT SEMI JOIN (SELECT b FROM T3) $a$1 ON T2.b = $a$1.b)</p>
<p>Finally, the rewritten IN predicate is merged with query block Q1, producing the following unnested query (WHERE clauses that contain only conjunctions of true BoolLiterals are eliminated):</p>
<p>SELECT * FROM T1 LEFT SEMI JOIN (SELECT a FROM T2 LEFT SEMI JOIN (SELECT b FROM T3) $a$1 ON T2.b = $a$1.b) $a$1 ON $a$1.a = T1.a WHERE T1.c &lt; 10; </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00198">198</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="StmtRewriter_8java_source.html#l00571">com.cloudera.impala.analysis.StmtRewriter.canEliminate()</a>, <a class="el" href="Expr_8java_source.html#l00662">com.cloudera.impala.analysis.Expr.getConjuncts()</a>, <a class="el" href="Expr_8java_source.html#l00095">com.cloudera.impala.analysis.Expr.IS_SCALAR_SUBQUERY</a>, <a class="el" href="StmtRewriter_8java_source.html#l00332">com.cloudera.impala.analysis.StmtRewriter.mergeExpr()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00280">com.cloudera.impala.analysis.StmtRewriter.replaceBetweenPredicates()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00261">com.cloudera.impala.analysis.StmtRewriter.replaceExistsPredicate()</a>, <a class="el" href="StmtRewriter_8java_source.html#l00540">com.cloudera.impala.analysis.StmtRewriter.replaceUnqualifiedStarItems()</a>, and <a class="el" href="StmtRewriter_8java_source.html#l00294">com.cloudera.impala.analysis.StmtRewriter.rewriteExpr()</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00090">com.cloudera.impala.analysis.StmtRewriter.rewriteSelectStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e61742eb8f25b6c5e0ca239733b783f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.cloudera.impala.analysis.StmtRewriter.updateInlineView </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a>&#160;</td>
          <td class="paramname"><em>inlineView</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a>&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>parentQueryTids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>lhsExprs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>rhsExprs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>updateGroupBy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1AnalysisException.html">AnalysisException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update the subquery within an inline view by expanding its select list with exprs from a correlated predicate 'expr' that will be 'moved' to an ON clause in the subquery's parent query block. We need to make sure that every expr extracted from the subquery references an item in the subquery's select list. If 'updateGroupBy' is true, the exprs extracted from 'expr' are also added in stmt's GROUP BY clause. Throws an AnalysisException if we need to update the GROUP BY clause but both the lhs and rhs of 'expr' reference a tuple of the subquery stmt. </p>

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00686">686</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

<p>References <a class="el" href="SelectList_8java_source.html#l00068">com.cloudera.impala.analysis.SelectList.getPlanHints()</a>, <a class="el" href="SelectStmt_8java_source.html#l00109">com.cloudera.impala.analysis.SelectStmt.hasGroupByClause()</a>, and <a class="el" href="SelectStmt_8java_source.html#l00048">com.cloudera.impala.analysis.SelectStmt.selectList_</a>.</p>

<p>Referenced by <a class="el" href="StmtRewriter_8java_source.html#l00332">com.cloudera.impala.analysis.StmtRewriter.mergeExpr()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afedbc7ca40cf888735e2a1b9a784d833"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Logger com.cloudera.impala.analysis.StmtRewriter.LOG = LoggerFactory.getLogger(StmtRewriter.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StmtRewriter_8java_source.html#l00035">35</a> of file <a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fe/src/main/java/com/cloudera/impala/analysis/<a class="el" href="StmtRewriter_8java_source.html">StmtRewriter.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecom.html">com</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera.html">cloudera</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera_1_1impala.html">impala</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera_1_1impala_1_1analysis.html">analysis</a></li><li class="navelem"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1StmtRewriter.html">StmtRewriter</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:44 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
