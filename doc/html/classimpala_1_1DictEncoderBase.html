<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: impala::DictEncoderBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classimpala_1_1DictEncoderBase.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classimpala_1_1DictEncoderBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">impala::DictEncoderBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for impala::DictEncoderBase:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classimpala_1_1DictEncoderBase__inherit__graph.svg" width="216" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Collaboration diagram for impala::DictEncoderBase:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classimpala_1_1DictEncoderBase__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab7ce879f21dc0a2ba22acbf8b16bff1a"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#ab7ce879f21dc0a2ba22acbf8b16bff1a">~DictEncoderBase</a> ()</td></tr>
<tr class="separator:ab7ce879f21dc0a2ba22acbf8b16bff1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbce7d0622d667d2afdae3020216a1d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a1fbce7d0622d667d2afdae3020216a1d">WriteDict</a> (uint8_t *buffer)=0</td></tr>
<tr class="separator:a1fbce7d0622d667d2afdae3020216a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe39ad27f3c146bd81a98f23d094469"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a5fe39ad27f3c146bd81a98f23d094469">num_entries</a> () const =0</td></tr>
<tr class="memdesc:a5fe39ad27f3c146bd81a98f23d094469"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of entries in the dictionary.  <a href="#a5fe39ad27f3c146bd81a98f23d094469">More...</a><br/></td></tr>
<tr class="separator:a5fe39ad27f3c146bd81a98f23d094469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91c07da0b3a81791f5f53e2d1ad8276"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#ac91c07da0b3a81791f5f53e2d1ad8276">ClearIndices</a> ()</td></tr>
<tr class="memdesc:ac91c07da0b3a81791f5f53e2d1ad8276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all the indices (but leaves the dictionary).  <a href="#ac91c07da0b3a81791f5f53e2d1ad8276">More...</a><br/></td></tr>
<tr class="separator:ac91c07da0b3a81791f5f53e2d1ad8276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847d7e23460d109549d0a8b9a2b378e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a847d7e23460d109549d0a8b9a2b378e4">EstimatedDataEncodedSize</a> ()</td></tr>
<tr class="separator:a847d7e23460d109549d0a8b9a2b378e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7c0e25278c4ccbc438c75019f10e70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#aca7c0e25278c4ccbc438c75019f10e70">bit_width</a> () const </td></tr>
<tr class="memdesc:aca7c0e25278c4ccbc438c75019f10e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum bit width required to encode the currently buffered indices.  <a href="#aca7c0e25278c4ccbc438c75019f10e70">More...</a><br/></td></tr>
<tr class="separator:aca7c0e25278c4ccbc438c75019f10e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1e843bac5c24dcc80013616dd72e3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a5c1e843bac5c24dcc80013616dd72e3f">WriteData</a> (uint8_t *buffer, int buffer_len)</td></tr>
<tr class="separator:a5c1e843bac5c24dcc80013616dd72e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da28f851bb899ff353b33de280167f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a8da28f851bb899ff353b33de280167f9">dict_encoded_size</a> ()</td></tr>
<tr class="separator:a8da28f851bb899ff353b33de280167f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a148c797d2163824546da769579804cbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a148c797d2163824546da769579804cbf">DictEncoderBase</a> (<a class="el" href="classimpala_1_1MemPool.html">MemPool</a> *<a class="el" href="expr-benchmark_8cc.html#a3a5de7bd423fbc0afc4cf935c166ca6b">pool</a>)</td></tr>
<tr class="separator:a148c797d2163824546da769579804cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6a32aade8f3ffadc48e2f9a53b2f1be3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a6a32aade8f3ffadc48e2f9a53b2f1be3">buffered_indices_</a></td></tr>
<tr class="memdesc:a6a32aade8f3ffadc48e2f9a53b2f1be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indices that have not yet be written out by <a class="el" href="classimpala_1_1DictEncoderBase.html#a5c1e843bac5c24dcc80013616dd72e3f">WriteData()</a>.  <a href="#a6a32aade8f3ffadc48e2f9a53b2f1be3">More...</a><br/></td></tr>
<tr class="separator:a6a32aade8f3ffadc48e2f9a53b2f1be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c6910c3ca8ab8371947dac3cdd7067"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#a76c6910c3ca8ab8371947dac3cdd7067">dict_encoded_size_</a></td></tr>
<tr class="memdesc:a76c6910c3ca8ab8371947dac3cdd7067"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bytes needed to encode the dictionary.  <a href="#a76c6910c3ca8ab8371947dac3cdd7067">More...</a><br/></td></tr>
<tr class="separator:a76c6910c3ca8ab8371947dac3cdd7067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06970c4a1b346bcce782a71b3bfd56b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classimpala_1_1MemPool.html">MemPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimpala_1_1DictEncoderBase.html#aa06970c4a1b346bcce782a71b3bfd56b">pool_</a></td></tr>
<tr class="memdesc:aa06970c4a1b346bcce782a71b3bfd56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool to store <a class="el" href="structimpala_1_1StringValue.html">StringValue</a> data. Not owned.  <a href="#aa06970c4a1b346bcce782a71b3bfd56b">More...</a><br/></td></tr>
<tr class="separator:aa06970c4a1b346bcce782a71b3bfd56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>See the dictionary encoding section of <a href="https://github.com/Parquet/parquet-format">https://github.com/Parquet/parquet-format</a>. This class supports dictionary encoding of all Impala types. The encoding supports streaming encoding. Values are encoded as they are added while the dictionary is being constructed. At any time, the buffered values can be written out with the current dictionary size. More values can then be added to the encoder, including new dictionary entries. TODO: if the dictionary was made to be ordered, the dictionary would compress better. Add this to the spec as future improvement. Base class for encoders. This is convenient so users can have a type that abstracts over the actual dictionary type. Note: it does not provide a virtual Put(). Users are expected to know the subclass type when using Put(). TODO: once we can easily remove virtual calls with codegen, this interface can rely less on templating and be easier to follow. The type should be passed in as an argument rather than template argument. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00048">48</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab7ce879f21dc0a2ba22acbf8b16bff1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual impala::DictEncoderBase::~DictEncoderBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00050">50</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>References <a class="el" href="dict-encoding_8h_source.html#l00092">buffered_indices_</a>.</p>

</div>
</div>
<a class="anchor" id="a148c797d2163824546da769579804cbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">impala::DictEncoderBase::DictEncoderBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimpala_1_1MemPool.html">MemPool</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00087">87</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aca7c0e25278c4ccbc438c75019f10e70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DictEncoderBase::bit_width </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum bit width required to encode the currently buffered indices. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00071">71</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>References <a class="el" href="bit-util_8h_source.html#l00135">impala::BitUtil::Log2()</a>, <a class="el" href="classimpala_1_1DictEncoderBase.html#a5fe39ad27f3c146bd81a98f23d094469">num_entries()</a>, and <a class="el" href="compiler-util_8h_source.html#l00033">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="dict-encoding_8h_source.html#l00066">EstimatedDataEncodedSize()</a>, and <a class="el" href="dict-encoding_8h_source.html#l00296">WriteData()</a>.</p>

</div>
</div>
<a class="anchor" id="ac91c07da0b3a81791f5f53e2d1ad8276"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void impala::DictEncoderBase::ClearIndices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all the indices (but leaves the dictionary). </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00062">62</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>References <a class="el" href="dict-encoding_8h_source.html#l00092">buffered_indices_</a>.</p>

<p>Referenced by <a class="el" href="dict-test_8cc_source.html#l00033">impala::ValidateDict()</a>.</p>

</div>
</div>
<a class="anchor" id="a8da28f851bb899ff353b33de280167f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DictEncoderBase::dict_encoded_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00084">84</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>References <a class="el" href="dict-encoding_8h_source.html#l00095">dict_encoded_size_</a>.</p>

<p>Referenced by <a class="el" href="dict-test_8cc_source.html#l00033">impala::ValidateDict()</a>.</p>

</div>
</div>
<a class="anchor" id="a847d7e23460d109549d0a8b9a2b378e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DictEncoderBase::EstimatedDataEncodedSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a conservative estimate of the number of bytes needed to encode the buffered indices. Used to size the buffer passed to <a class="el" href="classimpala_1_1DictEncoderBase.html#a5c1e843bac5c24dcc80013616dd72e3f">WriteData()</a>. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00066">66</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>References <a class="el" href="dict-encoding_8h_source.html#l00071">bit_width()</a>, <a class="el" href="dict-encoding_8h_source.html#l00092">buffered_indices_</a>, and <a class="el" href="rle-encoding_8h_source.html#l00142">impala::RleEncoder::MaxBufferSize()</a>.</p>

<p>Referenced by <a class="el" href="dict-test_8cc_source.html#l00033">impala::ValidateDict()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fe39ad27f3c146bd81a98f23d094469"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int impala::DictEncoderBase::num_entries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of entries in the dictionary. </p>

<p>Implemented in <a class="el" href="classimpala_1_1DictEncoder.html#af1838c43ad56aa6c6cbb0ca649987a47">impala::DictEncoder&lt; T &gt;</a>.</p>

<p>Referenced by <a class="el" href="dict-encoding_8h_source.html#l00071">bit_width()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c1e843bac5c24dcc80013616dd72e3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DictEncoderBase::WriteData </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buffer_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Writes out any buffered indices to buffer preceded by the bit width of this data. Returns the number of bytes written. If the supplied buffer is not big enough, returns -1. buffer must be preallocated with buffer_len bytes. Use <a class="el" href="classimpala_1_1DictEncoderBase.html#a847d7e23460d109549d0a8b9a2b378e4">EstimatedDataEncodedSize()</a> to size buffer. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00296">296</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>References <a class="el" href="dict-encoding_8h_source.html#l00071">bit_width()</a>, <a class="el" href="dict-encoding_8h_source.html#l00092">buffered_indices_</a>, <a class="el" href="rle-encoding_8h_source.html#l00370">impala::RleEncoder::Flush()</a>, <a class="el" href="rle-encoding_8h_source.html#l00162">impala::RleEncoder::len()</a>, and <a class="el" href="rle-encoding_8h_source.html#l00264">impala::RleEncoder::Put()</a>.</p>

<p>Referenced by <a class="el" href="dict-test_8cc_source.html#l00033">impala::ValidateDict()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fbce7d0622d667d2afdae3020216a1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void impala::DictEncoderBase::WriteDict </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Writes out the encoded dictionary to buffer. buffer must be preallocated to <a class="el" href="classimpala_1_1DictEncoderBase.html#a8da28f851bb899ff353b33de280167f9">dict_encoded_size()</a> bytes. </p>

<p>Implemented in <a class="el" href="classimpala_1_1DictEncoder.html#a003c195324a88dc95d76b7b7c9ec650b">impala::DictEncoder&lt; T &gt;</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6a32aade8f3ffadc48e2f9a53b2f1be3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; impala::DictEncoderBase::buffered_indices_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indices that have not yet be written out by <a class="el" href="classimpala_1_1DictEncoderBase.html#a5c1e843bac5c24dcc80013616dd72e3f">WriteData()</a>. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00092">92</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>Referenced by <a class="el" href="dict-encoding_8h_source.html#l00062">ClearIndices()</a>, <a class="el" href="dict-encoding_8h_source.html#l00066">EstimatedDataEncodedSize()</a>, <a class="el" href="dict-encoding_8h_source.html#l00296">WriteData()</a>, and <a class="el" href="dict-encoding_8h_source.html#l00050">~DictEncoderBase()</a>.</p>

</div>
</div>
<a class="anchor" id="a76c6910c3ca8ab8371947dac3cdd7067"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int impala::DictEncoderBase::dict_encoded_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of bytes needed to encode the dictionary. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00095">95</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

<p>Referenced by <a class="el" href="dict-encoding_8h_source.html#l00084">dict_encoded_size()</a>.</p>

</div>
</div>
<a class="anchor" id="aa06970c4a1b346bcce782a71b3bfd56b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classimpala_1_1MemPool.html">MemPool</a>* impala::DictEncoderBase::pool_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pool to store <a class="el" href="structimpala_1_1StringValue.html">StringValue</a> data. Not owned. </p>

<p>Definition at line <a class="el" href="dict-encoding_8h_source.html#l00098">98</a> of file <a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>be/src/util/<a class="el" href="dict-encoding_8h_source.html">dict-encoding.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceimpala.html">impala</a></li><li class="navelem"><a class="el" href="classimpala_1_1DictEncoderBase.html">DictEncoderBase</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:50 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
