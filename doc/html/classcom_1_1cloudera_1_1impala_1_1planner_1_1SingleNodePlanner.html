<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: com.cloudera.impala.planner.SingleNodePlanner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.cloudera.impala.planner.SingleNodePlanner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for com.cloudera.impala.planner.SingleNodePlanner:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa100619f614504a3413e4b6d036a15c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#aa100619f614504a3413e4b6d036a15c1">SingleNodePlanner</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a> ctx)</td></tr>
<tr class="separator:aa100619f614504a3413e4b6d036a15c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fee878dab41ba13ed022e82ac8b7a0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a6fee878dab41ba13ed022e82ac8b7a0b">createSingleNodePlan</a> ()  throws ImpalaException </td></tr>
<tr class="separator:a6fee878dab41ba13ed022e82ac8b7a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5153cf7d9be339358005c248c3cc56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a0a5153cf7d9be339358005c248c3cc56">migrateConjunctsToInlineView</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a> inlineViewRef)</td></tr>
<tr class="separator:a0a5153cf7d9be339358005c248c3cc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8dbf5c3ae2fd5655dfc1e61a63bf4ce3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a8dbf5c3ae2fd5655dfc1e61a63bf4ce3">createEmptyNode</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1QueryStmt.html">QueryStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws InternalException </td></tr>
<tr class="separator:a8dbf5c3ae2fd5655dfc1e61a63bf4ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617178c5646f3f77f7d559c8f01018ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a617178c5646f3f77f7d559c8f01018ba">createQueryPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1QueryStmt.html">QueryStmt</a> stmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, boolean disableTopN)  throws ImpalaException </td></tr>
<tr class="separator:a617178c5646f3f77f7d559c8f01018ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac408e6059606469bb147e0823f87c50d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#ac408e6059606469bb147e0823f87c50d">addUnassignedConjuncts</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; tupleIds, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> root)  throws InternalException </td></tr>
<tr class="separator:ac408e6059606469bb147e0823f87c50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a0e82b73a0fb2bd7084906f7fd5bd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a36a0e82b73a0fb2bd7084906f7fd5bd8">createCheapestJoinPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, List&lt; Pair&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> &gt;&gt; refPlans)  throws ImpalaException </td></tr>
<tr class="separator:a36a0e82b73a0fb2bd7084906f7fd5bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa853944317f1c9064f1bdf1859d3b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a6fa853944317f1c9064f1bdf1859d3b7">createJoinPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a> leftmostRef, List&lt; Pair&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> &gt;&gt; refPlans)  throws ImpalaException </td></tr>
<tr class="separator:a6fa853944317f1c9064f1bdf1859d3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa4ecccd3ca73c2923eaf27c77c620b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#abaa4ecccd3ca73c2923eaf27c77c620b">createFromClauseJoinPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, List&lt; Pair&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> &gt;&gt; refPlans)  throws ImpalaException </td></tr>
<tr class="separator:abaa4ecccd3ca73c2923eaf27c77c620b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79d4bce3405c53140a7bce76e71508a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#ac79d4bce3405c53140a7bce76e71508a">createSelectPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> selectStmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws ImpalaException </td></tr>
<tr class="separator:ac79d4bce3405c53140a7bce76e71508a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05572e608b36bc61d82b5f5f57476882"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a05572e608b36bc61d82b5f5f57476882">createAggregationPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> selectStmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> root)  throws InternalException </td></tr>
<tr class="separator:a05572e608b36bc61d82b5f5f57476882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23ff536f7622d5885788844555e074b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#af23ff536f7622d5885788844555e074b">createConstantSelectPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a> selectStmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws InternalException </td></tr>
<tr class="separator:af23ff536f7622d5885788844555e074b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecaee173fbdf28d95320d2770237862f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1ValueRange.html">ValueRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#aecaee173fbdf28d95320d2770237862f">createHBaseValueRange</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SlotDescriptor.html">SlotDescriptor</a> d, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; conjuncts)</td></tr>
<tr class="separator:aecaee173fbdf28d95320d2770237862f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6e48363db1fc3145fab2b33d71fd21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a8b6e48363db1fc3145fab2b33d71fd21">createInlineViewPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a> inlineViewRef)  throws ImpalaException </td></tr>
<tr class="separator:a8b6e48363db1fc3145fab2b33d71fd21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fae76e565c9fe6e4bead3433560f60"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a20fae76e565c9fe6e4bead3433560f60">canMigrateConjuncts</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a> inlineViewRef)</td></tr>
<tr class="separator:a20fae76e565c9fe6e4bead3433560f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629ee595712364e1afe54f23b676fb20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a629ee595712364e1afe54f23b676fb20">createScanNode</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a> tblRef)  throws InternalException </td></tr>
<tr class="separator:a629ee595712364e1afe54f23b676fb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb47326f28781e675e96cbb4b787afc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a2fb47326f28781e675e96cbb4b787afc">getHashLookupJoinConjuncts</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt; planIds, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a> joinedTblRef, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BinaryPredicate.html">BinaryPredicate</a> &gt; joinConjuncts, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt; joinPredicates)</td></tr>
<tr class="separator:a2fb47326f28781e675e96cbb4b787afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d03d4b05a3fad0be154a7b610466217"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a4d03d4b05a3fad0be154a7b610466217">createJoinNode</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> outer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> inner, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a> outerRef, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a> innerRef)  throws ImpalaException </td></tr>
<tr class="separator:a4d03d4b05a3fad0be154a7b610466217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc674d235914984520d56b24163e6b69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#afc674d235914984520d56b24163e6b69">createTableRefNode</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a> tblRef)  throws ImpalaException </td></tr>
<tr class="separator:afc674d235914984520d56b24163e6b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa62dadaf353730ba9fa528f84abda2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a9fa62dadaf353730ba9fa528f84abda2">createUnionPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt.html">UnionStmt</a> unionStmt, List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt_1_1UnionOperand.html">UnionOperand</a> &gt; unionOperands, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> unionDistinctPlan)  throws ImpalaException </td></tr>
<tr class="separator:a9fa62dadaf353730ba9fa528f84abda2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034630dd5dc339232ed7da898b07b484"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a034630dd5dc339232ed7da898b07b484">createUnionPlan</a> (<a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt.html">UnionStmt</a> unionStmt, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a> analyzer)  throws ImpalaException </td></tr>
<tr class="separator:a034630dd5dc339232ed7da898b07b484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8b2fbdf58ce27d34c32ea35d92d501cd"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a8b2fbdf58ce27d34c32ea35d92d501cd">ctx_</a></td></tr>
<tr class="separator:a8b2fbdf58ce27d34c32ea35d92d501cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a6b4c6cc1288dc908e3f53a149785e9ef"><td class="memItemLeft" align="right" valign="top">static final Logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a6b4c6cc1288dc908e3f53a149785e9ef">LOG</a> = LoggerFactory.getLogger(SingleNodePlanner.class)</td></tr>
<tr class="separator:a6b4c6cc1288dc908e3f53a149785e9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Constructs a non-executable single-node plan from an analyzed parse tree. The single-node plan does not contain data exchanges or data-reduction optimizations such as local aggregations that are important for distributed execution. The single-node plan needs to be wrapped in a plan fragment for it to be executable. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00071">71</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa100619f614504a3413e4b6d036a15c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">com.cloudera.impala.planner.SingleNodePlanner.SingleNodePlanner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00076">76</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac408e6059606469bb147e0823f87c50d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.addUnassignedConjuncts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>tupleIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1InternalException.html">InternalException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If there are unassigned conjuncts that are bound by tupleIds or if there are slot equivalences for tupleIds that have not yet been enforced, returns a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SelectNode.html">SelectNode</a> on top of root that evaluates those conjuncts; otherwise returns root unchanged. TODO: change this to assign the unassigned conjuncts to root itself, if that is semantically correct </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00212">212</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, and <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l01141">com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a20fae76e565c9fe6e4bead3433560f60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.cloudera.impala.planner.SingleNodePlanner.canMigrateConjuncts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a>&#160;</td>
          <td class="paramname"><em>inlineViewRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if conjuncts can be migrated into an inline view. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00838">838</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="InlineViewRef_8java_source.html#l00259">com.cloudera.impala.analysis.InlineViewRef.getViewStmt()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l00769">com.cloudera.impala.planner.SingleNodePlanner.migrateConjunctsToInlineView()</a>.</p>

</div>
</div>
<a class="anchor" id="a05572e608b36bc61d82b5f5f57476882"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createAggregationPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>selectStmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1InternalException.html">InternalException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a new <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1AggregationNode.html">AggregationNode</a> that materializes the aggregation of the given stmt. Assigns conjuncts from the Having clause to the returned node. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00564">564</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>, and <a class="el" href="AggregateInfo_8java_source.html#l00231">com.cloudera.impala.analysis.AggregateInfo.isDistinctAgg()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a36a0e82b73a0fb2bd7084906f7fd5bd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createCheapestJoinPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; Pair&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>refPlans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the cheapest plan that materializes the joins of all TblRefs in refPlans. Assumes that refPlans are in the order as they originally appeared in the query. For this plan:</p>
<ul>
<li>the plan is executable, ie, all non-cross joins have equi-join predicates</li>
<li>the leftmost scan is over the largest of the inputs for which we can still construct an executable plan</li>
<li>all rhs's are in decreasing order of selectiveness (percentage of rows they eliminate)</li>
<li>outer/cross/semi joins: rhs serialized size is &lt; lhs serialized size; enforced via join inversion, if necessary Returns null if we can't create an executable plan. </li>
</ul>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00246">246</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00311">com.cloudera.impala.planner.SingleNodePlanner.createJoinPlan()</a>, <a class="el" href="PlanNode_8java_source.html#l00174">com.cloudera.impala.planner.PlanNode.getAvgRowSize()</a>, <a class="el" href="PlanNode_8java_source.html#l00172">com.cloudera.impala.planner.PlanNode.getCardinality()</a>, <a class="el" href="JoinOperator_8java_source.html#l00077">com.cloudera.impala.analysis.JoinOperator.isCrossJoin()</a>, <a class="el" href="JoinOperator_8java_source.html#l00085">com.cloudera.impala.analysis.JoinOperator.isNullAwareLeftAntiJoin()</a>, and <a class="el" href="JoinOperator_8java_source.html#l00056">com.cloudera.impala.analysis.JoinOperator.isOuterJoin()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="af23ff536f7622d5885788844555e074b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createConstantSelectPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>selectStmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1InternalException.html">InternalException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a> that materializes the exprs of the constant selectStmt. Replaces the resultExprs of the selectStmt with SlotRefs into the materialized tuple. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00592">592</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, and <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a8dbf5c3ae2fd5655dfc1e61a63bf4ce3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createEmptyNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1QueryStmt.html">QueryStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1InternalException.html">InternalException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an EmptyNode that 'materializes' the tuples of the given stmt. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00127">127</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, and <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="abaa4ecccd3ca73c2923eaf27c77c620b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createFromClauseJoinPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; Pair&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>refPlans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a plan with joins in the order of refPlans (= FROM clause order). </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00465">465</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00977">com.cloudera.impala.planner.SingleNodePlanner.createJoinNode()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="aecaee173fbdf28d95320d2770237862f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1ValueRange.html">ValueRange</a> com.cloudera.impala.planner.SingleNodePlanner.createHBaseValueRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SlotDescriptor.html">SlotDescriptor</a>&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>conjuncts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transform '=', '&lt;[=]' and '&gt;[=]' comparisons for given slot into <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1ValueRange.html">ValueRange</a>. Also removes those predicates which were used for the construction of <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1ValueRange.html">ValueRange</a> from 'conjuncts_'. Only looks at comparisons w/ string constants (ie, the bounds of the result can be evaluated with Expr::GetValue(NULL)). HBase row key filtering works only if the row key is mapped to a string column and the expression is a string constant expression. If there are multiple competing comparison predicates that could be used to construct a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1ValueRange.html">ValueRange</a>, only the first one from each category is chosen. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00632">632</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="BinaryPredicate_8java_source.html#l00107">com.cloudera.impala.analysis.BinaryPredicate.getOp()</a>, <a class="el" href="Expr_8java_source.html#l00917">com.cloudera.impala.analysis.Expr.isConstant()</a>, <a class="el" href="BinaryPredicate_8java_source.html#l00061">com.cloudera.impala.analysis.BinaryPredicate.Operator.Operator()</a>, and <a class="el" href="Type_8java_source.html#l00053">com.cloudera.impala.catalog.Type.STRING</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00848">com.cloudera.impala.planner.SingleNodePlanner.createScanNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b6e48363db1fc3145fab2b33d71fd21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a>&#160;</td>
          <td class="paramname"><em>inlineViewRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns plan tree for an inline view ref:</p>
<ul>
<li>predicates from the enclosing scope that can be evaluated directly within the inline-view plan are pushed down</li>
<li>predicates that cannot be evaluated directly within the inline-view plan but only apply to the inline view are evaluated in a <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SelectNode.html">SelectNode</a> placed on top of the inline view plan</li>
<li>all slots that are referenced by predicates from the enclosing scope that cannot be pushed down are marked as materialized (so that when computeMemLayout() is called on the base table descriptors materialized by the inline view it has a complete picture) </li>
</ul>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00684">684</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00212">com.cloudera.impala.planner.SingleNodePlanner.addUnassignedConjuncts()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00838">com.cloudera.impala.planner.SingleNodePlanner.canMigrateConjuncts()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00127">com.cloudera.impala.planner.SingleNodePlanner.createEmptyNode()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, <a class="el" href="QueryStmt_8java_source.html#l00083">com.cloudera.impala.analysis.QueryStmt.getAnalyzer()</a>, <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>, <a class="el" href="SelectStmt_8java_source.html#l00107">com.cloudera.impala.analysis.SelectStmt.getTableRefs()</a>, <a class="el" href="PlanNode_8java_source.html#l00196">com.cloudera.impala.planner.PlanNode.getTupleIds()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l00769">com.cloudera.impala.planner.SingleNodePlanner.migrateConjunctsToInlineView()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l01080">com.cloudera.impala.planner.SingleNodePlanner.createTableRefNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d03d4b05a3fad0be154a7b610466217"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createJoinNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>outer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>inner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>&#160;</td>
          <td class="paramname"><em>outerRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>&#160;</td>
          <td class="paramname"><em>innerRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a node to join outer with inner. Either the outer or the inner may be a plan created from a table ref (but not both), and the corresponding outer/innerRef should be non-null. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00977">977</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="JoinOperator_8java_source.html#l00028">com.cloudera.impala.analysis.JoinOperator.CROSS_JOIN</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00912">com.cloudera.impala.planner.SingleNodePlanner.getHashLookupJoinConjuncts()</a>, <a class="el" href="JoinOperator_8java_source.html#l00020">com.cloudera.impala.analysis.JoinOperator.INNER_JOIN</a>, and <a class="el" href="BinaryPredicate_8java_source.html#l00124">com.cloudera.impala.analysis.BinaryPredicate.isNullMatchingEq()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00465">com.cloudera.impala.planner.SingleNodePlanner.createFromClauseJoinPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l00311">com.cloudera.impala.planner.SingleNodePlanner.createJoinPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a6fa853944317f1c9064f1bdf1859d3b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createJoinPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>&#160;</td>
          <td class="paramname"><em>leftmostRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; Pair&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>, <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>refPlans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a plan with leftmostRef's plan as its leftmost input; the joins are in decreasing order of selectiveness (percentage of rows they eliminate). The leftmostRef's join will be inverted if it is an outer/semi/cross join. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00311">311</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00977">com.cloudera.impala.planner.SingleNodePlanner.createJoinNode()</a>, <a class="el" href="PlanNode_8java_source.html#l00172">com.cloudera.impala.planner.PlanNode.getCardinality()</a>, <a class="el" href="TableRef_8java_source.html#l00188">com.cloudera.impala.analysis.TableRef.getJoinOp()</a>, <a class="el" href="TableRef_8java_source.html#l00239">com.cloudera.impala.analysis.TableRef.getLeftTblRef()</a>, and <a class="el" href="TableRef_8java_source.html#l00212">com.cloudera.impala.analysis.TableRef.getUniqueAlias()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00246">com.cloudera.impala.planner.SingleNodePlanner.createCheapestJoinPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a617178c5646f3f77f7d559c8f01018ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1QueryStmt.html">QueryStmt</a>&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>disableTopN</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create plan tree for single-node execution. Generates PlanNodes for the Select/Project/Join/Union [All]/Group by/Having/Order by clauses of the query stmt. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00145">145</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00127">com.cloudera.impala.planner.SingleNodePlanner.createEmptyNode()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l01098">com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, and <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00096">com.cloudera.impala.planner.SingleNodePlanner.createSingleNodePlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l01098">com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a629ee595712364e1afe54f23b676fb20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createScanNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>&#160;</td>
          <td class="paramname"><em>tblRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1InternalException.html">InternalException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create node for scanning all data files of a particular table. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00848">848</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00632">com.cloudera.impala.planner.SingleNodePlanner.createHBaseValueRange()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>, and <a class="el" href="SlotDescriptor_8java_source.html#l00094">com.cloudera.impala.analysis.SlotDescriptor.getType()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l01080">com.cloudera.impala.planner.SingleNodePlanner.createTableRefNode()</a>.</p>

</div>
</div>
<a class="anchor" id="ac79d4bce3405c53140a7bce76e71508a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1SelectStmt.html">SelectStmt</a>&#160;</td>
          <td class="paramname"><em>selectStmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create tree of PlanNodes that implements the Select/Project/Join/Group by/Having of the selectStmt query block. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00484">484</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00564">com.cloudera.impala.planner.SingleNodePlanner.createAggregationPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00246">com.cloudera.impala.planner.SingleNodePlanner.createCheapestJoinPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00592">com.cloudera.impala.planner.SingleNodePlanner.createConstantSelectPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00465">com.cloudera.impala.planner.SingleNodePlanner.createFromClauseJoinPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l01080">com.cloudera.impala.planner.SingleNodePlanner.createTableRefNode()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, and <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a6fee878dab41ba13ed022e82ac8b7a0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createSingleNodePlan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates and returns the root of the single-node plan for the analyzed parse tree in the planner context. The planning process recursively walks the parse tree and performs the following actions. In the top-down phase over query statements:</p>
<ul>
<li>materialize the slots required for evaluating expressions of that statement</li>
<li>migrate conjuncts from parent blocks into inline views and union operands In the bottom-up phase generate the plan tree for every query statement:</li>
<li>perform join-order optimization when generating the plan of the FROM clause of a select statement; requires that all materialized slots are known for an accurate estimate of row sizes needed for cost-based join ordering</li>
<li>assign conjuncts that can be evaluated at that node and compute the stats of that node (cardinality, etc.)</li>
<li>apply combined expression substitution map of child plan nodes; if a plan node re-maps its input, set a substitution map to be applied by parents </li>
</ul>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00096">96</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, <a class="el" href="QueryStmt_8java_source.html#l00280">com.cloudera.impala.analysis.QueryStmt.getBaseTblResultExprs()</a>, and <a class="el" href="PlannerContext_8java_source.html#l00057">com.cloudera.impala.planner.PlannerContext.getQueryOptions()</a>.</p>

</div>
</div>
<a class="anchor" id="afc674d235914984520d56b24163e6b69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createTableRefNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>&#160;</td>
          <td class="paramname"><em>tblRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a tree of PlanNodes for the given tblRef, which can be a BaseTableRef, CollectionTableRef or an InlineViewRef. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l01080">1080</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l00848">com.cloudera.impala.planner.SingleNodePlanner.createScanNode()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fa62dadaf353730ba9fa528f84abda2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a> com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt.html">UnionStmt</a>&#160;</td>
          <td class="paramname"><em>unionStmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt_1_1UnionOperand.html">UnionOperand</a> &gt;&#160;</td>
          <td class="paramname"><em>unionOperands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a>&#160;</td>
          <td class="paramname"><em>unionDistinctPlan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a plan tree corresponding to 'unionOperands' for the given unionStmt. The individual operands' plan trees are attached to a single <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a>. If unionDistinctPlan is not null, it is expected to contain the plan for the distinct portion of the given unionStmt. The unionDistinctPlan is then added as a child of the returned <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a>. </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l01098">1098</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>, and <a class="el" href="SelectStmt_8java_source.html#l00107">com.cloudera.impala.analysis.SelectStmt.getTableRefs()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l01141">com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan()</a>.</p>

</div>
</div>
<a class="anchor" id="a034630dd5dc339232ed7da898b07b484"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlanNode.html">PlanNode</a> com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1UnionStmt.html">UnionStmt</a>&#160;</td>
          <td class="paramname"><em>unionStmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1cloudera_1_1impala_1_1common_1_1ImpalaException.html">ImpalaException</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns plan tree for unionStmt:</p>
<ul>
<li>distinctOperands' plan trees are collected in a single <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a> and duplicates removed via distinct aggregation</li>
<li>the output of that plus the allOperands' plan trees are collected in another <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a> which materializes the result of unionStmt</li>
<li>if any of the union operands contains analytic exprs, we avoid pushing predicates directly into the operands and instead evaluate them <em>after</em> the final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1UnionNode.html">UnionNode</a> (see <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html#a8b6e48363db1fc3145fab2b33d71fd21">createInlineViewPlan()</a> for the reasoning) TODO: optimize this by still pushing predicates into the union operands that don't contain analytic exprs and evaluating the conjuncts in Select directly above the AnalyticEvalNodes </li>
</ul>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l01141">1141</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="SingleNodePlanner_8java_source.html#l00212">com.cloudera.impala.planner.SingleNodePlanner.addUnassignedConjuncts()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l01098">com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00074">com.cloudera.impala.planner.SingleNodePlanner.ctx_</a>, and <a class="el" href="PlannerContext_8java_source.html#l00063">com.cloudera.impala.planner.PlannerContext.getNextNodeId()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fb47326f28781e675e96cbb4b787afc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.cloudera.impala.planner.SingleNodePlanner.getHashLookupJoinConjuncts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TupleId.html">TupleId</a> &gt;&#160;</td>
          <td class="paramname"><em>planIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1TableRef.html">TableRef</a>&#160;</td>
          <td class="paramname"><em>joinedTblRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1BinaryPredicate.html">BinaryPredicate</a> &gt;&#160;</td>
          <td class="paramname"><em>joinConjuncts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Expr.html">Expr</a> &gt;&#160;</td>
          <td class="paramname"><em>joinPredicates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return all applicable conjuncts for join between a plan tree and a single TableRef; the conjuncts can be used for hash table lookups.</p>
<ul>
<li>for inner joins, those are equi-join predicates in which one side is fully bound by planIds and the other by joinedTblRef.id_;</li>
<li>for outer joins: same type of conjuncts_ as inner joins, but only from the JOIN clause Returns the conjuncts_ in 'joinConjuncts' (in which "&lt;lhs&gt; = &lt;rhs&gt;" is returned as BinaryPredicate and also in their original form in 'joinPredicates'. Each lhs is bound by planIds, and each rhs by the tuple id of joinedTblRef. Predicates that are redundant based on equivalences classes are intentionally returneded by this function because the removal of redundant predicates and the creation of new predicates for enforcing slot equivalences go hand-in-hand (see analyzer.createEquivConjuncts()). </li>
</ul>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00912">912</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="TableRef_8java_source.html#l00250">com.cloudera.impala.analysis.TableRef.getDesc()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00977">com.cloudera.impala.planner.SingleNodePlanner.createJoinNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a5153cf7d9be339358005c248c3cc56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.cloudera.impala.planner.SingleNodePlanner.migrateConjunctsToInlineView </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1Analyzer.html">Analyzer</a>&#160;</td>
          <td class="paramname"><em>analyzer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1analysis_1_1InlineViewRef.html">InlineViewRef</a>&#160;</td>
          <td class="paramname"><em>inlineViewRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Migrates unassigned conjuncts into an inline view. Conjuncts are not migrated into the inline view if the view has a LIMIT/OFFSET clause or if the view's stmt computes analytic functions (see IMPALA-1243/IMPALA-1900). The reason is that analytic functions compute aggregates over their entire input, and applying filters from the enclosing scope <em>before</em> the aggregate computation would alter the results. This is unlike regular aggregate computation, which only makes the <em>output</em> of the computation visible to the enclosing scope, so that filters from the enclosing scope can be safely applied (to the grouping cols, say). </p>

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00769">769</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>References <a class="el" href="Analyzer_8java_source.html#l01169">com.cloudera.impala.analysis.Analyzer.canEvalPredicate()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00838">com.cloudera.impala.planner.SingleNodePlanner.canMigrateConjuncts()</a>, <a class="el" href="TableRef_8java_source.html#l00260">com.cloudera.impala.analysis.TableRef.getId()</a>, and <a class="el" href="Expr_8java_source.html#l00195">com.cloudera.impala.analysis.Expr.isRegisteredPredicate()</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8b2fbdf58ce27d34c32ea35d92d501cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1PlannerContext.html">PlannerContext</a> com.cloudera.impala.planner.SingleNodePlanner.ctx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00074">74</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

<p>Referenced by <a class="el" href="SingleNodePlanner_8java_source.html#l00212">com.cloudera.impala.planner.SingleNodePlanner.addUnassignedConjuncts()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00564">com.cloudera.impala.planner.SingleNodePlanner.createAggregationPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00592">com.cloudera.impala.planner.SingleNodePlanner.createConstantSelectPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00127">com.cloudera.impala.planner.SingleNodePlanner.createEmptyNode()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00684">com.cloudera.impala.planner.SingleNodePlanner.createInlineViewPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00145">com.cloudera.impala.planner.SingleNodePlanner.createQueryPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00848">com.cloudera.impala.planner.SingleNodePlanner.createScanNode()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00484">com.cloudera.impala.planner.SingleNodePlanner.createSelectPlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l00096">com.cloudera.impala.planner.SingleNodePlanner.createSingleNodePlan()</a>, <a class="el" href="SingleNodePlanner_8java_source.html#l01098">com.cloudera.impala.planner.SingleNodePlanner.createUnionPlan()</a>, and <a class="el" href="SingleNodePlanner_8java_source.html#l00076">com.cloudera.impala.planner.SingleNodePlanner.SingleNodePlanner()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b4c6cc1288dc908e3f53a149785e9ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Logger com.cloudera.impala.planner.SingleNodePlanner.LOG = LoggerFactory.getLogger(SingleNodePlanner.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SingleNodePlanner_8java_source.html#l00072">72</a> of file <a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fe/src/main/java/com/cloudera/impala/planner/<a class="el" href="SingleNodePlanner_8java_source.html">SingleNodePlanner.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecom.html">com</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera.html">cloudera</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera_1_1impala.html">impala</a></li><li class="navelem"><a class="el" href="namespacecom_1_1cloudera_1_1impala_1_1planner.html">planner</a></li><li class="navelem"><a class="el" href="classcom_1_1cloudera_1_1impala_1_1planner_1_1SingleNodePlanner.html">SingleNodePlanner</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:46 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
