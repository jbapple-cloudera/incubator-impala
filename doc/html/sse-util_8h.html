<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: be/src/util/sse-util.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sse-util_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sse-util.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;emmintrin.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sse-util.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="sse-util_8h__incl.svg" width="144" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="sse-util_8h__dep__incl.svg" width="100%" height="532"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="sse-util_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceimpala"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala.html">impala</a></td></tr>
<tr class="memdesc:namespaceimpala"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file contains type definitions that are used throughout the code base. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceimpala_1_1SSEUtil"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html">impala::SSEUtil</a></td></tr>
<tr class="memdesc:namespaceimpala_1_1SSEUtil"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class contains constants useful for text processing with SSE4.2 intrinsics. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f4afbc53f44d6d7d38494f1c5659827"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sse-util_8h.html#a4f4afbc53f44d6d7d38494f1c5659827">SSE_ALWAYS_INLINE</a>&#160;&#160;&#160;inline __attribute__ ((__always_inline__))</td></tr>
<tr class="separator:a4f4afbc53f44d6d7d38494f1c5659827"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad9dc935408c04dc3eb969eb8791cadda"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="sse-util_8h.html#a4f4afbc53f44d6d7d38494f1c5659827">SSE_ALWAYS_INLINE</a> __m128i&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala.html#ad9dc935408c04dc3eb969eb8791cadda">impala::SSE4_cmpestrm</a> (__m128i str1, int len1, __m128i str2, int len2, const int mode)</td></tr>
<tr class="separator:ad9dc935408c04dc3eb969eb8791cadda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab204f3d7db5ec337445bbdd136cb523d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="sse-util_8h.html#a4f4afbc53f44d6d7d38494f1c5659827">SSE_ALWAYS_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala.html#ab204f3d7db5ec337445bbdd136cb523d">impala::SSE4_cmpestri</a> (__m128i str1, int len1, __m128i str2, int len2, const int mode)</td></tr>
<tr class="separator:ab204f3d7db5ec337445bbdd136cb523d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2dbb7cf1cb74c2997842905dd542d7"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala.html#ade2dbb7cf1cb74c2997842905dd542d7">impala::SSE4_crc32_u8</a> (uint32_t crc, uint8_t v)</td></tr>
<tr class="separator:ade2dbb7cf1cb74c2997842905dd542d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d485b954ad3bcd87d9890e752ab121"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala.html#a91d485b954ad3bcd87d9890e752ab121">impala::SSE4_crc32_u32</a> (uint32_t crc, uint32_t v)</td></tr>
<tr class="separator:a91d485b954ad3bcd87d9890e752ab121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe7e402d385f4695308ae26c512f191"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala.html#a7fe7e402d385f4695308ae26c512f191">impala::POPCNT_popcnt_u64</a> (<a class="el" href="classuint64__t.html">uint64_t</a> a)</td></tr>
<tr class="separator:a7fe7e402d385f4695308ae26c512f191"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1f98d2d7af071ff538d8b95683116920"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a1f98d2d7af071ff538d8b95683116920">impala::SSEUtil::CHARS_PER_64_BIT_REGISTER</a> = 8</td></tr>
<tr class="separator:a1f98d2d7af071ff538d8b95683116920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d1b2f68ee72d2002ebdbf58177a944"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#ad5d1b2f68ee72d2002ebdbf58177a944">impala::SSEUtil::CHARS_PER_128_BIT_REGISTER</a> = 16</td></tr>
<tr class="separator:ad5d1b2f68ee72d2002ebdbf58177a944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b3a77a3ec84042a0e2d289f31b0fa4"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a38b3a77a3ec84042a0e2d289f31b0fa4">impala::SSEUtil::PCMPSTR_EQUAL_ANY</a> = 0x00</td></tr>
<tr class="separator:a38b3a77a3ec84042a0e2d289f31b0fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e399c483447be35c70b2c156e94df7"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a04e399c483447be35c70b2c156e94df7">impala::SSEUtil::PCMPSTR_EQUAL_EACH</a> = 0x08</td></tr>
<tr class="separator:a04e399c483447be35c70b2c156e94df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc0261a230182ecd8f5972be97073b3"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a0bc0261a230182ecd8f5972be97073b3">impala::SSEUtil::PCMPSTR_UBYTE_OPS</a> = 0x00</td></tr>
<tr class="separator:a0bc0261a230182ecd8f5972be97073b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1a2de2a135449adf9bf01ba3acf546"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a3a1a2de2a135449adf9bf01ba3acf546">impala::SSEUtil::PCMPSTR_NEG_POLARITY</a> = 0x10</td></tr>
<tr class="separator:a3a1a2de2a135449adf9bf01ba3acf546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcf118705dfd9d6f4a1e3e339431d2b"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a6dcf118705dfd9d6f4a1e3e339431d2b">impala::SSEUtil::STRCHR_MODE</a> = PCMPSTR_EQUAL_ANY | PCMPSTR_UBYTE_OPS</td></tr>
<tr class="separator:a6dcf118705dfd9d6f4a1e3e339431d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d51bc5486a12f658c5faba6416dd47d"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a5d51bc5486a12f658c5faba6416dd47d">impala::SSEUtil::STRCMP_MODE</a></td></tr>
<tr class="separator:a5d51bc5486a12f658c5faba6416dd47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05185ef6da126b67aeac9aa78fbaf19c"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimpala_1_1SSEUtil.html#a05185ef6da126b67aeac9aa78fbaf19c">impala::SSEUtil::SSE_BITMASK</a> [CHARS_PER_128_BIT_REGISTER]</td></tr>
<tr class="memdesc:a05185ef6da126b67aeac9aa78fbaf19c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Precomputed mask values up to 16 bits.  <a href="#a05185ef6da126b67aeac9aa78fbaf19c">More...</a><br/></td></tr>
<tr class="separator:a05185ef6da126b67aeac9aa78fbaf19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4f4afbc53f44d6d7d38494f1c5659827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSE_ALWAYS_INLINE&#160;&#160;&#160;inline __attribute__ ((__always_inline__))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define the SSE 4.2 intrinsics. The caller must first verify at runtime (or codegen IR load time) that the processor supports SSE 4.2 before calling these. These are defined outside the namespace because the IR w/ SSE 4.2 case needs to use macros. When compiling to native code (i.e. not IR), we cannot use the -msse4.2 compiler flag. Otherwise, the compiler will emit SSE 4.2 instructions outside of the runtime SSE 4.2 checks and Impala will crash on CPUs that don't support SSE 4.2 (IMPALA-1399/1646). The compiler intrinsics cannot be used without -msse4.2, so we define our own implementations of the intrinsics instead. The PCMPxSTRy instructions require that the control byte 'mode' be encoded as an immediate. So, those need to be always inlined in order to always propagate the mode constant into the inline asm. </p>

<p>Definition at line <a class="el" href="sse-util_8h_source.html#l00087">87</a> of file <a class="el" href="sse-util_8h_source.html">sse-util.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e5d120be6b5e8a44336cbfd013b25604.html">be</a></li><li class="navelem"><a class="el" href="dir_68cf7cafb51a962d5bc4848b83cab0de.html">src</a></li><li class="navelem"><a class="el" href="dir_6939c8639261a9303da2cde491b82898.html">util</a></li><li class="navelem"><a class="el" href="sse-util_8h.html">sse-util.h</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:41 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
