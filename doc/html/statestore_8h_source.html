<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Impala: be/src/statestore/statestore.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Impala
   </div>
   <div id="projectbrief">Impalaistheopensource,nativeanalyticdatabaseforApacheHadoop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('statestore_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">statestore.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="statestore_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 Cloudera Inc.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef STATESTORE_STATESTORE_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define STATESTORE_STATESTORE_H</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;boost/unordered_map.hpp&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;boost/scoped_ptr.hpp&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;boost/thread/condition_variable.hpp&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;boost/uuid/uuid_generators.hpp&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;gen-cpp/Types_types.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;gen-cpp/StatestoreSubscriber.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;gen-cpp/StatestoreService.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="metrics_8h.html">util/metrics.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="collection-metrics_8h.html">util/collection-metrics.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thrift-client_8h.html">rpc/thrift-client.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread-pool_8h.html">util/thread-pool.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="webserver_8h.html">util/webserver.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="client-cache_8h.html">runtime/client-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timestamp-value_8h.html">runtime/timestamp-value.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="failure-detector_8h.html">statestore/failure-detector.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span>impala {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">using namespace </span>impala;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">class </span><a class="code" href="classimpala_1_1Status.html">Status</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html">   79</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classimpala_1_1Statestore.html">Statestore</a> {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">   83</a></span>&#160;  <span class="keyword">typedef</span> std::string <a class="code" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">SubscriberId</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">   86</a></span>&#160;  <span class="keyword">typedef</span> std::string <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a148294b3de37014d88d0758da0b39f9e">   89</a></span>&#160;  <span class="keyword">typedef</span> std::string <a class="code" href="classimpala_1_1Statestore.html#a148294b3de37014d88d0758da0b39f9e">TopicEntryKey</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="classimpala_1_1Statestore.html#a38ad9ed600af18f86ff873b7306d84a6">Statestore</a>(<a class="code" href="classimpala_1_1MetricGroup.html">MetricGroup</a>* metrics);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span>  <a class="code" href="classimpala_1_1Status.html">Status</a> <a class="code" href="classimpala_1_1Statestore.html#aca13dce0412db31ab857ee45bf92ca46">RegisterSubscriber</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">SubscriberId</a>&amp; subscriber_id,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keyword">const</span> TNetworkAddress&amp; location,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keyword">const</span> std::vector&lt;TTopicRegistration&gt;&amp; topic_registrations,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      TUniqueId* registration_id);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#af33307e14226476bb11ef2566e16da4c">RegisterWebpages</a>(<a class="code" href="classimpala_1_1Webserver.html">Webserver</a>* webserver);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"></span>  <a class="code" href="classimpala_1_1Status.html">Status</a> <a class="code" href="classimpala_1_1Statestore.html#ac8c7b9c8f5214eae08e18ff77e40b173">MainLoop</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aed82da8a591119a7b25fa61da1274073">  115</a></span>&#160;  <span class="keyword">const</span> boost::shared_ptr&lt;StatestoreServiceIf&gt;&amp; <a class="code" href="classimpala_1_1Statestore.html#aed82da8a591119a7b25fa61da1274073">thrift_iface</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore.html#a974f0500b5ff6e3a1dd5756539ceb1d0">thrift_iface_</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#a602378fd065152e44e7c3c1e61e6dfc9">SetExitFlag</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html">  127</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html">TopicEntry</a> {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">  130</a></span>&#160;    <span class="keyword">typedef</span> std::string <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">Value</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a4bc848a4229fb6a8e906a8788e386d0a">  135</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classuint64__t.html">uint64_t</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a4bc848a4229fb6a8e906a8788e386d0a">Version</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a3a673231427ea795630a321c5a4c625f">  138</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuint64__t.html">Version</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a3a673231427ea795630a321c5a4c625f">TOPIC_ENTRY_INITIAL_VERSION</a> = 1L;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a1fe4ea9070302cb11faa8b3f1c705ad4">  141</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">Value</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a1fe4ea9070302cb11faa8b3f1c705ad4">NULL_VALUE</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#aa7e506e4d5969d993bcc6899a6489143">SetValue</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">Value</a>&amp; bytes, <a class="code" href="classuint64__t.html">Version</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a13752ca2d3057766b6a223be479c3720">version</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#af2e50b603a88b3057b1fa5aac620924f">  149</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#af2e50b603a88b3057b1fa5aac620924f">TopicEntry</a>() : <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a661aa8272df55f327c0f8417bff85faa">value_</a>(<a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a1fe4ea9070302cb11faa8b3f1c705ad4">NULL_VALUE</a>), <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a89e944c6264982e1a6673d9ef332fce5">version_</a>(<a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a3a673231427ea795630a321c5a4c625f">TOPIC_ENTRY_INITIAL_VERSION</a>) { }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#ac4143fcb1dc18aedfb12f9e68699a192">  151</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">Value</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#ac4143fcb1dc18aedfb12f9e68699a192">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a661aa8272df55f327c0f8417bff85faa">value_</a>; }</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a13752ca2d3057766b6a223be479c3720">  152</a></span>&#160;    <a class="code" href="classuint64__t.html">uint64_t</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a13752ca2d3057766b6a223be479c3720">version</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a89e944c6264982e1a6673d9ef332fce5">version_</a>; }</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#ab8ef96a5c7b923d5cf72f6b360b40081">  153</a></span>&#160;    uint32_t <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#ab8ef96a5c7b923d5cf72f6b360b40081">length</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a661aa8272df55f327c0f8417bff85faa">value_</a>.size(); }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a661aa8272df55f327c0f8417bff85faa">  158</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">Value</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a661aa8272df55f327c0f8417bff85faa">value_</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1TopicEntry.html#a89e944c6264982e1a6673d9ef332fce5">  163</a></span>&#160;    <a class="code" href="classuint64__t.html">Version</a> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a89e944c6264982e1a6673d9ef332fce5">version_</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  };</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a50e27d3eb1638a93dc67f0eb3c469604">  167</a></span>&#160;  <span class="keyword">typedef</span> boost::unordered_map&lt;TopicEntryKey, TopicEntry&gt; <a class="code" href="classimpala_1_1Statestore.html#a50e27d3eb1638a93dc67f0eb3c469604">TopicEntryMap</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aeca08620cc2431de3037a8d9c56d4491">  171</a></span>&#160;  <span class="keyword">typedef</span> std::map&lt;TopicEntry::Version, TopicEntryKey&gt; <a class="code" href="classimpala_1_1Statestore.html#aeca08620cc2431de3037a8d9c56d4491">TopicUpdateLog</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html">  178</a></span>&#160;<span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classimpala_1_1Statestore_1_1Topic.html">Topic</a> {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#ad96453d1864f0283e17da391a23bbaef">  180</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ad96453d1864f0283e17da391a23bbaef">Topic</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>&amp; topic_id, <a class="code" href="classIntGauge.html">IntGauge</a>* key_size_metric,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="classIntGauge.html">IntGauge</a>* value_size_metric, <a class="code" href="classIntGauge.html">IntGauge</a>* topic_size_metric)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        : <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ad87af0677174d6c3024523a38a984183">topic_id_</a>(topic_id), <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a4cd28d730845be90c56a21fb83de38d2">last_version_</a>(0L), <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a429edcac0bc1dce23a67583e351f833a">total_key_size_bytes_</a>(0L),</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#af9afc866cf318bd60256e29c5a77ead6">total_value_size_bytes_</a>(0L), <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#acb012182c8351ef4b2f07c4b496a1959">key_size_metric_</a>(key_size_metric),</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ac06d965e74c1ecd095f85e94778d1fdf">value_size_metric_</a>(value_size_metric), <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a1167ae369af0adbec05e6f606b3be13b">topic_size_metric_</a>(topic_size_metric) { }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span>    <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a6f8eea8bc411392a68d0ba4cabaa7028">Put</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#a148294b3de37014d88d0758da0b39f9e">TopicEntryKey</a>&amp; key, <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">TopicEntry::Value</a>&amp; bytes);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span>    <span class="comment">//</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a6a1c4f84f17fa20620e1399328d4ada1">DeleteIfVersionsMatch</a>(<a class="code" href="classuint64__t.html">TopicEntry::Version</a> version, <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#a148294b3de37014d88d0758da0b39f9e">TopicEntryKey</a>&amp; key);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a91c1d1a7c8154e67e1b00b14688ca253">  204</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a91c1d1a7c8154e67e1b00b14688ca253">id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ad87af0677174d6c3024523a38a984183">topic_id_</a>; }</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#ae48814ae131eed38d82dde83ec060618">  205</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#a50e27d3eb1638a93dc67f0eb3c469604">TopicEntryMap</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ae48814ae131eed38d82dde83ec060618">entries</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a3ae8cf4fb50ec82d873ee6548e006e7e">entries_</a>; }</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#ad9fde1ee2cf603d6dcceb823d29d103a">  206</a></span>&#160;    <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ad9fde1ee2cf603d6dcceb823d29d103a">last_version</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a4cd28d730845be90c56a21fb83de38d2">last_version_</a>; }</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a66962e0e81300a89c78016cc063e4b81">  207</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aeca08620cc2431de3037a8d9c56d4491">TopicUpdateLog</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a66962e0e81300a89c78016cc063e4b81">topic_update_log</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#abb848a36c94cba0c2b14809821a53297">topic_update_log_</a>; }</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a713713b3acd899b651f1decd0979b9df">  208</a></span>&#160;    int64_t <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a713713b3acd899b651f1decd0979b9df">total_key_size_bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a429edcac0bc1dce23a67583e351f833a">total_key_size_bytes_</a>; }</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a335b6ddf994cd2400eaf09ea01fa001a">  209</a></span>&#160;    int64_t <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a335b6ddf994cd2400eaf09ea01fa001a">total_value_size_bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#af9afc866cf318bd60256e29c5a77ead6">total_value_size_bytes_</a>; }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a3ae8cf4fb50ec82d873ee6548e006e7e">  213</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore.html#a50e27d3eb1638a93dc67f0eb3c469604">TopicEntryMap</a> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a3ae8cf4fb50ec82d873ee6548e006e7e">entries_</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#ad87af0677174d6c3024523a38a984183">  216</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ad87af0677174d6c3024523a38a984183">topic_id_</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a4cd28d730845be90c56a21fb83de38d2">  220</a></span>&#160;    <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a4cd28d730845be90c56a21fb83de38d2">last_version_</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#abb848a36c94cba0c2b14809821a53297">  230</a></span>&#160;<span class="comment"></span>    <a class="code" href="classimpala_1_1Statestore.html#aeca08620cc2431de3037a8d9c56d4491">TopicUpdateLog</a> <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#abb848a36c94cba0c2b14809821a53297">topic_update_log_</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a429edcac0bc1dce23a67583e351f833a">  233</a></span>&#160;    int64_t <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a429edcac0bc1dce23a67583e351f833a">total_key_size_bytes_</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#af9afc866cf318bd60256e29c5a77ead6">  236</a></span>&#160;    int64_t <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#af9afc866cf318bd60256e29c5a77ead6">total_value_size_bytes_</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#acb012182c8351ef4b2f07c4b496a1959">  239</a></span>&#160;    <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#acb012182c8351ef4b2f07c4b496a1959">key_size_metric_</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#ac06d965e74c1ecd095f85e94778d1fdf">  240</a></span>&#160;    <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#ac06d965e74c1ecd095f85e94778d1fdf">value_size_metric_</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Topic.html#a1167ae369af0adbec05e6f606b3be13b">  241</a></span>&#160;    <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore_1_1Topic.html#a1167ae369af0adbec05e6f606b3be13b">topic_size_metric_</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  };</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#ae33572cf95140e8ef59a5a7f2bfd4999">  250</a></span>&#160;  boost::mutex <a class="code" href="classimpala_1_1Statestore.html#ae33572cf95140e8ef59a5a7f2bfd4999">exit_flag_lock_</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a6c0f18f5abc8e262d4de71dbf5ecdc75">  251</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classimpala_1_1Statestore.html#a6c0f18f5abc8e262d4de71dbf5ecdc75">exit_flag_</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aec2c7648de96ffa7bc49ac188510df59">  254</a></span>&#160;  boost::mutex <a class="code" href="classimpala_1_1Statestore.html#aec2c7648de96ffa7bc49ac188510df59">topic_lock_</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a21ea7c1cd68b125380849b98eb2de389">  257</a></span>&#160;  <span class="keyword">typedef</span> boost::unordered_map&lt;TopicId, Topic&gt; <a class="code" href="classimpala_1_1Statestore.html#a21ea7c1cd68b125380849b98eb2de389">TopicMap</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a900beb10e6d07c001db91a8c21242351">  258</a></span>&#160;  <a class="code" href="classimpala_1_1Statestore.html#a21ea7c1cd68b125380849b98eb2de389">TopicMap</a> <a class="code" href="classimpala_1_1Statestore.html#a900beb10e6d07c001db91a8c21242351">topics_</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html">  265</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html">Subscriber</a> {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a0cac9e9b496e962d916dcd1babdd5524">Subscriber</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">SubscriberId</a>&amp; subscriber_id, <span class="keyword">const</span> TUniqueId&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a688db7f84b248d1ce7ca694919d8af0e">registration_id</a>,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keyword">const</span> TNetworkAddress&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a43b45e74957c15bea41eec85e2d3a0e3">network_address</a>,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keyword">const</span> std::vector&lt;TTopicRegistration&gt;&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a047619315bc9f51f403565a035b2138e">subscribed_topics</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html">  274</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html">TopicState</a> {</div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html#a9766b0047de52c388cdd5da5b27f5e66">  275</a></span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html#a9766b0047de52c388cdd5da5b27f5e66">is_transient</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html#ad64455dcf2e7ceaff3f333cbc670001b">  276</a></span>&#160;      <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html#ad64455dcf2e7ceaff3f333cbc670001b">last_version</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    };</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a4640d2d1c04caaaa38cd2ed2bc5edf07">  281</a></span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;TopicId, TopicState&gt; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a4640d2d1c04caaaa38cd2ed2bc5edf07">Topics</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a8e854bed1ee8ffceee8182d93465c8e3">  284</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a8e854bed1ee8ffceee8182d93465c8e3">TOPIC_INITIAL_VERSION</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a047619315bc9f51f403565a035b2138e">  286</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a4640d2d1c04caaaa38cd2ed2bc5edf07">Topics</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a047619315bc9f51f403565a035b2138e">subscribed_topics</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a012dbe252916bd068994eb60ef727b49">subscribed_topics_</a>; }</div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a43b45e74957c15bea41eec85e2d3a0e3">  287</a></span>&#160;    <span class="keyword">const</span> TNetworkAddress&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a43b45e74957c15bea41eec85e2d3a0e3">network_address</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a5c6a6c08d56f2c16f42cd9650bb0f0ec">network_address_</a>; }</div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#afa55a207badfb2c6b464f0a18669dab8">  288</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">SubscriberId</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#afa55a207badfb2c6b464f0a18669dab8">id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#ae59bd2918a8e5d8afe0af133891801ae">subscriber_id_</a>; }</div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a688db7f84b248d1ce7ca694919d8af0e">  289</a></span>&#160;    <span class="keyword">const</span> TUniqueId&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a688db7f84b248d1ce7ca694919d8af0e">registration_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a5db4624c47b5316465d77421c62ce50d">registration_id_</a>; }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a92893a1cf64857f202277355dddca21a">AddTransientUpdate</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>&amp; topic_id, <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#a148294b3de37014d88d0758da0b39f9e">TopicEntryKey</a>&amp; topic_key,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="classuint64__t.html">TopicEntry::Version</a> version);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;std::pair&lt;TopicId, TopicEntryKey&gt;, <a class="code" href="classuint64__t.html">TopicEntry::Version</a>&gt;</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#aee65ee7b8d2cddda0a0962875831b424">  302</a></span>&#160;        <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#aee65ee7b8d2cddda0a0962875831b424">TransientEntryMap</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a597a7f16efbc20524354366574ec2a54">  304</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#aee65ee7b8d2cddda0a0962875831b424">TransientEntryMap</a>&amp; <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a597a7f16efbc20524354366574ec2a54">transient_entries</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#aabaa2588f36c18538b601b0653d8e176">transient_entries_</a>; }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a69f68a1d5bc9905d3ebdc696c582b2b5">LastTopicVersionProcessed</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>&amp; topic_id) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a65c5897d8ce8757d5deb8b1caca6d658">SetLastTopicVersionProcessed</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>&amp; topic_id,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="classuint64__t.html">TopicEntry::Version</a> version);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#ae59bd2918a8e5d8afe0af133891801ae">  319</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">SubscriberId</a> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#ae59bd2918a8e5d8afe0af133891801ae">subscriber_id_</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a5db4624c47b5316465d77421c62ce50d">  325</a></span>&#160;    <span class="keyword">const</span> TUniqueId <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a5db4624c47b5316465d77421c62ce50d">registration_id_</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a5c6a6c08d56f2c16f42cd9650bb0f0ec">  328</a></span>&#160;    <span class="keyword">const</span> TNetworkAddress <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a5c6a6c08d56f2c16f42cd9650bb0f0ec">network_address_</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#a012dbe252916bd068994eb60ef727b49">  334</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a4640d2d1c04caaaa38cd2ed2bc5edf07">Topics</a> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#a012dbe252916bd068994eb60ef727b49">subscribed_topics_</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore_1_1Subscriber.html#aabaa2588f36c18538b601b0653d8e176">  338</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#aee65ee7b8d2cddda0a0962875831b424">TransientEntryMap</a> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html#aabaa2588f36c18538b601b0653d8e176">transient_entries_</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  };</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a84545877ccf8c2285ce33a64a68c34b9">  343</a></span>&#160;  boost::mutex <a class="code" href="classimpala_1_1Statestore.html#a84545877ccf8c2285ce33a64a68c34b9">subscribers_lock_</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> boost::unordered_map&lt;SubscriberId, boost::shared_ptr&lt;Subscriber&gt; &gt;</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aa2fb145d5973e7c5096b3a41b5b873d4">  354</a></span>&#160;    <a class="code" href="classimpala_1_1Statestore.html#aa2fb145d5973e7c5096b3a41b5b873d4">SubscriberMap</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a681905c390a9acfd52155714197ecde7">  355</a></span>&#160;  <a class="code" href="classimpala_1_1Statestore.html#aa2fb145d5973e7c5096b3a41b5b873d4">SubscriberMap</a> <a class="code" href="classimpala_1_1Statestore.html#a681905c390a9acfd52155714197ecde7">subscribers_</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aae79f6a7fdeb4ad70eeac07ebdaca4d8">  358</a></span>&#160;  boost::uuids::random_generator <a class="code" href="classimpala_1_1Statestore.html#aae79f6a7fdeb4ad70eeac07ebdaca4d8">subscriber_uuid_generator_</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a93e019fa9dd70a1d3e8517fa23bb521f">  363</a></span>&#160;  <span class="keyword">typedef</span> std::pair&lt;int64_t, SubscriberId&gt; <a class="code" href="classimpala_1_1Statestore.html#a93e019fa9dd70a1d3e8517fa23bb521f">ScheduledSubscriberUpdate</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span>  <span class="comment">//</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span>  <span class="comment">//</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span>  <span class="comment">//</span></div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aab6839fcfaa01c7156e154ec6f7b2a85">  393</a></span>&#160;<span class="comment"></span>  <a class="code" href="classimpala_1_1ThreadPool.html">ThreadPool&lt;ScheduledSubscriberUpdate&gt;</a> <a class="code" href="classimpala_1_1Statestore.html#aab6839fcfaa01c7156e154ec6f7b2a85">subscriber_topic_update_threadpool_</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aac3eeb1ecc61e47036502c831264d6bb">  395</a></span>&#160;  <a class="code" href="classimpala_1_1ThreadPool.html">ThreadPool&lt;ScheduledSubscriberUpdate&gt;</a> <a class="code" href="classimpala_1_1Statestore.html#aac3eeb1ecc61e47036502c831264d6bb">subscriber_heartbeat_threadpool_</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a8a1567067c591f833904ba168d8d1e6b">  399</a></span>&#160;  boost::scoped_ptr&lt;ClientCache&lt;StatestoreSubscriberClient&gt; &gt; <a class="code" href="classimpala_1_1Statestore.html#a8a1567067c591f833904ba168d8d1e6b">update_state_client_cache_</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a70703b29f5be5305b1500d0db65b65eb">  405</a></span>&#160;  boost::scoped_ptr&lt;ClientCache&lt;StatestoreSubscriberClient&gt; &gt; <a class="code" href="classimpala_1_1Statestore.html#a70703b29f5be5305b1500d0db65b65eb">heartbeat_client_cache_</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a974f0500b5ff6e3a1dd5756539ceb1d0">  408</a></span>&#160;  boost::shared_ptr&lt;StatestoreServiceIf&gt; <a class="code" href="classimpala_1_1Statestore.html#a974f0500b5ff6e3a1dd5756539ceb1d0">thrift_iface_</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a6bccbe9bdaa6909f46114243deb94f0b">  413</a></span>&#160;  boost::scoped_ptr&lt;MissedHeartbeatFailureDetector&gt; <a class="code" href="classimpala_1_1Statestore.html#a6bccbe9bdaa6909f46114243deb94f0b">failure_detector_</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a45098f334ca982ec32e9c7ddb1692ace">  416</a></span>&#160;  <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore.html#a45098f334ca982ec32e9c7ddb1692ace">num_subscribers_metric_</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a903ebd333a892ed83912003bd07469c6">  417</a></span>&#160;  <a class="code" href="classimpala_1_1SetMetric.html">SetMetric&lt;std::string&gt;</a>* <a class="code" href="classimpala_1_1Statestore.html#a903ebd333a892ed83912003bd07469c6">subscriber_set_metric_</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aecea628085eb81d21827b65779daa459">  420</a></span>&#160;  <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore.html#aecea628085eb81d21827b65779daa459">key_size_metric_</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a48e3c83af13b7c3734c03222318511a6">  421</a></span>&#160;  <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore.html#a48e3c83af13b7c3734c03222318511a6">value_size_metric_</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#aaf97192502cea5d98512db2234003cf2">  422</a></span>&#160;  <a class="code" href="classIntGauge.html">IntGauge</a>* <a class="code" href="classimpala_1_1Statestore.html#aaf97192502cea5d98512db2234003cf2">topic_size_metric_</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a217253fcf08452141617566fea00b7c5">  427</a></span>&#160;  <a class="code" href="classimpala_1_1StatsMetric.html">StatsMetric&lt;double&gt;</a>* <a class="code" href="classimpala_1_1Statestore.html#a217253fcf08452141617566fea00b7c5">topic_update_duration_metric_</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="classimpala_1_1Statestore.html#a43b8c8909398fbaa656cf21a0c562845">  430</a></span>&#160;  <a class="code" href="classimpala_1_1StatsMetric.html">StatsMetric&lt;double&gt;</a>* <a class="code" href="classimpala_1_1Statestore.html#a43b8c8909398fbaa656cf21a0c562845">heartbeat_duration_metric_</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="classimpala_1_1Status.html">Status</a> <a class="code" href="classimpala_1_1Statestore.html#a27168a236615a91d33362d6f657cc610">OfferUpdate</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#a93e019fa9dd70a1d3e8517fa23bb521f">ScheduledSubscriberUpdate</a>&amp; update,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="classimpala_1_1ThreadPool.html">ThreadPool&lt;ScheduledSubscriberUpdate&gt;</a>* thread_pool);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#acf6d3f87b43bd8a527f8a968808794fb">DoSubscriberUpdate</a>(<span class="keywordtype">bool</span> is_heartbeat, <span class="keywordtype">int</span> thread_id,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#a93e019fa9dd70a1d3e8517fa23bb521f">ScheduledSubscriberUpdate</a>&amp; update);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"></span>  <a class="code" href="classimpala_1_1Status.html">Status</a> <a class="code" href="classimpala_1_1Statestore.html#a32ab690647d68de4d7da639f6f92d668">SendTopicUpdate</a>(<a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html">Subscriber</a>* subscriber, <span class="keywordtype">bool</span>* update_skipped);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classimpala_1_1Status.html">Status</a> <a class="code" href="classimpala_1_1Statestore.html#a7ca03deee167183704d862b9a7fb1440">SendHeartbeat</a>(<a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html">Subscriber</a>* subscriber);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#af6ce3b7b1219800b19cbd1dacb8d3834">UnregisterSubscriber</a>(<a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html">Subscriber</a>* subscriber);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#a0ff294c750e884a2a516b8649315935c">GatherTopicUpdates</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore_1_1Subscriber.html">Subscriber</a>&amp; subscriber,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      TUpdateStateRequest* update_state_request);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"></span>  <span class="comment">//</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classuint64__t.html">TopicEntry::Version</a> <a class="code" href="classimpala_1_1Statestore.html#ae385c0cea6fd82a43e84c6d230cd3bb4">GetMinSubscriberTopicVersion</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">TopicId</a>&amp; topic_id,</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">SubscriberId</a>* subscriber_id = NULL);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classimpala_1_1Statestore.html#a1f91f4babf7e39aecf1cea18e335a7fb">ShouldExit</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#a8bee97c2c9e7fef3fb9be1fc8467bfff">TopicsHandler</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">Webserver::ArgumentMap</a>&amp; args, rapidjson::Document* document);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classimpala_1_1Statestore.html#ad8eb2be0de4d199162fda8de274021e1">SubscribersHandler</a>(<span class="keyword">const</span> <a class="code" href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">Webserver::ArgumentMap</a>&amp; args,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      rapidjson::Document* document);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;};</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aca13dce0412db31ab857ee45bf92ca46"><div class="ttname"><a href="classimpala_1_1Statestore.html#aca13dce0412db31ab857ee45bf92ca46">impala::Statestore::RegisterSubscriber</a></div><div class="ttdeci">Status RegisterSubscriber(const SubscriberId &amp;subscriber_id, const TNetworkAddress &amp;location, const std::vector&lt; TTopicRegistration &gt; &amp;topic_registrations, TUniqueId *registration_id)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00352">statestore.cc:352</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a70703b29f5be5305b1500d0db65b65eb"><div class="ttname"><a href="classimpala_1_1Statestore.html#a70703b29f5be5305b1500d0db65b65eb">impala::Statestore::heartbeat_client_cache_</a></div><div class="ttdeci">boost::scoped_ptr&lt; ClientCache&lt; StatestoreSubscriberClient &gt; &gt; heartbeat_client_cache_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00405">statestore.h:405</a></div></div>
<div class="ttc" id="timestamp-value_8h_html"><div class="ttname"><a href="timestamp-value_8h.html">timestamp-value.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a4cd28d730845be90c56a21fb83de38d2"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a4cd28d730845be90c56a21fb83de38d2">impala::Statestore::Topic::last_version_</a></div><div class="ttdeci">TopicEntry::Version last_version_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00220">statestore.h:220</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a1fe4ea9070302cb11faa8b3f1c705ad4"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a1fe4ea9070302cb11faa8b3f1c705ad4">impala::Statestore::TopicEntry::NULL_VALUE</a></div><div class="ttdeci">static const Value NULL_VALUE</div><div class="ttdoc">Representation of an empty Value. Must have size() == 0. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00141">statestore.h:141</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a43b45e74957c15bea41eec85e2d3a0e3"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a43b45e74957c15bea41eec85e2d3a0e3">impala::Statestore::Subscriber::network_address</a></div><div class="ttdeci">const TNetworkAddress &amp; network_address() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00287">statestore.h:287</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aaf97192502cea5d98512db2234003cf2"><div class="ttname"><a href="classimpala_1_1Statestore.html#aaf97192502cea5d98512db2234003cf2">impala::Statestore::topic_size_metric_</a></div><div class="ttdeci">IntGauge * topic_size_metric_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00422">statestore.h:422</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a93e019fa9dd70a1d3e8517fa23bb521f"><div class="ttname"><a href="classimpala_1_1Statestore.html#a93e019fa9dd70a1d3e8517fa23bb521f">impala::Statestore::ScheduledSubscriberUpdate</a></div><div class="ttdeci">std::pair&lt; int64_t, SubscriberId &gt; ScheduledSubscriberUpdate</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00363">statestore.h:363</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html">impala::Statestore::TopicEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00127">statestore.h:127</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a335b6ddf994cd2400eaf09ea01fa001a"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a335b6ddf994cd2400eaf09ea01fa001a">impala::Statestore::Topic::total_value_size_bytes</a></div><div class="ttdeci">int64_t total_value_size_bytes() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00209">statestore.h:209</a></div></div>
<div class="ttc" id="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState_html_a9766b0047de52c388cdd5da5b27f5e66"><div class="ttname"><a href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html#a9766b0047de52c388cdd5da5b27f5e66">impala::Statestore::Subscriber::TopicState::is_transient</a></div><div class="ttdeci">bool is_transient</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00275">statestore.h:275</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a43085f84205d13813d549edca5b2b5f1"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a43085f84205d13813d549edca5b2b5f1">impala::Statestore::TopicEntry::Value</a></div><div class="ttdeci">std::string Value</div><div class="ttdoc">A Value is a string of bytes, for which std::string is a convenient representation. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00130">statestore.h:130</a></div></div>
<div class="ttc" id="classIntGauge_html"><div class="ttname"><a href="classIntGauge.html">IntGauge</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a38ad9ed600af18f86ff873b7306d84a6"><div class="ttname"><a href="classimpala_1_1Statestore.html#a38ad9ed600af18f86ff873b7306d84a6">impala::Statestore::Statestore</a></div><div class="ttdeci">Statestore(MetricGroup *metrics)</div><div class="ttdoc">The only constructor; initialises member variables only. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00211">statestore.cc:211</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_aa7e506e4d5969d993bcc6899a6489143"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#aa7e506e4d5969d993bcc6899a6489143">impala::Statestore::TopicEntry::SetValue</a></div><div class="ttdeci">void SetValue(const Value &amp;bytes, Version version)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00120">statestore.cc:120</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a5db4624c47b5316465d77421c62ce50d"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a5db4624c47b5316465d77421c62ce50d">impala::Statestore::Subscriber::registration_id_</a></div><div class="ttdeci">const TUniqueId registration_id_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00325">statestore.h:325</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aa2fb145d5973e7c5096b3a41b5b873d4"><div class="ttname"><a href="classimpala_1_1Statestore.html#aa2fb145d5973e7c5096b3a41b5b873d4">impala::Statestore::SubscriberMap</a></div><div class="ttdeci">boost::unordered_map&lt; SubscriberId, boost::shared_ptr&lt; Subscriber &gt; &gt; SubscriberMap</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00354">statestore.h:354</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_aee65ee7b8d2cddda0a0962875831b424"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#aee65ee7b8d2cddda0a0962875831b424">impala::Statestore::Subscriber::TransientEntryMap</a></div><div class="ttdeci">boost::unordered_map&lt; std::pair&lt; TopicId, TopicEntryKey &gt;, TopicEntry::Version &gt; TransientEntryMap</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00302">statestore.h:302</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_af33307e14226476bb11ef2566e16da4c"><div class="ttname"><a href="classimpala_1_1Statestore.html#af33307e14226476bb11ef2566e16da4c">impala::Statestore::RegisterWebpages</a></div><div class="ttdeci">void RegisterWebpages(Webserver *webserver)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00253">statestore.cc:253</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a66962e0e81300a89c78016cc063e4b81"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a66962e0e81300a89c78016cc063e4b81">impala::Statestore::Topic::topic_update_log</a></div><div class="ttdeci">const TopicUpdateLog &amp; topic_update_log() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00207">statestore.h:207</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html"><div class="ttname"><a href="classimpala_1_1Statestore.html">impala::Statestore</a></div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00079">statestore.h:79</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_ac4143fcb1dc18aedfb12f9e68699a192"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#ac4143fcb1dc18aedfb12f9e68699a192">impala::Statestore::TopicEntry::value</a></div><div class="ttdeci">const Value &amp; value() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00151">statestore.h:151</a></div></div>
<div class="ttc" id="classimpala_1_1MetricGroup_html"><div class="ttname"><a href="classimpala_1_1MetricGroup.html">impala::MetricGroup</a></div><div class="ttdoc">MetricGroups may be organised hierarchically as a tree. </div><div class="ttdef"><b>Definition:</b> <a href="metrics_8h_source.html#l00200">metrics.h:200</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a8a1567067c591f833904ba168d8d1e6b"><div class="ttname"><a href="classimpala_1_1Statestore.html#a8a1567067c591f833904ba168d8d1e6b">impala::Statestore::update_state_client_cache_</a></div><div class="ttdeci">boost::scoped_ptr&lt; ClientCache&lt; StatestoreSubscriberClient &gt; &gt; update_state_client_cache_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00399">statestore.h:399</a></div></div>
<div class="ttc" id="client-cache_8h_html"><div class="ttname"><a href="client-cache_8h.html">client-cache.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a8bee97c2c9e7fef3fb9be1fc8467bfff"><div class="ttname"><a href="classimpala_1_1Statestore.html#a8bee97c2c9e7fef3fb9be1fc8467bfff">impala::Statestore::TopicsHandler</a></div><div class="ttdeci">void TopicsHandler(const Webserver::ArgumentMap &amp;args, rapidjson::Document *document)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00265">statestore.cc:265</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_ae59bd2918a8e5d8afe0af133891801ae"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#ae59bd2918a8e5d8afe0af133891801ae">impala::Statestore::Subscriber::subscriber_id_</a></div><div class="ttdeci">const SubscriberId subscriber_id_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00319">statestore.h:319</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_aabaa2588f36c18538b601b0653d8e176"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#aabaa2588f36c18538b601b0653d8e176">impala::Statestore::Subscriber::transient_entries_</a></div><div class="ttdeci">TransientEntryMap transient_entries_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00338">statestore.h:338</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a429edcac0bc1dce23a67583e351f833a"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a429edcac0bc1dce23a67583e351f833a">impala::Statestore::Topic::total_key_size_bytes_</a></div><div class="ttdeci">int64_t total_key_size_bytes_</div><div class="ttdoc">Total memory occupied by the key strings, in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00233">statestore.h:233</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a0cac9e9b496e962d916dcd1babdd5524"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a0cac9e9b496e962d916dcd1babdd5524">impala::Statestore::Subscriber::Subscriber</a></div><div class="ttdeci">Subscriber(const SubscriberId &amp;subscriber_id, const TUniqueId &amp;registration_id, const TNetworkAddress &amp;network_address, const std::vector&lt; TTopicRegistration &gt; &amp;subscribed_topics)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00175">statestore.cc:175</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_ad31bb2437024c9e3c13704fa92d58173"><div class="ttname"><a href="classimpala_1_1Statestore.html#ad31bb2437024c9e3c13704fa92d58173">impala::Statestore::SubscriberId</a></div><div class="ttdeci">std::string SubscriberId</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00083">statestore.h:83</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_acb012182c8351ef4b2f07c4b496a1959"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#acb012182c8351ef4b2f07c4b496a1959">impala::Statestore::Topic::key_size_metric_</a></div><div class="ttdeci">IntGauge * key_size_metric_</div><div class="ttdoc">Metrics shared across all topics to sum the size in bytes of keys, values and both. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00239">statestore.h:239</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a148294b3de37014d88d0758da0b39f9e"><div class="ttname"><a href="classimpala_1_1Statestore.html#a148294b3de37014d88d0758da0b39f9e">impala::Statestore::TopicEntryKey</a></div><div class="ttdeci">std::string TopicEntryKey</div><div class="ttdoc">A TopicEntryKey uniquely identifies a single entry in a topic. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00089">statestore.h:89</a></div></div>
<div class="ttc" id="classimpala_1_1StatsMetric_html"><div class="ttname"><a href="classimpala_1_1StatsMetric.html">impala::StatsMetric&lt; double &gt;</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a903ebd333a892ed83912003bd07469c6"><div class="ttname"><a href="classimpala_1_1Statestore.html#a903ebd333a892ed83912003bd07469c6">impala::Statestore::subscriber_set_metric_</a></div><div class="ttdeci">SetMetric&lt; std::string &gt; * subscriber_set_metric_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00417">statestore.h:417</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_afa55a207badfb2c6b464f0a18669dab8"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#afa55a207badfb2c6b464f0a18669dab8">impala::Statestore::Subscriber::id</a></div><div class="ttdeci">const SubscriberId &amp; id() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00288">statestore.h:288</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_af9afc866cf318bd60256e29c5a77ead6"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#af9afc866cf318bd60256e29c5a77ead6">impala::Statestore::Topic::total_value_size_bytes_</a></div><div class="ttdeci">int64_t total_value_size_bytes_</div><div class="ttdoc">Total memory occupied by the value byte strings, in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00236">statestore.h:236</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html">impala::Statestore::Topic</a></div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00178">statestore.h:178</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a597a7f16efbc20524354366574ec2a54"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a597a7f16efbc20524354366574ec2a54">impala::Statestore::Subscriber::transient_entries</a></div><div class="ttdeci">const TransientEntryMap &amp; transient_entries() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00304">statestore.h:304</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a661aa8272df55f327c0f8417bff85faa"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a661aa8272df55f327c0f8417bff85faa">impala::Statestore::TopicEntry::value_</a></div><div class="ttdeci">Value value_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00158">statestore.h:158</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a21ea7c1cd68b125380849b98eb2de389"><div class="ttname"><a href="classimpala_1_1Statestore.html#a21ea7c1cd68b125380849b98eb2de389">impala::Statestore::TopicMap</a></div><div class="ttdeci">boost::unordered_map&lt; TopicId, Topic &gt; TopicMap</div><div class="ttdoc">The entire set of topics tracked by the statestore. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00257">statestore.h:257</a></div></div>
<div class="ttc" id="classimpala_1_1Webserver_html_ac9f7aacffabb53e5c203ea7a3652802b"><div class="ttname"><a href="classimpala_1_1Webserver.html#ac9f7aacffabb53e5c203ea7a3652802b">impala::Webserver::ArgumentMap</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; ArgumentMap</div><div class="ttdef"><b>Definition:</b> <a href="webserver_8h_source.html#l00036">webserver.h:36</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_ae48814ae131eed38d82dde83ec060618"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#ae48814ae131eed38d82dde83ec060618">impala::Statestore::Topic::entries</a></div><div class="ttdeci">const TopicEntryMap &amp; entries() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00205">statestore.h:205</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a50e27d3eb1638a93dc67f0eb3c469604"><div class="ttname"><a href="classimpala_1_1Statestore.html#a50e27d3eb1638a93dc67f0eb3c469604">impala::Statestore::TopicEntryMap</a></div><div class="ttdeci">boost::unordered_map&lt; TopicEntryKey, TopicEntry &gt; TopicEntryMap</div><div class="ttdoc">Map from TopicEntryKey to TopicEntry, maintained by a Topic object. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00167">statestore.h:167</a></div></div>
<div class="ttc" id="classimpala_1_1Status_html"><div class="ttname"><a href="classimpala_1_1Status.html">impala::Status</a></div><div class="ttdef"><b>Definition:</b> <a href="status_8h_source.html#l00081">status.h:81</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a13752ca2d3057766b6a223be479c3720"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a13752ca2d3057766b6a223be479c3720">impala::Statestore::TopicEntry::version</a></div><div class="ttdeci">uint64_t version() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00152">statestore.h:152</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a43b8c8909398fbaa656cf21a0c562845"><div class="ttname"><a href="classimpala_1_1Statestore.html#a43b8c8909398fbaa656cf21a0c562845">impala::Statestore::heartbeat_duration_metric_</a></div><div class="ttdeci">StatsMetric&lt; double &gt; * heartbeat_duration_metric_</div><div class="ttdoc">Same as above, but for SendHeartbeat() RPCs. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00430">statestore.h:430</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a8e854bed1ee8ffceee8182d93465c8e3"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a8e854bed1ee8ffceee8182d93465c8e3">impala::Statestore::Subscriber::TOPIC_INITIAL_VERSION</a></div><div class="ttdeci">static const TopicEntry::Version TOPIC_INITIAL_VERSION</div><div class="ttdoc">The Version value used to initialize new Topic subscriptions for this Subscriber. ...</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00284">statestore.h:284</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a1f91f4babf7e39aecf1cea18e335a7fb"><div class="ttname"><a href="classimpala_1_1Statestore.html#a1f91f4babf7e39aecf1cea18e335a7fb">impala::Statestore::ShouldExit</a></div><div class="ttdeci">bool ShouldExit()</div><div class="ttdoc">True if the shutdown flag has been set true, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00576">statestore.cc:576</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_ad96453d1864f0283e17da391a23bbaef"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#ad96453d1864f0283e17da391a23bbaef">impala::Statestore::Topic::Topic</a></div><div class="ttdeci">Topic(const TopicId &amp;topic_id, IntGauge *key_size_metric, IntGauge *value_size_metric, IntGauge *topic_size_metric)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00180">statestore.h:180</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aae79f6a7fdeb4ad70eeac07ebdaca4d8"><div class="ttname"><a href="classimpala_1_1Statestore.html#aae79f6a7fdeb4ad70eeac07ebdaca4d8">impala::Statestore::subscriber_uuid_generator_</a></div><div class="ttdeci">boost::uuids::random_generator subscriber_uuid_generator_</div><div class="ttdoc">Used to generated unique IDs for each new registration. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00358">statestore.h:358</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aab6839fcfaa01c7156e154ec6f7b2a85"><div class="ttname"><a href="classimpala_1_1Statestore.html#aab6839fcfaa01c7156e154ec6f7b2a85">impala::Statestore::subscriber_topic_update_threadpool_</a></div><div class="ttdeci">ThreadPool&lt; ScheduledSubscriberUpdate &gt; subscriber_topic_update_threadpool_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00393">statestore.h:393</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_ab8ef96a5c7b923d5cf72f6b360b40081"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#ab8ef96a5c7b923d5cf72f6b360b40081">impala::Statestore::TopicEntry::length</a></div><div class="ttdeci">uint32_t length() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00153">statestore.h:153</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aa0a261a02804c62cb4b204a498e2e3ed"><div class="ttname"><a href="classimpala_1_1Statestore.html#aa0a261a02804c62cb4b204a498e2e3ed">impala::Statestore::TopicId</a></div><div class="ttdeci">std::string TopicId</div><div class="ttdoc">A TopicId uniquely identifies a single topic. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00086">statestore.h:86</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a4bc848a4229fb6a8e906a8788e386d0a"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a4bc848a4229fb6a8e906a8788e386d0a">impala::Statestore::TopicEntry::Version</a></div><div class="ttdeci">uint64_t Version</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00135">statestore.h:135</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a32ab690647d68de4d7da639f6f92d668"><div class="ttname"><a href="classimpala_1_1Statestore.html#a32ab690647d68de4d7da639f6f92d668">impala::Statestore::SendTopicUpdate</a></div><div class="ttdeci">Status SendTopicUpdate(Subscriber *subscriber, bool *update_skipped)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00399">statestore.cc:399</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a1167ae369af0adbec05e6f606b3be13b"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a1167ae369af0adbec05e6f606b3be13b">impala::Statestore::Topic::topic_size_metric_</a></div><div class="ttdeci">IntGauge * topic_size_metric_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00241">statestore.h:241</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a92893a1cf64857f202277355dddca21a"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a92893a1cf64857f202277355dddca21a">impala::Statestore::Subscriber::AddTransientUpdate</a></div><div class="ttdeci">void AddTransientUpdate(const TopicId &amp;topic_id, const TopicEntryKey &amp;topic_key, TopicEntry::Version version)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00189">statestore.cc:189</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a45098f334ca982ec32e9c7ddb1692ace"><div class="ttname"><a href="classimpala_1_1Statestore.html#a45098f334ca982ec32e9c7ddb1692ace">impala::Statestore::num_subscribers_metric_</a></div><div class="ttdeci">IntGauge * num_subscribers_metric_</div><div class="ttdoc">Metric that track the registered, non-failed subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00416">statestore.h:416</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a89e944c6264982e1a6673d9ef332fce5"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a89e944c6264982e1a6673d9ef332fce5">impala::Statestore::TopicEntry::version_</a></div><div class="ttdeci">Version version_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00163">statestore.h:163</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_ad8eb2be0de4d199162fda8de274021e1"><div class="ttname"><a href="classimpala_1_1Statestore.html#ad8eb2be0de4d199162fda8de274021e1">impala::Statestore::SubscribersHandler</a></div><div class="ttdeci">void SubscribersHandler(const Webserver::ArgumentMap &amp;args, rapidjson::Document *document)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00307">statestore.cc:307</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a48e3c83af13b7c3734c03222318511a6"><div class="ttname"><a href="classimpala_1_1Statestore.html#a48e3c83af13b7c3734c03222318511a6">impala::Statestore::value_size_metric_</a></div><div class="ttdeci">IntGauge * value_size_metric_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00421">statestore.h:421</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_ae33572cf95140e8ef59a5a7f2bfd4999"><div class="ttname"><a href="classimpala_1_1Statestore.html#ae33572cf95140e8ef59a5a7f2bfd4999">impala::Statestore::exit_flag_lock_</a></div><div class="ttdeci">boost::mutex exit_flag_lock_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00250">statestore.h:250</a></div></div>
<div class="ttc" id="classimpala_1_1ThreadPool_html"><div class="ttname"><a href="classimpala_1_1ThreadPool.html">impala::ThreadPool&lt; ScheduledSubscriberUpdate &gt;</a></div></div>
<div class="ttc" id="collection-metrics_8h_html"><div class="ttname"><a href="collection-metrics_8h.html">collection-metrics.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a713713b3acd899b651f1decd0979b9df"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a713713b3acd899b651f1decd0979b9df">impala::Statestore::Topic::total_key_size_bytes</a></div><div class="ttdeci">int64_t total_key_size_bytes() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00208">statestore.h:208</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a217253fcf08452141617566fea00b7c5"><div class="ttname"><a href="classimpala_1_1Statestore.html#a217253fcf08452141617566fea00b7c5">impala::Statestore::topic_update_duration_metric_</a></div><div class="ttdeci">StatsMetric&lt; double &gt; * topic_update_duration_metric_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00427">statestore.h:427</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aecea628085eb81d21827b65779daa459"><div class="ttname"><a href="classimpala_1_1Statestore.html#aecea628085eb81d21827b65779daa459">impala::Statestore::key_size_metric_</a></div><div class="ttdeci">IntGauge * key_size_metric_</div><div class="ttdoc">Metrics shared across all topics to sum the size in bytes of keys, values and both. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00420">statestore.h:420</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a6a1c4f84f17fa20620e1399328d4ada1"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a6a1c4f84f17fa20620e1399328d4ada1">impala::Statestore::Topic::DeleteIfVersionsMatch</a></div><div class="ttdeci">void DeleteIfVersionsMatch(TopicEntry::Version version, const TopicEntryKey &amp;key)</div><div class="ttdoc">Must be called holding the topic lock. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00158">statestore.cc:158</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a65c5897d8ce8757d5deb8b1caca6d658"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a65c5897d8ce8757d5deb8b1caca6d658">impala::Statestore::Subscriber::SetLastTopicVersionProcessed</a></div><div class="ttdeci">void SetLastTopicVersionProcessed(const TopicId &amp;topic_id, TopicEntry::Version version)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00206">statestore.cc:206</a></div></div>
<div class="ttc" id="classuint64__t_html"><div class="ttname"><a href="classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a974f0500b5ff6e3a1dd5756539ceb1d0"><div class="ttname"><a href="classimpala_1_1Statestore.html#a974f0500b5ff6e3a1dd5756539ceb1d0">impala::Statestore::thrift_iface_</a></div><div class="ttdeci">boost::shared_ptr&lt; StatestoreServiceIf &gt; thrift_iface_</div><div class="ttdoc">Thrift API implementation which proxies requests onto this Statestore. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00408">statestore.h:408</a></div></div>
<div class="ttc" id="classimpala_1_1SetMetric_html"><div class="ttname"><a href="classimpala_1_1SetMetric.html">impala::SetMetric&lt; std::string &gt;</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_ad9fde1ee2cf603d6dcceb823d29d103a"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#ad9fde1ee2cf603d6dcceb823d29d103a">impala::Statestore::Topic::last_version</a></div><div class="ttdeci">TopicEntry::Version last_version() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00206">statestore.h:206</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a0ff294c750e884a2a516b8649315935c"><div class="ttname"><a href="classimpala_1_1Statestore.html#a0ff294c750e884a2a516b8649315935c">impala::Statestore::GatherTopicUpdates</a></div><div class="ttdeci">void GatherTopicUpdates(const Subscriber &amp;subscriber, TUpdateStateRequest *update_state_request)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00484">statestore.cc:484</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a6bccbe9bdaa6909f46114243deb94f0b"><div class="ttname"><a href="classimpala_1_1Statestore.html#a6bccbe9bdaa6909f46114243deb94f0b">impala::Statestore::failure_detector_</a></div><div class="ttdeci">boost::scoped_ptr&lt; MissedHeartbeatFailureDetector &gt; failure_detector_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00413">statestore.h:413</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a6c0f18f5abc8e262d4de71dbf5ecdc75"><div class="ttname"><a href="classimpala_1_1Statestore.html#a6c0f18f5abc8e262d4de71dbf5ecdc75">impala::Statestore::exit_flag_</a></div><div class="ttdeci">bool exit_flag_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00251">statestore.h:251</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_af6ce3b7b1219800b19cbd1dacb8d3834"><div class="ttname"><a href="classimpala_1_1Statestore.html#af6ce3b7b1219800b19cbd1dacb8d3834">impala::Statestore::UnregisterSubscriber</a></div><div class="ttdeci">void UnregisterSubscriber(Subscriber *subscriber)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00714">statestore.cc:714</a></div></div>
<div class="ttc" id="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState_html_ad64455dcf2e7ceaff3f333cbc670001b"><div class="ttname"><a href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html#ad64455dcf2e7ceaff3f333cbc670001b">impala::Statestore::Subscriber::TopicState::last_version</a></div><div class="ttdeci">TopicEntry::Version last_version</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00276">statestore.h:276</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a4640d2d1c04caaaa38cd2ed2bc5edf07"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a4640d2d1c04caaaa38cd2ed2bc5edf07">impala::Statestore::Subscriber::Topics</a></div><div class="ttdeci">boost::unordered_map&lt; TopicId, TopicState &gt; Topics</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00281">statestore.h:281</a></div></div>
<div class="ttc" id="failure-detector_8h_html"><div class="ttname"><a href="failure-detector_8h.html">failure-detector.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a3ae8cf4fb50ec82d873ee6548e006e7e"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a3ae8cf4fb50ec82d873ee6548e006e7e">impala::Statestore::Topic::entries_</a></div><div class="ttdeci">TopicEntryMap entries_</div><div class="ttdoc">Map from topic entry key to topic entry. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00213">statestore.h:213</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a681905c390a9acfd52155714197ecde7"><div class="ttname"><a href="classimpala_1_1Statestore.html#a681905c390a9acfd52155714197ecde7">impala::Statestore::subscribers_</a></div><div class="ttdeci">SubscriberMap subscribers_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00355">statestore.h:355</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html">impala::Statestore::Subscriber</a></div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00265">statestore.h:265</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a6f8eea8bc411392a68d0ba4cabaa7028"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a6f8eea8bc411392a68d0ba4cabaa7028">impala::Statestore::Topic::Put</a></div><div class="ttdeci">TopicEntry::Version Put(const TopicEntryKey &amp;key, const TopicEntry::Value &amp;bytes)</div><div class="ttdoc">Must be called holding the topic lock. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00127">statestore.cc:127</a></div></div>
<div class="ttc" id="thread-pool_8h_html"><div class="ttname"><a href="thread-pool_8h.html">thread-pool.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a900beb10e6d07c001db91a8c21242351"><div class="ttname"><a href="classimpala_1_1Statestore.html#a900beb10e6d07c001db91a8c21242351">impala::Statestore::topics_</a></div><div class="ttdeci">TopicMap topics_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00258">statestore.h:258</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_af2e50b603a88b3057b1fa5aac620924f"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#af2e50b603a88b3057b1fa5aac620924f">impala::Statestore::TopicEntry::TopicEntry</a></div><div class="ttdeci">TopicEntry()</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00149">statestore.h:149</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_ac8c7b9c8f5214eae08e18ff77e40b173"><div class="ttname"><a href="classimpala_1_1Statestore.html#ac8c7b9c8f5214eae08e18ff77e40b173">impala::Statestore::MainLoop</a></div><div class="ttdeci">Status MainLoop()</div><div class="ttdoc">The main processing loop. Blocks until the exit flag is set. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00743">statestore.cc:743</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_abb848a36c94cba0c2b14809821a53297"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#abb848a36c94cba0c2b14809821a53297">impala::Statestore::Topic::topic_update_log_</a></div><div class="ttdeci">TopicUpdateLog topic_update_log_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00230">statestore.h:230</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_a91c1d1a7c8154e67e1b00b14688ca253"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#a91c1d1a7c8154e67e1b00b14688ca253">impala::Statestore::Topic::id</a></div><div class="ttdeci">const TopicId &amp; id() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00204">statestore.h:204</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_acf6d3f87b43bd8a527f8a968808794fb"><div class="ttname"><a href="classimpala_1_1Statestore.html#acf6d3f87b43bd8a527f8a968808794fb">impala::Statestore::DoSubscriberUpdate</a></div><div class="ttdeci">void DoSubscriberUpdate(bool is_heartbeat, int thread_id, const ScheduledSubscriberUpdate &amp;update)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00606">statestore.cc:606</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aec2c7648de96ffa7bc49ac188510df59"><div class="ttname"><a href="classimpala_1_1Statestore.html#aec2c7648de96ffa7bc49ac188510df59">impala::Statestore::topic_lock_</a></div><div class="ttdeci">boost::mutex topic_lock_</div><div class="ttdoc">Controls access to topics_. Cannot take subscribers_lock_ after acquiring this lock. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00254">statestore.h:254</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aed82da8a591119a7b25fa61da1274073"><div class="ttname"><a href="classimpala_1_1Statestore.html#aed82da8a591119a7b25fa61da1274073">impala::Statestore::thrift_iface</a></div><div class="ttdeci">const boost::shared_ptr&lt; StatestoreServiceIf &gt; &amp; thrift_iface() const </div><div class="ttdoc">Returns the Thrift API interface that proxies requests onto the local Statestore. ...</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00115">statestore.h:115</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aac3eeb1ecc61e47036502c831264d6bb"><div class="ttname"><a href="classimpala_1_1Statestore.html#aac3eeb1ecc61e47036502c831264d6bb">impala::Statestore::subscriber_heartbeat_threadpool_</a></div><div class="ttdeci">ThreadPool&lt; ScheduledSubscriberUpdate &gt; subscriber_heartbeat_threadpool_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00395">statestore.h:395</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_ad87af0677174d6c3024523a38a984183"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#ad87af0677174d6c3024523a38a984183">impala::Statestore::Topic::topic_id_</a></div><div class="ttdeci">const TopicId topic_id_</div><div class="ttdoc">Unique identifier for this topic. Should be human-readable. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00216">statestore.h:216</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a602378fd065152e44e7c3c1e61e6dfc9"><div class="ttname"><a href="classimpala_1_1Statestore.html#a602378fd065152e44e7c3c1e61e6dfc9">impala::Statestore::SetExitFlag</a></div><div class="ttdeci">void SetExitFlag()</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00581">statestore.cc:581</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a047619315bc9f51f403565a035b2138e"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a047619315bc9f51f403565a035b2138e">impala::Statestore::Subscriber::subscribed_topics</a></div><div class="ttdeci">const Topics &amp; subscribed_topics() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00286">statestore.h:286</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a27168a236615a91d33362d6f657cc610"><div class="ttname"><a href="classimpala_1_1Statestore.html#a27168a236615a91d33362d6f657cc610">impala::Statestore::OfferUpdate</a></div><div class="ttdeci">Status OfferUpdate(const ScheduledSubscriberUpdate &amp;update, ThreadPool&lt; ScheduledSubscriberUpdate &gt; *thread_pool)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00335">statestore.cc:335</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_aeca08620cc2431de3037a8d9c56d4491"><div class="ttname"><a href="classimpala_1_1Statestore.html#aeca08620cc2431de3037a8d9c56d4491">impala::Statestore::TopicUpdateLog</a></div><div class="ttdeci">std::map&lt; TopicEntry::Version, TopicEntryKey &gt; TopicUpdateLog</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00171">statestore.h:171</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a84545877ccf8c2285ce33a64a68c34b9"><div class="ttname"><a href="classimpala_1_1Statestore.html#a84545877ccf8c2285ce33a64a68c34b9">impala::Statestore::subscribers_lock_</a></div><div class="ttdeci">boost::mutex subscribers_lock_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00343">statestore.h:343</a></div></div>
<div class="ttc" id="thrift-client_8h_html"><div class="ttname"><a href="thrift-client_8h.html">thrift-client.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a69f68a1d5bc9905d3ebdc696c582b2b5"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a69f68a1d5bc9905d3ebdc696c582b2b5">impala::Statestore::Subscriber::LastTopicVersionProcessed</a></div><div class="ttdeci">const TopicEntry::Version LastTopicVersionProcessed(const TopicId &amp;topic_id) const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00199">statestore.cc:199</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_ae385c0cea6fd82a43e84c6d230cd3bb4"><div class="ttname"><a href="classimpala_1_1Statestore.html#ae385c0cea6fd82a43e84c6d230cd3bb4">impala::Statestore::GetMinSubscriberTopicVersion</a></div><div class="ttdeci">const TopicEntry::Version GetMinSubscriberTopicVersion(const TopicId &amp;topic_id, SubscriberId *subscriber_id=NULL)</div><div class="ttdoc">Must be called holding the subscribers_ lock. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00556">statestore.cc:556</a></div></div>
<div class="ttc" id="webserver_8h_html"><div class="ttname"><a href="webserver_8h.html">webserver.h</a></div></div>
<div class="ttc" id="classimpala_1_1Webserver_html"><div class="ttname"><a href="classimpala_1_1Webserver.html">impala::Webserver</a></div><div class="ttdef"><b>Definition:</b> <a href="webserver_8h_source.html#l00034">webserver.h:34</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a012dbe252916bd068994eb60ef727b49"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a012dbe252916bd068994eb60ef727b49">impala::Statestore::Subscriber::subscribed_topics_</a></div><div class="ttdeci">Topics subscribed_topics_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00334">statestore.h:334</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_html_a7ca03deee167183704d862b9a7fb1440"><div class="ttname"><a href="classimpala_1_1Statestore.html#a7ca03deee167183704d862b9a7fb1440">impala::Statestore::SendHeartbeat</a></div><div class="ttdeci">Status SendHeartbeat(Subscriber *subscriber)</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8cc_source.html#l00587">statestore.cc:587</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a688db7f84b248d1ce7ca694919d8af0e"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a688db7f84b248d1ce7ca694919d8af0e">impala::Statestore::Subscriber::registration_id</a></div><div class="ttdeci">const TUniqueId &amp; registration_id() const </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00289">statestore.h:289</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Topic_html_ac06d965e74c1ecd095f85e94778d1fdf"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Topic.html#ac06d965e74c1ecd095f85e94778d1fdf">impala::Statestore::Topic::value_size_metric_</a></div><div class="ttdeci">IntGauge * value_size_metric_</div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00240">statestore.h:240</a></div></div>
<div class="ttc" id="metrics_8h_html"><div class="ttname"><a href="metrics_8h.html">metrics.h</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1Subscriber_html_a5c6a6c08d56f2c16f42cd9650bb0f0ec"><div class="ttname"><a href="classimpala_1_1Statestore_1_1Subscriber.html#a5c6a6c08d56f2c16f42cd9650bb0f0ec">impala::Statestore::Subscriber::network_address_</a></div><div class="ttdeci">const TNetworkAddress network_address_</div><div class="ttdoc">The location of the subscriber service that this subscriber runs. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00328">statestore.h:328</a></div></div>
<div class="ttc" id="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState_html"><div class="ttname"><a href="structimpala_1_1Statestore_1_1Subscriber_1_1TopicState.html">impala::Statestore::Subscriber::TopicState</a></div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00274">statestore.h:274</a></div></div>
<div class="ttc" id="classimpala_1_1Statestore_1_1TopicEntry_html_a3a673231427ea795630a321c5a4c625f"><div class="ttname"><a href="classimpala_1_1Statestore_1_1TopicEntry.html#a3a673231427ea795630a321c5a4c625f">impala::Statestore::TopicEntry::TOPIC_ENTRY_INITIAL_VERSION</a></div><div class="ttdeci">static const Version TOPIC_ENTRY_INITIAL_VERSION</div><div class="ttdoc">The Version value used to initialize a new TopicEntry. </div><div class="ttdef"><b>Definition:</b> <a href="statestore_8h_source.html#l00138">statestore.h:138</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e5d120be6b5e8a44336cbfd013b25604.html">be</a></li><li class="navelem"><a class="el" href="dir_68cf7cafb51a962d5bc4848b83cab0de.html">src</a></li><li class="navelem"><a class="el" href="dir_aa61820f947c9a81fdd16b1964e72790.html">statestore</a></li><li class="navelem"><a class="el" href="statestore_8h.html">statestore.h</a></li>
    <li class="footer">Generated on Thu May 7 2015 16:10:37 for Impala by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
